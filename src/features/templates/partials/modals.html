{% macro setup_donation_modal(username) %}
<div class="modal fade" id="setupDonationModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Setup Monthly Donation</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form action="{{ url_for('setup_donation', username=username) }}" method="POST">
                    <div class="mb-3">
                        <label class="form-label">Donation Amount (BTC)</label>
                        <input type="number" class="form-control" name="amount" step="0.00000001" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Track KPIs</label>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="track_kpis" id="trackKPIs" checked>
                            <label class="form-check-label" for="trackKPIs">
                                Track all active KPIs (Increases Transparency Score)
                            </label>
                        </div>
                    </div>
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary">Confirm Donation</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endmacro %}

{% macro set_kpi_modal(username) %}
<div class="modal fade" id="setKPIModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add New KPI</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form action="{{ url_for('set_kpi', username=username) }}" method="POST">
                    <div class="mb-3">
                        <label class="form-label">KPI Name</label>
                        <input type="text" class="form-control" name="kpi_name" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Description</label>
                        <textarea class="form-control" name="kpi_description" rows="3" required></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Target Value</label>
                        <input type="number" class="form-control" name="target_value" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Current Value</label>
                        <input type="number" class="form-control" name="current_value" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Reporting Frequency</label>
                        <select class="form-select" name="reporting_frequency" required>
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Verification Method</label>
                        <select class="form-select" name="verification_method" required>
                            <option value="manual">Manual Verification</option>
                            <option value="automated">Automated Tracking</option>
                            <option value="community">Community Verification</option>
                        </select>
                    </div>
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary">Add KPI</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endmacro %}

{% macro update_kpi_modal(username, kpi) %}
<div class="modal fade" id="updateKPIModal{{ kpi.id }}" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Update KPI Progress</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form action="{{ url_for('update_kpi', username=username) }}" method="POST">
                    <input type="hidden" name="kpi_id" value="{{ kpi.id }}">
                    <div class="mb-3">
                        <label class="form-label">Current Value</label>
                        <input type="number" class="form-control" name="current_value" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Notes</label>
                        <textarea class="form-control" name="notes" rows="3"></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Verification Evidence</label>
                        <input type="file" class="form-control" name="evidence" accept="image/*,video/*">
                    </div>
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary">Update Progress</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endmacro %} 