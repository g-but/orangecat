# OrangeCat Environment Variables
# This file is managed by direnv - never edit directly!
# Use 'direnv edit .' to modify these variables safely

# Load .env.local if it exists
if [ -f .env.local ]; then
  dotenv .env.local
fi

# Load .env.development if .env.local doesn't exist
if [ ! -f .env.local ] && [ -f .env.development ]; then
  dotenv .env.development
fi

# Note: NODE_ENV is NOT set here to avoid conflicts with Next.js build
# Next.js automatically sets NODE_ENV=production during 'next build'
# and NODE_ENV=development during 'next dev'
export NEXT_PUBLIC_SITE_URL=${NEXT_PUBLIC_SITE_URL:-http://localhost:3000}
export NEXT_PUBLIC_SITE_NAME=${NEXT_PUBLIC_SITE_NAME:-OrangeCat}

# Supabase defaults (will be overridden if set in .env files)
export NEXT_PUBLIC_SUPABASE_URL=${NEXT_PUBLIC_SUPABASE_URL:-https://ohkueislstxomdjavyhs.supabase.co}
export NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=${NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY:-sb_publishable_dhGiaMKRig63bzir2SOGug_UEnFuhfs}

# Bitcoin defaults
export NEXT_PUBLIC_BITCOIN_ADDRESS=${NEXT_PUBLIC_BITCOIN_ADDRESS:-bc1qtkxw47wqlld9t0w7sujycl4mrmc90phypjygf6}
export NEXT_PUBLIC_LIGHTNING_ADDRESS=${NEXT_PUBLIC_LIGHTNING_ADDRESS:-orangecat@getalby.com}

# Validate required variables
if [ -z "$NEXT_PUBLIC_SUPABASE_URL" ] || [ -z "$NEXT_PUBLIC_SUPABASE_ANON_KEY" ]; then
  echo "⚠️  WARNING: Supabase credentials not set!"
  echo "   Run: direnv edit ."
  echo "   Or create .env.local with proper values"
fi

echo "✅ OrangeCat environment loaded"
