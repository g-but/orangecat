#!/usr/bin/env sh

echo "ğŸ§¹ Running pre-commit checks..."

# Fast checks only (target: â‰¤3s)
# Tests moved to pre-push for better developer experience

if command -v lint-staged >/dev/null 2>&1; then
  # Use lint-staged if configured (runs on staged files only)
  npx lint-staged
else
  # Fallback: run basic checks
  echo "âš¡ Running ESLint..."
  npm run lint:check || { echo "âŒ ESLint failed"; exit 1; }
  echo "âœ… ESLint passed"

  echo "ğŸ” Running TypeScript check..."
  npm run type-check || { echo "âŒ TypeScript check failed"; exit 1; }
  echo "âœ… TypeScript check passed"
fi

echo "ğŸ‰ Pre-commit checks passed! (tests will run on push)"
