{"file":"/home/g/dev/orangecat/src/app/__tests__/Home.test.tsx","mappings":";;;;;;AAIA,wBAAwB;AACxB,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,GAAG,EAAE,CAAC,CAAC;IAClC,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE;CACnB,CAAC,CAAC,CAAC;AAEJ,0BAA0B;AAC1B,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,GAAG,EAAE,CAAC,CAAC;IAClC,SAAS,EAAE,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;QACxB,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE;KAChB,CAAC,CAAC;CACJ,CAAC,CAAC,CAAC;AAdJ,kDAA0B;AAC1B,kDAAwD;AACxD,mDAA2B;AAc3B,MAAM,WAAW,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC,OAAO,CAAC;AAEvD,QAAQ,CAAC,MAAM,EAAE,GAAG,EAAE;IACpB,UAAU,CAAC,GAAG,EAAE;QACd,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,yCAAyC,EAAE,GAAG,EAAE;QACjD,WAAW,CAAC,eAAe,CAAC;YAC1B,IAAI,EAAE,IAAI;YACV,SAAS,EAAE,KAAK;YAChB,QAAQ,EAAE,KAAK;SAChB,CAAC,CAAC;QAEH,IAAA,cAAM,EAAC,uBAAC,cAAI,KAAG,CAAC,CAAC;QACjB,MAAM,CAAC,cAAM,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;IAC7D,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,oDAAoD,EAAE,GAAG,EAAE;QAC5D,WAAW,CAAC,eAAe,CAAC;YAC1B,IAAI,EAAE,IAAI;YACV,SAAS,EAAE,IAAI;YACf,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;QAEH,IAAA,cAAM,EAAC,uBAAC,cAAI,KAAG,CAAC,CAAC;QACjB,MAAM,CAAC,cAAM,CAAC,SAAS,CAAC,4BAA4B,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;IAC7E,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,sDAAsD,EAAE,GAAG,EAAE;QAC9D,WAAW,CAAC,eAAe,CAAC;YAC1B,IAAI,EAAE,IAAI;YACV,SAAS,EAAE,KAAK;YAChB,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;QAEH,IAAA,cAAM,EAAC,uBAAC,cAAI,KAAG,CAAC,CAAC;QAEjB,iFAAiF;QACjF,MAAM,OAAO,GAAG,cAAM,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,2BAA2B,EAAE,CAAC,CAAC;QAC7F,MAAM,CAAC,OAAO,CAAC,CAAC,iBAAiB,EAAE,CAAC;QAEpC,+BAA+B;QAC/B,MAAM,CAAC,cAAM,CAAC,SAAS,CAAC,+CAA+C,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;QAC9F,MAAM,CAAC,cAAM,CAAC,SAAS,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,mBAAmB,EAAE,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;IACtF,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,gEAAgE,EAAE,GAAG,EAAE;QACxE,WAAW,CAAC,eAAe,CAAC;YAC1B,IAAI,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE;YACnB,SAAS,EAAE,KAAK;YAChB,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;QAEH,IAAA,cAAM,EAAC,uBAAC,cAAI,KAAG,CAAC,CAAC;QACjB,MAAM,CAAC,cAAM,CAAC,SAAS,CAAC,6BAA6B,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;IAC9E,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["/home/g/dev/orangecat/src/app/__tests__/Home.test.tsx"],"sourcesContent":["import React from 'react';\nimport { render, screen } from '@testing-library/react';\nimport Home from '../page';\n\n// Mock the useAuth hook\njest.mock('@/hooks/useAuth', () => ({\n  useAuth: jest.fn(),\n}));\n\n// Mock the useRouter hook\njest.mock('next/navigation', () => ({\n  useRouter: jest.fn(() => ({\n    push: jest.fn(),\n  })),\n}));\n\nconst mockUseAuth = require('@/hooks/useAuth').useAuth;\n\ndescribe('Home', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it('renders loading state when not hydrated', () => {\n    mockUseAuth.mockReturnValue({\n      user: null,\n      isLoading: false,\n      hydrated: false,\n    });\n\n    render(<Home />);\n    expect(screen.getByText('Loading...')).toBeInTheDocument();\n  });\n\n  it('renders loading state when checking authentication', () => {\n    mockUseAuth.mockReturnValue({\n      user: null,\n      isLoading: true,\n      hydrated: true,\n    });\n\n    render(<Home />);\n    expect(screen.getByText('Checking authentication...')).toBeInTheDocument();\n  });\n\n  it('renders the landing page for non-authenticated users', () => {\n    mockUseAuth.mockReturnValue({\n      user: null,\n      isLoading: false,\n      hydrated: true,\n    });\n\n    render(<Home />);\n\n    // Check for the main heading - look for h2 specifically as it's the main heading\n    const heading = screen.getByRole('heading', { level: 2, name: /the bitcoin yellow pages/i });\n    expect(heading).toBeInTheDocument();\n\n    // Check for other key elements\n    expect(screen.getByText(/just like the yellow pages had phone numbers/i)).toBeInTheDocument();\n    expect(screen.getByRole('link', { name: /get started free/i })).toBeInTheDocument();\n  });\n\n  it('renders loading state when user is authenticated (redirecting)', () => {\n    mockUseAuth.mockReturnValue({\n      user: { id: '123' },\n      isLoading: false,\n      hydrated: true,\n    });\n\n    render(<Home />);\n    expect(screen.getByText('Redirecting to dashboard...')).toBeInTheDocument();\n  });\n}); "],"version":3}