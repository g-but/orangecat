{"version":3,"names":["exports","default","DonatePage","react_1","cov_1icgzcpw1w","s","require","navigation_1","ssr_1","Button_1","__importDefault","Input_1","Card_1","__importStar","f","router","useRouter","supabase","createBrowserClient","process","env","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","amount","setAmount","useState","message","setMessage","handleSubmit","e","preventDefault","data","user","auth","getUser","b","push","error","from","insert","user_id","id","parseFloat","status","jsx_runtime_1","jsx","className","children","jsxs","CardHeader","CardTitle","CardDescription","CardContent","onSubmit","label","type","min","step","value","onChange","target","required","placeholder"],"sources":["/home/g/dev/orangecat/src/app/donate/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { createBrowserClient } from '@supabase/ssr'\nimport Button from '@/components/ui/Button'\nimport Input from '@/components/ui/Input'\nimport Card, { CardHeader, CardTitle, CardDescription, CardContent } from '@/components/ui/Card'\n\nexport default function DonatePage() {\n  const router = useRouter()\n  const supabase = createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n  )\n  const [amount, setAmount] = useState('')\n  const [message, setMessage] = useState('')\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    \n    const { data: { user } } = await supabase.auth.getUser()\n    if (!user) {\n      router.push('/login')\n      return\n    }\n\n    try {\n      const { error } = await supabase\n        .from('donations')\n        .insert([\n          {\n            user_id: user.id,\n            amount: parseFloat(amount),\n            message: message || null,\n            status: 'pending'\n          }\n        ])\n\n      if (error) throw error\n      \n      // Redirect to payment processing\n      router.push('/payment')\n    } catch (error) {\n    }\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <Card>\n        <CardHeader>\n          <CardTitle>Make a Donation</CardTitle>\n          <CardDescription>Support this project by making a donation</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <Input\n              id=\"amount\"\n              label=\"Donation Amount\"\n              type=\"number\"\n              min=\"0.00\"\n              step=\"0.01\"\n              value={amount}\n              onChange={(e) => setAmount(e.target.value)}\n              required\n            />\n            <Input\n              id=\"message\"\n              label=\"Message (Optional)\"\n              type=\"text\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              placeholder=\"Leave a message with your donation\"\n            />\n            <Button type=\"submit\" className=\"w-full\">\n              Donate\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  )\n} "],"mappings":"AAAA,YAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASZA,OAAA,CAAAC,OAAA,GAAAC,UAAA;;;;AAPA,MAAAC,OAAA;AAAA;AAAA,CAAAC,cAAA,GAAAC,CAAA,QAAAC,OAAA;AACA,MAAAC,YAAA;AAAA;AAAA,CAAAH,cAAA,GAAAC,CAAA,QAAAC,OAAA;AACA,MAAAE,KAAA;AAAA;AAAA,CAAAJ,cAAA,GAAAC,CAAA,QAAAC,OAAA;AACA,MAAAG,QAAA;AAAA;AAAA,CAAAL,cAAA,GAAAC,CAAA,QAAAK,eAAA,CAAAJ,OAAA;AACA,MAAAK,OAAA;AAAA;AAAA,CAAAP,cAAA,GAAAC,CAAA,QAAAK,eAAA,CAAAJ,OAAA;AACA,MAAAM,MAAA;AAAA;AAAA,CAAAR,cAAA,GAAAC,CAAA,QAAAQ,YAAA,CAAAP,OAAA;AAEA,SAAwBJ,UAAUA,CAAA;EAAA;EAAAE,cAAA,GAAAU,CAAA;EAChC,MAAMC,MAAM;EAAA;EAAA,CAAAX,cAAA,GAAAC,CAAA,QAAG,IAAAE,YAAA,CAAAS,SAAS,GAAE;EAC1B,MAAMC,QAAQ;EAAA;EAAA,CAAAb,cAAA,GAAAC,CAAA,QAAG,IAAAG,KAAA,CAAAU,mBAAmB,EAClCC,OAAO,CAACC,GAAG,CAACC,wBAAyB,EACrCF,OAAO,CAACC,GAAG,CAACE,6BAA8B,CAC3C;EACD,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC;EAAA;EAAA,CAAApB,cAAA,GAAAC,CAAA,QAAG,IAAAF,OAAA,CAAAsB,QAAQ,EAAC,EAAE,CAAC;EACxC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC;EAAA;EAAA,CAAAvB,cAAA,GAAAC,CAAA,QAAG,IAAAF,OAAA,CAAAsB,QAAQ,EAAC,EAAE,CAAC;EAAA;EAAArB,cAAA,GAAAC,CAAA;EAE1C,MAAMuB,YAAY,GAAG,MAAOC,CAAmC,IAAI;IAAA;IAAAzB,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAC,CAAA;IACjEwB,CAAC,CAACC,cAAc,EAAE;IAElB,MAAM;MAAEC,IAAI,EAAE;QAAEC;MAAI;IAAE,CAAE;IAAA;IAAA,CAAA5B,cAAA,GAAAC,CAAA,QAAG,MAAMY,QAAQ,CAACgB,IAAI,CAACC,OAAO,EAAE;IAAA;IAAA9B,cAAA,GAAAC,CAAA;IACxD,IAAI,CAAC2B,IAAI,EAAE;MAAA;MAAA5B,cAAA,GAAA+B,CAAA;MAAA/B,cAAA,GAAAC,CAAA;MACTU,MAAM,CAACqB,IAAI,CAAC,QAAQ,CAAC;MAAA;MAAAhC,cAAA,GAAAC,CAAA;MACrB;IACF,CAAC;IAAA;IAAA;MAAAD,cAAA,GAAA+B,CAAA;IAAA;IAAA/B,cAAA,GAAAC,CAAA;IAED,IAAI;MACF,MAAM;QAAEgC;MAAK,CAAE;MAAA;MAAA,CAAAjC,cAAA,GAAAC,CAAA,QAAG,MAAMY,QAAQ,CAC7BqB,IAAI,CAAC,WAAW,CAAC,CACjBC,MAAM,CAAC,CACN;QACEC,OAAO,EAAER,IAAI,CAACS,EAAE;QAChBlB,MAAM,EAAEmB,UAAU,CAACnB,MAAM,CAAC;QAC1BG,OAAO;QAAE;QAAA,CAAAtB,cAAA,GAAA+B,CAAA,WAAAT,OAAO;QAAA;QAAA,CAAAtB,cAAA,GAAA+B,CAAA,WAAI,IAAI;QACxBQ,MAAM,EAAE;OACT,CACF,CAAC;MAAA;MAAAvC,cAAA,GAAAC,CAAA;MAEJ,IAAIgC,KAAK,EAAE;QAAA;QAAAjC,cAAA,GAAA+B,CAAA;QAAA/B,cAAA,GAAAC,CAAA;QAAA,MAAMgC,KAAK;MAAA;MAAA;MAAA;QAAAjC,cAAA,GAAA+B,CAAA;MAAA;MAEtB;MAAA/B,cAAA,GAAAC,CAAA;MACAU,MAAM,CAACqB,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC,CAAC,OAAOC,KAAK,EAAE,CAChB;EACF,CAAC;EAAA;EAAAjC,cAAA,GAAAC,CAAA;EAED,OACE,IAAAuC,aAAA,CAAAC,GAAA;IAAKC,SAAS,EAAC,6BAA6B;IAAAC,QAAA,EAC1C,IAAAH,aAAA,CAAAI,IAAA,EAACpC,MAAA,CAAAX,OAAI;MAAA8C,QAAA,GACH,IAAAH,aAAA,CAAAI,IAAA,EAACpC,MAAA,CAAAqC,UAAU;QAAAF,QAAA,GACT,IAAAH,aAAA,CAAAC,GAAA,EAACjC,MAAA,CAAAsC,SAAS;UAAAH,QAAA;QAAA,EAA4B,EACtC,IAAAH,aAAA,CAAAC,GAAA,EAACjC,MAAA,CAAAuC,eAAe;UAAAJ,QAAA;QAAA,EAA4D;MAAA,EACjE,EACb,IAAAH,aAAA,CAAAC,GAAA,EAACjC,MAAA,CAAAwC,WAAW;QAAAL,QAAA,EACV,IAAAH,aAAA,CAAAI,IAAA;UAAMK,QAAQ,EAAEzB,YAAY;UAAEkB,SAAS,EAAC,WAAW;UAAAC,QAAA,GACjD,IAAAH,aAAA,CAAAC,GAAA,EAAClC,OAAA,CAAAV,OAAK;YACJwC,EAAE,EAAC,QAAQ;YACXa,KAAK,EAAC,iBAAiB;YACvBC,IAAI,EAAC,QAAQ;YACbC,GAAG,EAAC,MAAM;YACVC,IAAI,EAAC,MAAM;YACXC,KAAK,EAAEnC,MAAM;YACboC,QAAQ,EAAG9B,CAAC,IAAK;cAAA;cAAAzB,cAAA,GAAAU,CAAA;cAAAV,cAAA,GAAAC,CAAA;cAAA,OAAAmB,SAAS,CAACK,CAAC,CAAC+B,MAAM,CAACF,KAAK,CAAC;YAAD,CAAC;YAC1CG,QAAQ;UAAA,EACR,EACF,IAAAjB,aAAA,CAAAC,GAAA,EAAClC,OAAA,CAAAV,OAAK;YACJwC,EAAE,EAAC,SAAS;YACZa,KAAK,EAAC,oBAAoB;YAC1BC,IAAI,EAAC,MAAM;YACXG,KAAK,EAAEhC,OAAO;YACdiC,QAAQ,EAAG9B,CAAC,IAAK;cAAA;cAAAzB,cAAA,GAAAU,CAAA;cAAAV,cAAA,GAAAC,CAAA;cAAA,OAAAsB,UAAU,CAACE,CAAC,CAAC+B,MAAM,CAACF,KAAK,CAAC;YAAD,CAAC;YAC3CI,WAAW,EAAC;UAAoC,EAChD,EACF,IAAAlB,aAAA,CAAAC,GAAA,EAACpC,QAAA,CAAAR,OAAM;YAACsD,IAAI,EAAC,QAAQ;YAACT,SAAS,EAAC,QAAQ;YAAAC,QAAA;UAAA,EAE/B;QAAA;MACJ,EACK;IAAA;EACT,EACH;AAEV","ignoreList":[]}