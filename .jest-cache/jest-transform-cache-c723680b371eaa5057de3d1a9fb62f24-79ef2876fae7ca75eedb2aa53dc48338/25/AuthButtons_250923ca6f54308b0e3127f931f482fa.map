{"version":3,"names":["cov_1t8p2ot6do","actualCoverage","exports","default","AuthButtons","link_1","s","__importDefault","require","Button_1","UserProfileDropdown_1","useAuth_1","lucide_react_1","className","b","f","user","session","isLoading","hydrated","authError","useAuth","jsx_runtime_1","jsx","children","Loader2","isMobileNav","includes","jsxs","href","variant","size"],"sources":["/home/g/dev/orangecat/src/components/layout/AuthButtons.tsx"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport Button from '@/components/ui/Button'\nimport UserProfileDropdown from '@/components/ui/UserProfileDropdown'\nimport { useAuth } from '@/hooks/useAuth'\nimport { Loader2 } from 'lucide-react'\n\ninterface AuthButtonsProps {\n  className?: string\n}\n\nexport default function AuthButtons({ className = '' }: AuthButtonsProps) {\n  const { user, session, isLoading, hydrated, authError } = useAuth()\n\n  // First check hydration\n  if (!hydrated) {\n    // Minimal loading indicator while hydrating\n    return (\n      <div className={`flex items-center justify-center ${className}`}>\n        <div className=\"w-3 h-3 bg-gray-200 rounded-full animate-pulse\"></div>\n      </div>\n    )\n  }\n\n  // Then check loading state\n  if (isLoading) {\n    return (\n      <div className={`flex items-center justify-center ${className}`}>\n        <Loader2 className=\"h-4 w-4 animate-spin text-tiffany-500\" />\n      </div>\n    )\n  }\n\n  // If there's an auth error, treat as not authenticated\n  if (authError) {\n    // User is not authenticated due to error\n    const isMobileNav = className.includes('flex-col')\n    \n    return (\n      <div className={`flex items-center ${isMobileNav ? 'flex-col space-y-2 w-full' : 'space-x-2'} ${className}`}>\n        <Link href=\"/auth?mode=login\" className={isMobileNav ? 'w-full' : ''}>\n          <Button \n            variant=\"ghost\" \n            size=\"sm\"\n            className={`${isMobileNav ? 'w-full justify-center' : ''} min-h-[36px] text-sm`}\n          >\n            Log in\n          </Button>\n        </Link>\n        <Link href=\"/auth?mode=register\" className={isMobileNav ? 'w-full' : ''}>\n          <Button \n            size=\"sm\"\n            className={`${isMobileNav ? 'w-full justify-center' : ''} min-h-[36px] text-sm`}\n          >\n            Get Started\n          </Button>\n        </Link>\n      </div>\n    )\n  }\n\n  // User is authenticated ONLY if we have BOTH a user AND a session\n  // This prevents showing the dropdown with stale data\n  if (user && session) {\n    return <UserProfileDropdown variant=\"advanced\" />\n  }\n\n  // User is not authenticated\n  // Check if this is a mobile nav (column layout)\n  const isMobileNav = className.includes('flex-col')\n\n  return (\n    <div className={`flex items-center ${isMobileNav ? 'flex-col space-y-2 w-full' : 'space-x-2'} ${className}`}>\n      <Link href=\"/auth?mode=login\" className={isMobileNav ? 'w-full' : ''}>\n        <Button \n          variant=\"ghost\" \n          size=\"sm\"\n          className={`${isMobileNav ? 'w-full justify-center' : ''} min-h-[36px] text-sm`}\n        >\n          Log in\n        </Button>\n      </Link>\n      <Link href=\"/auth?mode=register\" className={isMobileNav ? 'w-full' : ''}>\n        <Button \n          size=\"sm\"\n          className={`${isMobileNav ? 'w-full justify-center' : ''} min-h-[36px] text-sm`}\n        >\n          Get Started\n        </Button>\n      </Link>\n    </div>\n  )\n} "],"mappings":"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","ignoreList":[]}