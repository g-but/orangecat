129583b8311159b11155f07fa7718d44
"use strict";
/**
 * SOCIAL SERVICE TESTS
 *
 * Comprehensive test suite for social collaboration services
 * including People, Organizations, Projects, Search, Analytics, and Empty States
 *
 * Created: 2025-01-08
 * Last Modified: 2025-01-08
 * Last Modified Summary: Complete test coverage for social networking system
 */
Object.defineProperty(exports, "__esModule", { value: true });
jest.mock('@/services/supabase/client', () => ({
    supabase: mockSupabase
}));
// Mock Supabase client first
const mockSupabase = {
    from: jest.fn().mockReturnThis(),
    select: jest.fn().mockReturnThis(),
    insert: jest.fn().mockReturnThis(),
    update: jest.fn().mockReturnThis(),
    delete: jest.fn().mockReturnThis(),
    eq: jest.fn().mockReturnThis(),
    or: jest.fn().mockReturnThis(),
    ilike: jest.fn().mockReturnThis(),
    limit: jest.fn().mockReturnThis(),
    range: jest.fn().mockReturnThis(),
    single: jest.fn().mockResolvedValue({ data: { website: '{}' }, error: null }),
    auth: {
        getUser: jest.fn().mockResolvedValue({
            data: { user: { id: 'test-user-id', email: 'test@example.com' } },
            error: null
        })
    }
};
const socialService_1 = require("../socialService");
const people_1 = require("../people");
const organizations_1 = require("../organizations");
describe('PeopleService', () => {
    beforeEach(() => {
        jest.clearAllMocks();
    });
    describe('searchPeople', () => {
        it('should search people with default parameters', async () => {
            const mockData = [
                { id: '1', username: 'user1', full_name: 'User One', website: '{}' },
                { id: '2', username: 'user2', full_name: 'User Two', website: '{}' }
            ];
            mockSupabase.from().select().limit().range.mockResolvedValue({
                data: mockData,
                error: null
            });
            const result = await people_1.PeopleService.searchPeople();
            expect(result).toHaveLength(2);
            expect(result[0]).toHaveProperty('id', '1');
            expect(result[0]).toHaveProperty('username', 'user1');
        });
        it('should handle search errors gracefully', async () => {
            mockSupabase.from().select().limit().range.mockResolvedValue({
                data: null,
                error: new Error('Database error')
            });
            await expect(people_1.PeopleService.searchPeople()).rejects.toThrow('Database error');
        });
    });
    describe('sendConnectionRequest', () => {
        it('should require authentication', async () => {
            mockSupabase.auth.getUser.mockResolvedValue({
                data: { user: null },
                error: null
            });
            const request = {
                recipient_id: 'user-2',
                message: 'Hi!'
            };
            await expect(people_1.PeopleService.sendConnectionRequest(request))
                .rejects.toThrow('User not authenticated');
        });
    });
    describe('getConnections', () => {
        it('should return empty array on error', async () => {
            mockSupabase.from().select().eq().single.mockResolvedValue({
                data: null,
                error: new Error('User not found')
            });
            const result = await people_1.PeopleService.getConnections('invalid-user');
            expect(result).toEqual([]);
        });
    });
});
describe('OrganizationService', () => {
    beforeEach(() => {
        jest.clearAllMocks();
    });
    describe('createOrganization', () => {
        it('should require authentication', async () => {
            mockSupabase.auth.getUser.mockResolvedValue({
                data: { user: null },
                error: null
            });
            const formData = {
                name: 'Test Org',
                description: 'Test',
                type: 'community',
                visibility: 'public'
            };
            await expect(organizations_1.OrganizationService.createOrganization(formData))
                .rejects.toThrow('User not authenticated');
        });
    });
    describe('getUserOrganizations', () => {
        it('should return empty array on error', async () => {
            mockSupabase.from().select().eq().single.mockResolvedValue({
                data: null,
                error: new Error('User not found')
            });
            const result = await organizations_1.OrganizationService.getUserOrganizations('invalid-user');
            expect(result).toEqual([]);
        });
    });
    describe('searchOrganizations', () => {
        it('should search organizations with filters', async () => {
            const profilesData = [
                { website: '{}' }
            ];
            mockSupabase.from().select().limit.mockResolvedValue({
                data: profilesData,
                error: null
            });
            const filters = {
                query: 'bitcoin',
                limit: 10
            };
            const result = await organizations_1.OrganizationService.searchOrganizations(filters);
            expect(Array.isArray(result)).toBe(true);
        });
    });
});
describe('ProjectService', () => {
    beforeEach(() => {
        jest.clearAllMocks();
    });
    describe('createProject', () => {
        it('should require authentication', async () => {
            mockSupabase.auth.getUser.mockResolvedValue({
                data: { user: null },
                error: null
            });
            const formData = {
                name: 'Test Project',
                description: 'Test',
                category: 'development',
                visibility: 'public'
            };
            await expect(socialService_1.ProjectService.createProject(formData))
                .rejects.toThrow('User not authenticated');
        });
    });
    describe('getUserProjects', () => {
        it('should return empty array on error', async () => {
            mockSupabase.from().select().eq().single.mockResolvedValue({
                data: null,
                error: new Error('User not found')
            });
            const result = await socialService_1.ProjectService.getUserProjects('invalid-user');
            expect(result).toEqual([]);
        });
    });
    describe('searchProjects', () => {
        it('should search projects by category', async () => {
            const profilesData = [
                { website: '{}' }
            ];
            mockSupabase.from().select().limit.mockResolvedValue({
                data: profilesData,
                error: null
            });
            const filters = {
                category: 'education'
            };
            const result = await socialService_1.ProjectService.searchProjects(filters);
            expect(Array.isArray(result)).toBe(true);
        });
    });
});
describe('SearchService', () => {
    beforeEach(() => {
        jest.clearAllMocks();
    });
    describe('universalSearch', () => {
        it('should handle search errors gracefully', async () => {
            mockSupabase.from.mockImplementation(() => {
                throw new Error('Search failed');
            });
            const result = await socialService_1.SearchService.universalSearch({ query: 'test' });
            expect(result).toEqual([]);
        });
    });
});
describe('SocialAnalyticsService', () => {
    beforeEach(() => {
        jest.clearAllMocks();
    });
    describe('getUserAnalytics', () => {
        it('should return default analytics on error', async () => {
            mockSupabase.from.mockImplementation(() => {
                throw new Error('Analytics failed');
            });
            const result = await socialService_1.SocialAnalyticsService.getUserAnalytics('invalid-user');
            expect(result).toHaveProperty('total_connections', 0);
            expect(result).toHaveProperty('pending_requests', 0);
            expect(result).toHaveProperty('organizations_joined', 0);
            expect(result).toHaveProperty('projects_joined', 0);
        });
    });
});
describe('EmptyStateService', () => {
    describe('getEmptyStateContent', () => {
        it('should return people empty state content', () => {
            const content = socialService_1.EmptyStateService.getEmptyStateContent('people');
            expect(content).toHaveProperty('title', 'No Connections Yet');
            expect(content).toHaveProperty('description');
            expect(content).toHaveProperty('primaryAction');
            expect(content).toHaveProperty('benefits');
            expect(content).toHaveProperty('examples');
            expect(content.benefits).toContain('Collaborate on Bitcoin projects');
        });
        it('should return organizations empty state content', () => {
            const content = socialService_1.EmptyStateService.getEmptyStateContent('organizations');
            expect(content).toHaveProperty('title', 'No Organizations Yet');
            expect(content.benefits).toContain('Shared Bitcoin treasury management');
            expect(content.examples).toContain('Bitcoin development collectives');
        });
        it('should return projects empty state content', () => {
            const content = socialService_1.EmptyStateService.getEmptyStateContent('projects');
            expect(content).toHaveProperty('title', 'No Projects Yet');
            expect(content.benefits).toContain('Dedicated Bitcoin fundraising');
            expect(content.examples).toContain('Bitcoin education initiatives');
        });
    });
});
// Integration Tests
describe('Social Collaboration Integration', () => {
    beforeEach(() => {
        jest.clearAllMocks();
    });
    it('should handle error scenarios gracefully', async () => {
        // Test database connection failure
        mockSupabase.from.mockImplementation(() => {
            throw new Error('Database connection failed');
        });
        await expect(people_1.PeopleService.searchPeople()).rejects.toThrow('Database connection failed');
        // Test authentication failure
        mockSupabase.auth.getUser.mockResolvedValue({
            data: { user: null },
            error: new Error('Authentication failed')
        });
        await expect(people_1.PeopleService.sendConnectionRequest({
            recipient_id: 'user-2',
            message: 'Hello'
        })).rejects.toThrow('User not authenticated');
    });
});
// Security Tests
describe('Security Tests', () => {
    beforeEach(() => {
        jest.clearAllMocks();
    });
    it('should require authentication for sensitive operations', async () => {
        mockSupabase.auth.getUser.mockResolvedValue({
            data: { user: null },
            error: null
        });
        // All these operations should require authentication
        await expect(people_1.PeopleService.sendConnectionRequest({
            recipient_id: 'user-2',
            message: 'Hello'
        })).rejects.toThrow('User not authenticated');
        await expect(organizations_1.OrganizationService.createOrganization({
            name: 'Test Org',
            description: 'Test',
            type: 'community',
            visibility: 'public'
        })).rejects.toThrow('User not authenticated');
        await expect(socialService_1.ProjectService.createProject({
            name: 'Test Project',
            description: 'Test',
            category: 'development',
            visibility: 'public'
        })).rejects.toThrow('User not authenticated');
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvZy9kZXYvb3JhbmdlY2F0L3NyYy9zZXJ2aWNlcy9fX3Rlc3RzX18vc29jaWFsU2VydmljZS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7O0dBU0c7O0FBdUJILElBQUksQ0FBQyxJQUFJLENBQUMsNEJBQTRCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUM3QyxRQUFRLEVBQUUsWUFBWTtDQUN2QixDQUFDLENBQUMsQ0FBQztBQXZCSiw2QkFBNkI7QUFDN0IsTUFBTSxZQUFZLEdBQUc7SUFDbkIsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7SUFDaEMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7SUFDbEMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7SUFDbEMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7SUFDbEMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7SUFDbEMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7SUFDOUIsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7SUFDOUIsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7SUFDakMsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7SUFDakMsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7SUFDakMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUM7SUFDN0UsSUFBSSxFQUFFO1FBQ0osT0FBTyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQztZQUNuQyxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxrQkFBa0IsRUFBRSxFQUFFO1lBQ2pFLEtBQUssRUFBRSxJQUFJO1NBQ1osQ0FBQztLQUNIO0NBQ0YsQ0FBQztBQU1GLG9EQUswQjtBQUMxQixzQ0FBMEM7QUFDMUMsb0RBQXVEO0FBYXZELFFBQVEsQ0FBQyxlQUFlLEVBQUUsR0FBRyxFQUFFO0lBQzdCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDZCxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUE7SUFDdEIsQ0FBQyxDQUFDLENBQUE7SUFFRixRQUFRLENBQUMsY0FBYyxFQUFFLEdBQUcsRUFBRTtRQUM1QixFQUFFLENBQUMsOENBQThDLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDNUQsTUFBTSxRQUFRLEdBQUc7Z0JBQ2YsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFO2dCQUNwRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUU7YUFDckUsQ0FBQTtZQUVELFlBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUM7Z0JBQzNELElBQUksRUFBRSxRQUFRO2dCQUNkLEtBQUssRUFBRSxJQUFJO2FBQ1osQ0FBQyxDQUFBO1lBRUYsTUFBTSxNQUFNLEdBQUcsTUFBTSxzQkFBYSxDQUFDLFlBQVksRUFBRSxDQUFBO1lBRWpELE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDOUIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUE7WUFDM0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUE7UUFDdkQsQ0FBQyxDQUFDLENBQUE7UUFFRixFQUFFLENBQUMsd0NBQXdDLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDdEQsWUFBWSxDQUFDLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQztnQkFDM0QsSUFBSSxFQUFFLElBQUk7Z0JBQ1YsS0FBSyxFQUFFLElBQUksS0FBSyxDQUFDLGdCQUFnQixDQUFDO2FBQ25DLENBQUMsQ0FBQTtZQUVGLE1BQU0sTUFBTSxDQUFDLHNCQUFhLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUE7UUFDOUUsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDLENBQUMsQ0FBQTtJQUVGLFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLEVBQUU7UUFDckMsRUFBRSxDQUFDLCtCQUErQixFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzdDLFlBQVksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDO2dCQUMxQyxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO2dCQUNwQixLQUFLLEVBQUUsSUFBSTthQUNaLENBQUMsQ0FBQTtZQUVGLE1BQU0sT0FBTyxHQUFHO2dCQUNkLFlBQVksRUFBRSxRQUFRO2dCQUN0QixPQUFPLEVBQUUsS0FBSzthQUNmLENBQUE7WUFFRCxNQUFNLE1BQU0sQ0FBQyxzQkFBYSxDQUFDLHFCQUFxQixDQUFDLE9BQU8sQ0FBQyxDQUFDO2lCQUN2RCxPQUFPLENBQUMsT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUE7UUFDOUMsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDLENBQUMsQ0FBQTtJQUVGLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7UUFDOUIsRUFBRSxDQUFDLG9DQUFvQyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ2xELFlBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUM7Z0JBQ3pELElBQUksRUFBRSxJQUFJO2dCQUNWLEtBQUssRUFBRSxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQzthQUNuQyxDQUFDLENBQUE7WUFFRixNQUFNLE1BQU0sR0FBRyxNQUFNLHNCQUFhLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFBO1lBRWpFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUE7UUFDNUIsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDLENBQUMsQ0FBQTtBQUNKLENBQUMsQ0FBQyxDQUFBO0FBRUYsUUFBUSxDQUFDLHFCQUFxQixFQUFFLEdBQUcsRUFBRTtJQUNuQyxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2QsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFBO0lBQ3RCLENBQUMsQ0FBQyxDQUFBO0lBRUYsUUFBUSxDQUFDLG9CQUFvQixFQUFFLEdBQUcsRUFBRTtRQUNsQyxFQUFFLENBQUMsK0JBQStCLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDN0MsWUFBWSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUM7Z0JBQzFDLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7Z0JBQ3BCLEtBQUssRUFBRSxJQUFJO2FBQ1osQ0FBQyxDQUFBO1lBRUYsTUFBTSxRQUFRLEdBQUc7Z0JBQ2YsSUFBSSxFQUFFLFVBQVU7Z0JBQ2hCLFdBQVcsRUFBRSxNQUFNO2dCQUNuQixJQUFJLEVBQUUsV0FBb0I7Z0JBQzFCLFVBQVUsRUFBRSxRQUFpQjthQUM5QixDQUFBO1lBRUQsTUFBTSxNQUFNLENBQUMsbUNBQW1CLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDLENBQUM7aUJBQzNELE9BQU8sQ0FBQyxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQTtRQUM5QyxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0lBRUYsUUFBUSxDQUFDLHNCQUFzQixFQUFFLEdBQUcsRUFBRTtRQUNwQyxFQUFFLENBQUMsb0NBQW9DLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDbEQsWUFBWSxDQUFDLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztnQkFDekQsSUFBSSxFQUFFLElBQUk7Z0JBQ1YsS0FBSyxFQUFFLElBQUksS0FBSyxDQUFDLGdCQUFnQixDQUFDO2FBQ25DLENBQUMsQ0FBQTtZQUVGLE1BQU0sTUFBTSxHQUFHLE1BQU0sbUNBQW1CLENBQUMsb0JBQW9CLENBQUMsY0FBYyxDQUFDLENBQUE7WUFFN0UsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQTtRQUM1QixDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0lBRUYsUUFBUSxDQUFDLHFCQUFxQixFQUFFLEdBQUcsRUFBRTtRQUNuQyxFQUFFLENBQUMsMENBQTBDLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDeEQsTUFBTSxZQUFZLEdBQUc7Z0JBQ25CLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRTthQUNsQixDQUFBO1lBRUQsWUFBWSxDQUFDLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQztnQkFDbkQsSUFBSSxFQUFFLFlBQVk7Z0JBQ2xCLEtBQUssRUFBRSxJQUFJO2FBQ1osQ0FBQyxDQUFBO1lBRUYsTUFBTSxPQUFPLEdBQUc7Z0JBQ2QsS0FBSyxFQUFFLFNBQVM7Z0JBQ2hCLEtBQUssRUFBRSxFQUFFO2FBQ1YsQ0FBQTtZQUVELE1BQU0sTUFBTSxHQUFHLE1BQU0sbUNBQW1CLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFckUsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDMUMsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDLENBQUMsQ0FBQTtBQUNKLENBQUMsQ0FBQyxDQUFBO0FBRUYsUUFBUSxDQUFDLGdCQUFnQixFQUFFLEdBQUcsRUFBRTtJQUM5QixVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2QsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFBO0lBQ3RCLENBQUMsQ0FBQyxDQUFBO0lBRUYsUUFBUSxDQUFDLGVBQWUsRUFBRSxHQUFHLEVBQUU7UUFDN0IsRUFBRSxDQUFDLCtCQUErQixFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzdDLFlBQVksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDO2dCQUMxQyxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO2dCQUNwQixLQUFLLEVBQUUsSUFBSTthQUNaLENBQUMsQ0FBQTtZQUVGLE1BQU0sUUFBUSxHQUFHO2dCQUNmLElBQUksRUFBRSxjQUFjO2dCQUNwQixXQUFXLEVBQUUsTUFBTTtnQkFDbkIsUUFBUSxFQUFFLGFBQXNCO2dCQUNoQyxVQUFVLEVBQUUsUUFBaUI7YUFDOUIsQ0FBQTtZQUVELE1BQU0sTUFBTSxDQUFDLDhCQUFjLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2lCQUNqRCxPQUFPLENBQUMsT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUE7UUFDOUMsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDLENBQUMsQ0FBQTtJQUVGLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLEVBQUU7UUFDL0IsRUFBRSxDQUFDLG9DQUFvQyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ2xELFlBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUM7Z0JBQ3pELElBQUksRUFBRSxJQUFJO2dCQUNWLEtBQUssRUFBRSxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQzthQUNuQyxDQUFDLENBQUE7WUFFRixNQUFNLE1BQU0sR0FBRyxNQUFNLDhCQUFjLENBQUMsZUFBZSxDQUFDLGNBQWMsQ0FBQyxDQUFBO1lBRW5FLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUE7UUFDNUIsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDLENBQUMsQ0FBQTtJQUVGLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7UUFDOUIsRUFBRSxDQUFDLG9DQUFvQyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ2xELE1BQU0sWUFBWSxHQUFHO2dCQUNuQixFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUU7YUFDbEIsQ0FBQTtZQUVELFlBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUM7Z0JBQ25ELElBQUksRUFBRSxZQUFZO2dCQUNsQixLQUFLLEVBQUUsSUFBSTthQUNaLENBQUMsQ0FBQTtZQUVGLE1BQU0sT0FBTyxHQUFHO2dCQUNkLFFBQVEsRUFBRSxXQUFXO2FBQ3RCLENBQUE7WUFFRCxNQUFNLE1BQU0sR0FBRyxNQUFNLDhCQUFjLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRTNELE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO1FBQzFDLENBQUMsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDLENBQUMsQ0FBQTtBQUVGLFFBQVEsQ0FBQyxlQUFlLEVBQUUsR0FBRyxFQUFFO0lBQzdCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDZCxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUE7SUFDdEIsQ0FBQyxDQUFDLENBQUE7SUFFRixRQUFRLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFO1FBQy9CLEVBQUUsQ0FBQyx3Q0FBd0MsRUFBRSxLQUFLLElBQUksRUFBRTtZQUN0RCxZQUFZLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRTtnQkFDeEMsTUFBTSxJQUFJLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUNuQyxDQUFDLENBQUMsQ0FBQztZQUVILE1BQU0sTUFBTSxHQUFHLE1BQU0sNkJBQWEsQ0FBQyxlQUFlLENBQUMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztZQUV0RSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzdCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQTtBQUVGLFFBQVEsQ0FBQyx3QkFBd0IsRUFBRSxHQUFHLEVBQUU7SUFDdEMsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQTtJQUN0QixDQUFDLENBQUMsQ0FBQTtJQUVGLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7UUFDaEMsRUFBRSxDQUFDLDBDQUEwQyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ3hELFlBQVksQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsR0FBRyxFQUFFO2dCQUN4QyxNQUFNLElBQUksS0FBSyxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDdEMsQ0FBQyxDQUFDLENBQUM7WUFFSCxNQUFNLE1BQU0sR0FBRyxNQUFNLHNDQUFzQixDQUFDLGdCQUFnQixDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBRTdFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxjQUFjLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUNwRCxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsY0FBYyxDQUFDLHNCQUFzQixFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQ3hELE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxjQUFjLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDckQsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDLENBQUMsQ0FBQTtBQUNKLENBQUMsQ0FBQyxDQUFBO0FBRUYsUUFBUSxDQUFDLG1CQUFtQixFQUFFLEdBQUcsRUFBRTtJQUNqQyxRQUFRLENBQUMsc0JBQXNCLEVBQUUsR0FBRyxFQUFFO1FBQ3BDLEVBQUUsQ0FBQywwQ0FBMEMsRUFBRSxHQUFHLEVBQUU7WUFDbEQsTUFBTSxPQUFPLEdBQUcsaUNBQWlCLENBQUMsb0JBQW9CLENBQUMsUUFBUSxDQUFDLENBQUE7WUFFaEUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsb0JBQW9CLENBQUMsQ0FBQTtZQUM3RCxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxDQUFBO1lBQzdDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLENBQUE7WUFDL0MsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQTtZQUMxQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFBO1lBQzFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsU0FBUyxDQUFDLGlDQUFpQyxDQUFDLENBQUE7UUFDdkUsQ0FBQyxDQUFDLENBQUE7UUFFRixFQUFFLENBQUMsaURBQWlELEVBQUUsR0FBRyxFQUFFO1lBQ3pELE1BQU0sT0FBTyxHQUFHLGlDQUFpQixDQUFDLG9CQUFvQixDQUFDLGVBQWUsQ0FBQyxDQUFBO1lBRXZFLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLHNCQUFzQixDQUFDLENBQUE7WUFDL0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxTQUFTLENBQUMsb0NBQW9DLENBQUMsQ0FBQTtZQUN4RSxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFBO1FBQ3ZFLENBQUMsQ0FBQyxDQUFBO1FBRUYsRUFBRSxDQUFDLDRDQUE0QyxFQUFFLEdBQUcsRUFBRTtZQUNwRCxNQUFNLE9BQU8sR0FBRyxpQ0FBaUIsQ0FBQyxvQkFBb0IsQ0FBQyxVQUFVLENBQUMsQ0FBQTtZQUVsRSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxpQkFBaUIsQ0FBQyxDQUFBO1lBQzFELE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsU0FBUyxDQUFDLCtCQUErQixDQUFDLENBQUE7WUFDbkUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxTQUFTLENBQUMsK0JBQStCLENBQUMsQ0FBQTtRQUNyRSxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0FBQ0osQ0FBQyxDQUFDLENBQUE7QUFFRixvQkFBb0I7QUFDcEIsUUFBUSxDQUFDLGtDQUFrQyxFQUFFLEdBQUcsRUFBRTtJQUNoRCxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2QsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFBO0lBQ3RCLENBQUMsQ0FBQyxDQUFBO0lBRUYsRUFBRSxDQUFDLDBDQUEwQyxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ3hELG1DQUFtQztRQUNuQyxZQUFZLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRTtZQUN4QyxNQUFNLElBQUksS0FBSyxDQUFDLDRCQUE0QixDQUFDLENBQUM7UUFDaEQsQ0FBQyxDQUFDLENBQUM7UUFFSCxNQUFNLE1BQU0sQ0FBQyxzQkFBYSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO1FBRXpGLDhCQUE4QjtRQUM5QixZQUFZLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztZQUMxQyxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO1lBQ3BCLEtBQUssRUFBRSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQztTQUMxQyxDQUFDLENBQUE7UUFFRixNQUFNLE1BQU0sQ0FBQyxzQkFBYSxDQUFDLHFCQUFxQixDQUFDO1lBQy9DLFlBQVksRUFBRSxRQUFRO1lBQ3RCLE9BQU8sRUFBRSxPQUFPO1NBQ2pCLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQTtJQUMvQyxDQUFDLENBQUMsQ0FBQTtBQUNKLENBQUMsQ0FBQyxDQUFBO0FBRUYsaUJBQWlCO0FBQ2pCLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7SUFDOUIsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQTtJQUN0QixDQUFDLENBQUMsQ0FBQTtJQUVGLEVBQUUsQ0FBQyx3REFBd0QsRUFBRSxLQUFLLElBQUksRUFBRTtRQUN0RSxZQUFZLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztZQUMxQyxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO1lBQ3BCLEtBQUssRUFBRSxJQUFJO1NBQ1osQ0FBQyxDQUFBO1FBRUYscURBQXFEO1FBQ3JELE1BQU0sTUFBTSxDQUFDLHNCQUFhLENBQUMscUJBQXFCLENBQUM7WUFDL0MsWUFBWSxFQUFFLFFBQVE7WUFDdEIsT0FBTyxFQUFFLE9BQU87U0FDakIsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFBO1FBRTdDLE1BQU0sTUFBTSxDQUFDLG1DQUFtQixDQUFDLGtCQUFrQixDQUFDO1lBQ2xELElBQUksRUFBRSxVQUFVO1lBQ2hCLFdBQVcsRUFBRSxNQUFNO1lBQ25CLElBQUksRUFBRSxXQUFXO1lBQ2pCLFVBQVUsRUFBRSxRQUFRO1NBQ3JCLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQTtRQUU3QyxNQUFNLE1BQU0sQ0FBQyw4QkFBYyxDQUFDLGFBQWEsQ0FBQztZQUN4QyxJQUFJLEVBQUUsY0FBYztZQUNwQixXQUFXLEVBQUUsTUFBTTtZQUNuQixRQUFRLEVBQUUsYUFBYTtZQUN2QixVQUFVLEVBQUUsUUFBUTtTQUNyQixDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUE7SUFDL0MsQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDLENBQUMsQ0FBQSIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9nL2Rldi9vcmFuZ2VjYXQvc3JjL3NlcnZpY2VzL19fdGVzdHNfXy9zb2NpYWxTZXJ2aWNlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTT0NJQUwgU0VSVklDRSBURVNUU1xuICogXG4gKiBDb21wcmVoZW5zaXZlIHRlc3Qgc3VpdGUgZm9yIHNvY2lhbCBjb2xsYWJvcmF0aW9uIHNlcnZpY2VzXG4gKiBpbmNsdWRpbmcgUGVvcGxlLCBPcmdhbml6YXRpb25zLCBQcm9qZWN0cywgU2VhcmNoLCBBbmFseXRpY3MsIGFuZCBFbXB0eSBTdGF0ZXNcbiAqIFxuICogQ3JlYXRlZDogMjAyNS0wMS0wOFxuICogTGFzdCBNb2RpZmllZDogMjAyNS0wMS0wOFxuICogTGFzdCBNb2RpZmllZCBTdW1tYXJ5OiBDb21wbGV0ZSB0ZXN0IGNvdmVyYWdlIGZvciBzb2NpYWwgbmV0d29ya2luZyBzeXN0ZW1cbiAqL1xuXG4vLyBNb2NrIFN1cGFiYXNlIGNsaWVudCBmaXJzdFxuY29uc3QgbW9ja1N1cGFiYXNlID0ge1xuICBmcm9tOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgaW5zZXJ0OiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgdXBkYXRlOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgZGVsZXRlOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICBvcjogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gIGlsaWtlOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgbGltaXQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICByYW5nZTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gIHNpbmdsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogeyB3ZWJzaXRlOiAne30nIH0sIGVycm9yOiBudWxsIH0pLFxuICBhdXRoOiB7XG4gICAgZ2V0VXNlcjogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGRhdGE6IHsgdXNlcjogeyBpZDogJ3Rlc3QtdXNlci1pZCcsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfSB9LFxuICAgICAgZXJyb3I6IG51bGxcbiAgICB9KVxuICB9XG59O1xuXG5qZXN0Lm1vY2soJ0Avc2VydmljZXMvc3VwYWJhc2UvY2xpZW50JywgKCkgPT4gKHtcbiAgc3VwYWJhc2U6IG1vY2tTdXBhYmFzZVxufSkpO1xuXG5pbXBvcnQge1xuICBQcm9qZWN0U2VydmljZSxcbiAgU2VhcmNoU2VydmljZSxcbiAgU29jaWFsQW5hbHl0aWNzU2VydmljZSxcbiAgRW1wdHlTdGF0ZVNlcnZpY2Vcbn0gZnJvbSAnLi4vc29jaWFsU2VydmljZSc7XG5pbXBvcnQgeyBQZW9wbGVTZXJ2aWNlIH0gZnJvbSAnLi4vcGVvcGxlJztcbmltcG9ydCB7IE9yZ2FuaXphdGlvblNlcnZpY2UgfSBmcm9tICcuLi9vcmdhbml6YXRpb25zJztcblxuaW1wb3J0IHR5cGUge1xuICBDb25uZWN0aW9uUmVxdWVzdCxcbiAgT3JnYW5pemF0aW9uLFxuICBPcmdhbml6YXRpb25Gb3JtRGF0YSxcbiAgUHJvamVjdCxcbiAgUHJvamVjdEZvcm1EYXRhLFxuICBTZWFyY2hGaWx0ZXJzLFxuICBTb2NpYWxBbmFseXRpY3MsXG4gIEVtcHR5U3RhdGVDb250ZW50XG59IGZyb20gJ0AvdHlwZXMvc29jaWFsJ1xuXG5kZXNjcmliZSgnUGVvcGxlU2VydmljZScsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKClcbiAgfSlcblxuICBkZXNjcmliZSgnc2VhcmNoUGVvcGxlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc2VhcmNoIHBlb3BsZSB3aXRoIGRlZmF1bHQgcGFyYW1ldGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tEYXRhID0gW1xuICAgICAgICB7IGlkOiAnMScsIHVzZXJuYW1lOiAndXNlcjEnLCBmdWxsX25hbWU6ICdVc2VyIE9uZScsIHdlYnNpdGU6ICd7fScgfSxcbiAgICAgICAgeyBpZDogJzInLCB1c2VybmFtZTogJ3VzZXIyJywgZnVsbF9uYW1lOiAnVXNlciBUd28nLCB3ZWJzaXRlOiAne30nIH1cbiAgICAgIF1cbiAgICAgIFxuICAgICAgbW9ja1N1cGFiYXNlLmZyb20oKS5zZWxlY3QoKS5saW1pdCgpLnJhbmdlLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogbW9ja0RhdGEsXG4gICAgICAgIGVycm9yOiBudWxsXG4gICAgICB9KVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQZW9wbGVTZXJ2aWNlLnNlYXJjaFBlb3BsZSgpXG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgyKVxuICAgICAgZXhwZWN0KHJlc3VsdFswXSkudG9IYXZlUHJvcGVydHkoJ2lkJywgJzEnKVxuICAgICAgZXhwZWN0KHJlc3VsdFswXSkudG9IYXZlUHJvcGVydHkoJ3VzZXJuYW1lJywgJ3VzZXIxJylcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2VhcmNoIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20oKS5zZWxlY3QoKS5saW1pdCgpLnJhbmdlLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3I6IG5ldyBFcnJvcignRGF0YWJhc2UgZXJyb3InKVxuICAgICAgfSlcblxuICAgICAgYXdhaXQgZXhwZWN0KFBlb3BsZVNlcnZpY2Uuc2VhcmNoUGVvcGxlKCkpLnJlamVjdHMudG9UaHJvdygnRGF0YWJhc2UgZXJyb3InKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ3NlbmRDb25uZWN0aW9uUmVxdWVzdCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlcXVpcmUgYXV0aGVudGljYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuYXV0aC5nZXRVc2VyLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyB1c2VyOiBudWxsIH0sXG4gICAgICAgIGVycm9yOiBudWxsXG4gICAgICB9KVxuXG4gICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICByZWNpcGllbnRfaWQ6ICd1c2VyLTInLFxuICAgICAgICBtZXNzYWdlOiAnSGkhJ1xuICAgICAgfVxuXG4gICAgICBhd2FpdCBleHBlY3QoUGVvcGxlU2VydmljZS5zZW5kQ29ubmVjdGlvblJlcXVlc3QocmVxdWVzdCkpXG4gICAgICAgIC5yZWplY3RzLnRvVGhyb3coJ1VzZXIgbm90IGF1dGhlbnRpY2F0ZWQnKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ2dldENvbm5lY3Rpb25zJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGVtcHR5IGFycmF5IG9uIGVycm9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20oKS5zZWxlY3QoKS5lcSgpLnNpbmdsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yOiBuZXcgRXJyb3IoJ1VzZXIgbm90IGZvdW5kJylcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBlb3BsZVNlcnZpY2UuZ2V0Q29ubmVjdGlvbnMoJ2ludmFsaWQtdXNlcicpXG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoW10pXG4gICAgfSlcbiAgfSlcbn0pXG5cbmRlc2NyaWJlKCdPcmdhbml6YXRpb25TZXJ2aWNlJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxuICB9KVxuXG4gIGRlc2NyaWJlKCdjcmVhdGVPcmdhbml6YXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXF1aXJlIGF1dGhlbnRpY2F0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmF1dGguZ2V0VXNlci5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgdXNlcjogbnVsbCB9LFxuICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgfSlcblxuICAgICAgY29uc3QgZm9ybURhdGEgPSB7XG4gICAgICAgIG5hbWU6ICdUZXN0IE9yZycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCcsXG4gICAgICAgIHR5cGU6ICdjb21tdW5pdHknIGFzIGNvbnN0LFxuICAgICAgICB2aXNpYmlsaXR5OiAncHVibGljJyBhcyBjb25zdFxuICAgICAgfVxuXG4gICAgICBhd2FpdCBleHBlY3QoT3JnYW5pemF0aW9uU2VydmljZS5jcmVhdGVPcmdhbml6YXRpb24oZm9ybURhdGEpKVxuICAgICAgICAucmVqZWN0cy50b1Rocm93KCdVc2VyIG5vdCBhdXRoZW50aWNhdGVkJylcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdnZXRVc2VyT3JnYW5pemF0aW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBlbXB0eSBhcnJheSBvbiBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tKCkuc2VsZWN0KCkuZXEoKS5zaW5nbGUubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICBlcnJvcjogbmV3IEVycm9yKCdVc2VyIG5vdCBmb3VuZCcpXG4gICAgICB9KVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBPcmdhbml6YXRpb25TZXJ2aWNlLmdldFVzZXJPcmdhbml6YXRpb25zKCdpbnZhbGlkLXVzZXInKVxuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKFtdKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ3NlYXJjaE9yZ2FuaXphdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzZWFyY2ggb3JnYW5pemF0aW9ucyB3aXRoIGZpbHRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9maWxlc0RhdGEgPSBbXG4gICAgICAgIHsgd2Vic2l0ZTogJ3t9JyB9XG4gICAgICBdXG5cbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tKCkuc2VsZWN0KCkubGltaXQubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBwcm9maWxlc0RhdGEsXG4gICAgICAgIGVycm9yOiBudWxsXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBmaWx0ZXJzID0ge1xuICAgICAgICBxdWVyeTogJ2JpdGNvaW4nLFxuICAgICAgICBsaW1pdDogMTBcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgT3JnYW5pemF0aW9uU2VydmljZS5zZWFyY2hPcmdhbml6YXRpb25zKGZpbHRlcnMpXG4gICAgICBcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdCkpLnRvQmUodHJ1ZSlcbiAgICB9KVxuICB9KVxufSlcblxuZGVzY3JpYmUoJ1Byb2plY3RTZXJ2aWNlJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxuICB9KVxuXG4gIGRlc2NyaWJlKCdjcmVhdGVQcm9qZWN0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVxdWlyZSBhdXRoZW50aWNhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5hdXRoLmdldFVzZXIubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHVzZXI6IG51bGwgfSxcbiAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGZvcm1EYXRhID0ge1xuICAgICAgICBuYW1lOiAnVGVzdCBQcm9qZWN0JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUZXN0JyxcbiAgICAgICAgY2F0ZWdvcnk6ICdkZXZlbG9wbWVudCcgYXMgY29uc3QsXG4gICAgICAgIHZpc2liaWxpdHk6ICdwdWJsaWMnIGFzIGNvbnN0XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IGV4cGVjdChQcm9qZWN0U2VydmljZS5jcmVhdGVQcm9qZWN0KGZvcm1EYXRhKSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygnVXNlciBub3QgYXV0aGVudGljYXRlZCcpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnZ2V0VXNlclByb2plY3RzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGVtcHR5IGFycmF5IG9uIGVycm9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20oKS5zZWxlY3QoKS5lcSgpLnNpbmdsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yOiBuZXcgRXJyb3IoJ1VzZXIgbm90IGZvdW5kJylcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb2plY3RTZXJ2aWNlLmdldFVzZXJQcm9qZWN0cygnaW52YWxpZC11c2VyJylcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChbXSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdzZWFyY2hQcm9qZWN0cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHNlYXJjaCBwcm9qZWN0cyBieSBjYXRlZ29yeScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2ZpbGVzRGF0YSA9IFtcbiAgICAgICAgeyB3ZWJzaXRlOiAne30nIH1cbiAgICAgIF1cblxuICAgICAgbW9ja1N1cGFiYXNlLmZyb20oKS5zZWxlY3QoKS5saW1pdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHByb2ZpbGVzRGF0YSxcbiAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGZpbHRlcnMgPSB7XG4gICAgICAgIGNhdGVnb3J5OiAnZWR1Y2F0aW9uJ1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQcm9qZWN0U2VydmljZS5zZWFyY2hQcm9qZWN0cyhmaWx0ZXJzKVxuICAgICAgXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQpKS50b0JlKHRydWUpXG4gICAgfSlcbiAgfSlcbn0pXG5cbmRlc2NyaWJlKCdTZWFyY2hTZXJ2aWNlJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxuICB9KVxuXG4gIGRlc2NyaWJlKCd1bml2ZXJzYWxTZWFyY2gnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2VhcmNoIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZWFyY2ggZmFpbGVkJyk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU2VhcmNoU2VydmljZS51bml2ZXJzYWxTZWFyY2goeyBxdWVyeTogJ3Rlc3QnIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKFtdKTtcbiAgICB9KTtcbiAgfSk7XG59KVxuXG5kZXNjcmliZSgnU29jaWFsQW5hbHl0aWNzU2VydmljZScsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKClcbiAgfSlcblxuICBkZXNjcmliZSgnZ2V0VXNlckFuYWx5dGljcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBkZWZhdWx0IGFuYWx5dGljcyBvbiBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQW5hbHl0aWNzIGZhaWxlZCcpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFNvY2lhbEFuYWx5dGljc1NlcnZpY2UuZ2V0VXNlckFuYWx5dGljcygnaW52YWxpZC11c2VyJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCd0b3RhbF9jb25uZWN0aW9ucycsIDApO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3BlbmRpbmdfcmVxdWVzdHMnLCAwKVxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ29yZ2FuaXphdGlvbnNfam9pbmVkJywgMClcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdwcm9qZWN0c19qb2luZWQnLCAwKVxuICAgIH0pXG4gIH0pXG59KVxuXG5kZXNjcmliZSgnRW1wdHlTdGF0ZVNlcnZpY2UnLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdnZXRFbXB0eVN0YXRlQ29udGVudCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBwZW9wbGUgZW1wdHkgc3RhdGUgY29udGVudCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBFbXB0eVN0YXRlU2VydmljZS5nZXRFbXB0eVN0YXRlQ29udGVudCgncGVvcGxlJylcbiAgICAgIFxuICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvSGF2ZVByb3BlcnR5KCd0aXRsZScsICdObyBDb25uZWN0aW9ucyBZZXQnKVxuICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvSGF2ZVByb3BlcnR5KCdkZXNjcmlwdGlvbicpXG4gICAgICBleHBlY3QoY29udGVudCkudG9IYXZlUHJvcGVydHkoJ3ByaW1hcnlBY3Rpb24nKVxuICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvSGF2ZVByb3BlcnR5KCdiZW5lZml0cycpXG4gICAgICBleHBlY3QoY29udGVudCkudG9IYXZlUHJvcGVydHkoJ2V4YW1wbGVzJylcbiAgICAgIGV4cGVjdChjb250ZW50LmJlbmVmaXRzKS50b0NvbnRhaW4oJ0NvbGxhYm9yYXRlIG9uIEJpdGNvaW4gcHJvamVjdHMnKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBvcmdhbml6YXRpb25zIGVtcHR5IHN0YXRlIGNvbnRlbnQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ZW50ID0gRW1wdHlTdGF0ZVNlcnZpY2UuZ2V0RW1wdHlTdGF0ZUNvbnRlbnQoJ29yZ2FuaXphdGlvbnMnKVxuICAgICAgXG4gICAgICBleHBlY3QoY29udGVudCkudG9IYXZlUHJvcGVydHkoJ3RpdGxlJywgJ05vIE9yZ2FuaXphdGlvbnMgWWV0JylcbiAgICAgIGV4cGVjdChjb250ZW50LmJlbmVmaXRzKS50b0NvbnRhaW4oJ1NoYXJlZCBCaXRjb2luIHRyZWFzdXJ5IG1hbmFnZW1lbnQnKVxuICAgICAgZXhwZWN0KGNvbnRlbnQuZXhhbXBsZXMpLnRvQ29udGFpbignQml0Y29pbiBkZXZlbG9wbWVudCBjb2xsZWN0aXZlcycpXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHByb2plY3RzIGVtcHR5IHN0YXRlIGNvbnRlbnQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ZW50ID0gRW1wdHlTdGF0ZVNlcnZpY2UuZ2V0RW1wdHlTdGF0ZUNvbnRlbnQoJ3Byb2plY3RzJylcbiAgICAgIFxuICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvSGF2ZVByb3BlcnR5KCd0aXRsZScsICdObyBQcm9qZWN0cyBZZXQnKVxuICAgICAgZXhwZWN0KGNvbnRlbnQuYmVuZWZpdHMpLnRvQ29udGFpbignRGVkaWNhdGVkIEJpdGNvaW4gZnVuZHJhaXNpbmcnKVxuICAgICAgZXhwZWN0KGNvbnRlbnQuZXhhbXBsZXMpLnRvQ29udGFpbignQml0Y29pbiBlZHVjYXRpb24gaW5pdGlhdGl2ZXMnKVxuICAgIH0pXG4gIH0pXG59KVxuXG4vLyBJbnRlZ3JhdGlvbiBUZXN0c1xuZGVzY3JpYmUoJ1NvY2lhbCBDb2xsYWJvcmF0aW9uIEludGVncmF0aW9uJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgaGFuZGxlIGVycm9yIHNjZW5hcmlvcyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIFRlc3QgZGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsdXJlXG4gICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICB9KTtcblxuICAgIGF3YWl0IGV4cGVjdChQZW9wbGVTZXJ2aWNlLnNlYXJjaFBlb3BsZSgpKS5yZWplY3RzLnRvVGhyb3coJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyk7XG5cbiAgICAvLyBUZXN0IGF1dGhlbnRpY2F0aW9uIGZhaWx1cmVcbiAgICBtb2NrU3VwYWJhc2UuYXV0aC5nZXRVc2VyLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGRhdGE6IHsgdXNlcjogbnVsbCB9LFxuICAgICAgZXJyb3I6IG5ldyBFcnJvcignQXV0aGVudGljYXRpb24gZmFpbGVkJylcbiAgICB9KVxuXG4gICAgYXdhaXQgZXhwZWN0KFBlb3BsZVNlcnZpY2Uuc2VuZENvbm5lY3Rpb25SZXF1ZXN0KHtcbiAgICAgIHJlY2lwaWVudF9pZDogJ3VzZXItMicsXG4gICAgICBtZXNzYWdlOiAnSGVsbG8nXG4gICAgfSkpLnJlamVjdHMudG9UaHJvdygnVXNlciBub3QgYXV0aGVudGljYXRlZCcpXG4gIH0pXG59KVxuXG4vLyBTZWN1cml0eSBUZXN0c1xuZGVzY3JpYmUoJ1NlY3VyaXR5IFRlc3RzJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgcmVxdWlyZSBhdXRoZW50aWNhdGlvbiBmb3Igc2Vuc2l0aXZlIG9wZXJhdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgbW9ja1N1cGFiYXNlLmF1dGguZ2V0VXNlci5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBkYXRhOiB7IHVzZXI6IG51bGwgfSxcbiAgICAgIGVycm9yOiBudWxsXG4gICAgfSlcblxuICAgIC8vIEFsbCB0aGVzZSBvcGVyYXRpb25zIHNob3VsZCByZXF1aXJlIGF1dGhlbnRpY2F0aW9uXG4gICAgYXdhaXQgZXhwZWN0KFBlb3BsZVNlcnZpY2Uuc2VuZENvbm5lY3Rpb25SZXF1ZXN0KHtcbiAgICAgIHJlY2lwaWVudF9pZDogJ3VzZXItMicsXG4gICAgICBtZXNzYWdlOiAnSGVsbG8nXG4gICAgfSkpLnJlamVjdHMudG9UaHJvdygnVXNlciBub3QgYXV0aGVudGljYXRlZCcpXG5cbiAgICBhd2FpdCBleHBlY3QoT3JnYW5pemF0aW9uU2VydmljZS5jcmVhdGVPcmdhbml6YXRpb24oe1xuICAgICAgbmFtZTogJ1Rlc3QgT3JnJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCcsXG4gICAgICB0eXBlOiAnY29tbXVuaXR5JyxcbiAgICAgIHZpc2liaWxpdHk6ICdwdWJsaWMnXG4gICAgfSkpLnJlamVjdHMudG9UaHJvdygnVXNlciBub3QgYXV0aGVudGljYXRlZCcpXG5cbiAgICBhd2FpdCBleHBlY3QoUHJvamVjdFNlcnZpY2UuY3JlYXRlUHJvamVjdCh7XG4gICAgICBuYW1lOiAnVGVzdCBQcm9qZWN0JyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCcsXG4gICAgICBjYXRlZ29yeTogJ2RldmVsb3BtZW50JyxcbiAgICAgIHZpc2liaWxpdHk6ICdwdWJsaWMnXG4gICAgfSkpLnJlamVjdHMudG9UaHJvdygnVXNlciBub3QgYXV0aGVudGljYXRlZCcpXG4gIH0pXG59KSAiXSwidmVyc2lvbiI6M30=