{"version":3,"names":["cov_1eer9ihhwk","actualCoverage","exports","default","ShareButton","react_1","s","require","lucide_react_1","Button_1","__importDefault","CampaignShare_1","campaignId","campaignTitle","campaignDescription","campaignImage","variant","b","size","className","f","showShare","setShowShare","useState","buttonRef","useRef","dropdownRef","useEffect","handleClickOutside","event","current","contains","target","_a","document","addEventListener","removeEventListener","handleEscape","key","toggleShare","e","stopPropagation","jsx_runtime_1","jsxs","children","jsx","ref","onClick","Share2","onClose"],"sources":["/home/g/dev/orangecat/src/components/sharing/ShareButton.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect } from 'react'\nimport { Share2 } from 'lucide-react'\nimport Button from '@/components/ui/Button'\nimport CampaignShare from './CampaignShare'\n\ninterface ShareButtonProps {\n  campaignId: string\n  campaignTitle: string\n  campaignDescription?: string\n  campaignImage?: string\n  variant?: 'button' | 'icon'\n  size?: 'sm' | 'md' | 'lg'\n  className?: string\n}\n\nexport default function ShareButton({\n  campaignId,\n  campaignTitle,\n  campaignDescription,\n  campaignImage,\n  variant = 'button',\n  size = 'md',\n  className = ''\n}: ShareButtonProps) {\n  const [showShare, setShowShare] = useState(false)\n  const buttonRef = useRef<HTMLButtonElement>(null)\n  const dropdownRef = useRef<HTMLDivElement>(null)\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(event.target as Node) &&\n        !buttonRef.current?.contains(event.target as Node)\n      ) {\n        setShowShare(false)\n      }\n    }\n\n    if (showShare) {\n      document.addEventListener('mousedown', handleClickOutside)\n      return () => document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [showShare])\n\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        setShowShare(false)\n      }\n    }\n\n    if (showShare) {\n      document.addEventListener('keydown', handleEscape)\n      return () => document.removeEventListener('keydown', handleEscape)\n    }\n  }, [showShare])\n\n  const toggleShare = (e: React.MouseEvent) => {\n    e.stopPropagation()\n    setShowShare(!showShare)\n  }\n\n  if (variant === 'icon') {\n    return (\n      <div className={`relative ${className}`}>\n        <button\n          ref={buttonRef}\n          onClick={toggleShare}\n          className=\"p-2 rounded-lg hover:bg-gray-100 transition-colors\"\n          aria-label=\"Share campaign\"\n        >\n          <Share2 className={`${\n            size === 'sm' ? 'w-4 h-4' :\n            size === 'lg' ? 'w-6 h-6' :\n            'w-5 h-5'\n          } text-gray-600`} />\n        </button>\n\n        {showShare && (\n          <div\n            ref={dropdownRef}\n            className=\"absolute top-full right-0 mt-2 z-50\"\n          >\n            <CampaignShare\n              campaignId={campaignId}\n              campaignTitle={campaignTitle}\n              campaignDescription={campaignDescription}\n              campaignImage={campaignImage}\n              variant=\"dropdown\"\n              onClose={() => setShowShare(false)}\n            />\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <div className={`relative ${className}`}>\n      <Button\n        ref={buttonRef}\n        onClick={toggleShare}\n        variant=\"outline\"\n        size={size}\n        className=\"flex items-center gap-2\"\n      >\n        <Share2 className={`${\n          size === 'sm' ? 'w-3 h-3' :\n          size === 'lg' ? 'w-5 h-5' :\n          'w-4 h-4'\n        }`} />\n        Share\n      </Button>\n\n      {showShare && (\n        <div\n          ref={dropdownRef}\n          className=\"absolute top-full right-0 mt-2 z-50\"\n        >\n          <CampaignShare\n            campaignId={campaignId}\n            campaignTitle={campaignTitle}\n            campaignDescription={campaignDescription}\n            campaignImage={campaignImage}\n            variant=\"dropdown\"\n            onClose={() => setShowShare(false)}\n          />\n        </div>\n      )}\n    </div>\n  )\n} "],"mappings":"AAAA,YAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}