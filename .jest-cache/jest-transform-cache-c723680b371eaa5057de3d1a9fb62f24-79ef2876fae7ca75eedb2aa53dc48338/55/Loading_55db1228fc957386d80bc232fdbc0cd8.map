{"version":3,"names":["cov_1wh44zb8a","actualCoverage","exports","default","Loading","s","GlobalAuthErrorBanner","GlobalAuthLoader","react_1","__importDefault","require","lucide_react_1","useAuth_1","react_2","fullScreen","b","message","size","overlay","className","f","sizeClasses","small","medium","large","containerClasses","overlayClasses","content","jsx_runtime_1","jsxs","suppressHydrationWarning","children","jsx","Loader2","authError","setAuthError","useAuth","useEffect","onClick","isLoading","hydrated"],"sources":["/home/g/dev/orangecat/src/components/Loading.tsx"],"sourcesContent":["'use client'\nimport React from 'react'\nimport { Loader2 } from 'lucide-react'\nimport { useAuth } from '@/hooks/useAuth'\nimport { useEffect } from 'react'\n\ninterface Props {\n  fullScreen?: boolean\n  message?: string\n  size?: 'small' | 'medium' | 'large'\n  overlay?: boolean\n  className?: string\n}\n\nexport default function Loading({\n  fullScreen = false,\n  message = 'Loading...',\n  size = 'medium',\n  overlay = false,\n  className = ''\n}: Props) {\n  // Size mapping\n  const sizeClasses = {\n    small: 'h-5 w-5',\n    medium: 'h-8 w-8',\n    large: 'h-12 w-12'\n  }\n\n  // Container classes\n  const containerClasses = fullScreen\n    ? 'min-h-screen flex items-center justify-center'\n    : 'flex items-center justify-center ' + className\n  \n  // Overlay classes\n  const overlayClasses = overlay \n    ? 'fixed inset-0 bg-black/30 backdrop-blur-sm z-loading flex items-center justify-center'\n    : ''\n\n  const content = (\n    <div className=\"flex flex-col items-center space-y-3\" suppressHydrationWarning>\n      <Loader2 className={`${sizeClasses[size]} animate-spin text-tiffany-500`} />\n      {message && <p className=\"text-sm text-gray-600 font-sans\">{message}</p>}\n    </div>\n  )\n\n  if (overlay) {\n    return (\n      <div className={overlayClasses} suppressHydrationWarning>\n        {content}\n      </div>\n    )\n  }\n\n  return (\n    <div className={containerClasses} suppressHydrationWarning>\n      {content}\n    </div>\n  )\n}\n\nexport function GlobalAuthErrorBanner() {\n  const { authError, setAuthError } = useAuth();\n\n  useEffect(() => {\n    if (authError) {\n    }\n  }, [authError]);\n\n  if (!authError) return null;\n\n  return (\n    <div className=\"fixed top-0 left-0 right-0 z-toast bg-red-600 text-white text-center py-3 shadow-lg animate-fade-in\">\n      <span>{authError}</span>\n      <button\n        className=\"ml-4 px-3 py-1 bg-white text-red-600 rounded hover:bg-gray-100 transition\"\n        onClick={() => {\n          setAuthError(null);\n          // Error dismissed by user\n        }}\n      >\n        Dismiss\n      </button>\n    </div>\n  );\n}\n\n// Global loading overlay tied to auth store â€“ shows a semi-transparent overlay\n// with spinner whenever the auth store is in a loading state *after* hydration.\n// This keeps the header / layout visible while conveying progress.\nexport function GlobalAuthLoader() {\n  const { isLoading, hydrated } = useAuth();\n\n  if (!hydrated || !isLoading) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-white/60 backdrop-blur-sm z-loading flex items-center justify-center pointer-events-none\">\n      <Loader2 className=\"h-10 w-10 animate-spin text-tiffany-500\" />\n    </div>\n  );\n} "],"mappings":"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","ignoreList":[]}