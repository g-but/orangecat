5bea643f53a8e6df67db8e9a2be252f6
"use strict";
/**
 * SEARCH SERVICE - SIMPLE TEST COVERAGE
 *
 * This test suite provides focused coverage for Search Service utility functions
 * and basic functionality without complex Supabase mocking.
 *
 * Created: 2025-01-08
 * Last Modified: 2025-01-08
 * Last Modified Summary: Simple Search Service tests focusing on utility functions
 */
Object.defineProperty(exports, "__esModule", { value: true });
// Mock Supabase with minimal working implementation
jest.mock('@supabase/ssr', () => ({
    createBrowserClient: jest.fn(() => ({
        from: () => ({
            select: () => ({
                or: () => ({
                    eq: () => ({
                        order: () => ({
                            range: () => Promise.resolve({
                                data: [],
                                error: null,
                                count: 0
                            })
                        })
                    })
                })
            })
        })
    }))
}));
const search_1 = require("../search");
// Import after mocking
const search_2 = require("../search");
describe('🔍 Search Service - Simple Coverage', () => {
    beforeEach(() => {
        (0, search_1.clearSearchCache)();
    });
    describe('🎯 Basic Search Operations', () => {
        test('should export search function', () => {
            expect(typeof search_2.search).toBe('function');
            expect(search_2.search).toBeDefined();
        });
        test('should export getTrending function', () => {
            expect(typeof search_2.getTrending).toBe('function');
            expect(search_2.getTrending).toBeDefined();
        });
        test('should export getSearchSuggestions function', () => {
            expect(typeof search_2.getSearchSuggestions).toBe('function');
            expect(search_2.getSearchSuggestions).toBeDefined();
        });
        test('should export clearSearchCache function', () => {
            expect(typeof search_1.clearSearchCache).toBe('function');
            expect(search_1.clearSearchCache).toBeDefined();
        });
    });
    describe('🔧 Search Configuration Validation', () => {
        test('should handle basic search options structure', async () => {
            const options = {
                query: 'test',
                type: 'profiles',
                sortBy: 'relevance',
                limit: 10
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(result).toHaveProperty('results');
            expect(result).toHaveProperty('totalCount');
            expect(result).toHaveProperty('hasMore');
            expect(Array.isArray(result.results)).toBe(true);
            expect(typeof result.totalCount).toBe('number');
            expect(typeof result.hasMore).toBe('boolean');
        });
        test('should handle campaign search type', async () => {
            const options = {
                query: 'bitcoin',
                type: 'campaigns',
                sortBy: 'recent'
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
            expect(result.totalCount).toBeGreaterThanOrEqual(0);
        });
        test('should handle "all" search type', async () => {
            const options = {
                query: 'education',
                type: 'all',
                sortBy: 'relevance'
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
            expect(result.totalCount).toBeGreaterThanOrEqual(0);
        });
    });
    describe('🔀 Sort Options Validation', () => {
        test('should handle relevance sorting', async () => {
            const options = {
                query: 'test',
                type: 'profiles',
                sortBy: 'relevance'
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
        test('should handle recent sorting', async () => {
            const options = {
                query: 'test',
                type: 'campaigns',
                sortBy: 'recent'
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
        test('should handle popular sorting', async () => {
            const options = {
                query: 'test',
                type: 'campaigns',
                sortBy: 'popular'
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
        test('should handle funding sorting', async () => {
            const options = {
                query: 'test',
                type: 'campaigns',
                sortBy: 'funding'
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
    });
    describe('🔍 Filter Options', () => {
        test('should handle category filters', async () => {
            const options = {
                query: 'test',
                type: 'campaigns',
                sortBy: 'relevance',
                filters: {
                    categories: ['education', 'technology']
                }
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
        test('should handle active status filter', async () => {
            const options = {
                query: 'test',
                type: 'campaigns',
                sortBy: 'relevance',
                filters: {
                    isActive: true
                }
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
        test('should handle goal requirement filter', async () => {
            const options = {
                query: 'test',
                type: 'campaigns',
                sortBy: 'relevance',
                filters: {
                    hasGoal: true
                }
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
        test('should handle funding range filters', async () => {
            const options = {
                query: 'test',
                type: 'campaigns',
                sortBy: 'relevance',
                filters: {
                    minFunding: 10000000, // 0.1 BTC in satoshis
                    maxFunding: 100000000 // 1 BTC in satoshis
                }
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
        test('should handle date range filters', async () => {
            const options = {
                query: 'test',
                type: 'campaigns',
                sortBy: 'relevance',
                filters: {
                    dateRange: {
                        start: '2024-01-01',
                        end: '2024-12-31'
                    }
                }
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
    });
    describe('📄 Pagination Support', () => {
        test('should handle limit parameter', async () => {
            const options = {
                query: 'test',
                type: 'all',
                sortBy: 'relevance',
                limit: 5
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
            expect(result.results.length).toBeLessThanOrEqual(5);
        });
        test('should handle offset parameter', async () => {
            const options = {
                query: 'test',
                type: 'all',
                sortBy: 'relevance',
                limit: 10,
                offset: 20
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
        test('should calculate hasMore correctly for small result sets', async () => {
            const options = {
                query: 'veryspecificquerythatshouldhavenoorcampaigns',
                type: 'all',
                sortBy: 'relevance',
                limit: 10
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(result.hasMore).toBe(false);
        });
    });
    describe('📊 Trending and Suggestions', () => {
        test('should get trending campaigns', async () => {
            const result = await (0, search_2.getTrending)();
            expect(result).toBeDefined();
            expect(result).toHaveProperty('results');
            expect(result).toHaveProperty('totalCount');
            expect(result).toHaveProperty('hasMore');
            expect(Array.isArray(result.results)).toBe(true);
            expect(typeof result.totalCount).toBe('number');
            expect(typeof result.hasMore).toBe('boolean');
        });
        test('should get search suggestions', async () => {
            const suggestions = await (0, search_2.getSearchSuggestions)('bit', 5);
            expect(Array.isArray(suggestions)).toBe(true);
            expect(suggestions.length).toBeLessThanOrEqual(5);
        });
        test('should handle empty suggestion query', async () => {
            const suggestions = await (0, search_2.getSearchSuggestions)('', 5);
            expect(Array.isArray(suggestions)).toBe(true);
            expect(suggestions.length).toBeGreaterThanOrEqual(0);
        });
        test('should respect suggestion limit', async () => {
            const suggestions = await (0, search_2.getSearchSuggestions)('bitcoin', 3);
            expect(Array.isArray(suggestions)).toBe(true);
            expect(suggestions.length).toBeLessThanOrEqual(3);
        });
    });
    describe('💾 Cache Management', () => {
        test('should clear cache without errors', () => {
            expect(() => {
                (0, search_1.clearSearchCache)();
            }).not.toThrow();
        });
        test('should work after cache clear', async () => {
            (0, search_1.clearSearchCache)();
            const options = {
                query: 'test',
                type: 'all',
                sortBy: 'relevance'
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
        test('should handle multiple cache clears', () => {
            expect(() => {
                (0, search_1.clearSearchCache)();
                (0, search_1.clearSearchCache)();
                (0, search_1.clearSearchCache)();
            }).not.toThrow();
        });
    });
    describe('🛡️ Error Resilience', () => {
        test('should handle empty query strings', async () => {
            const options = {
                query: '',
                type: 'all',
                sortBy: 'relevance'
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
        test('should handle undefined query', async () => {
            const options = {
                query: undefined,
                type: 'profiles',
                sortBy: 'relevance'
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
        test('should handle malformed search options gracefully', async () => {
            const options = {
                query: 'test',
                type: 'all',
                sortBy: 'relevance',
                limit: -1, // Invalid limit
                offset: -5 // Invalid offset
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
    });
    describe('🧪 Edge Cases', () => {
        test('should handle very long search queries', async () => {
            const longQuery = 'a'.repeat(1000);
            const options = {
                query: longQuery,
                type: 'all',
                sortBy: 'relevance',
                limit: 5
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
        test('should handle special characters in search', async () => {
            const options = {
                query: '!@#$%^&*()',
                type: 'all',
                sortBy: 'relevance'
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
        test('should handle Unicode characters', async () => {
            const options = {
                query: '比特币 ビットコイン 🚀',
                type: 'all',
                sortBy: 'relevance'
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
        test('should handle very large limit values', async () => {
            const options = {
                query: 'test',
                type: 'all',
                sortBy: 'relevance',
                limit: Number.MAX_SAFE_INTEGER
            };
            const result = await (0, search_2.search)(options);
            expect(result).toBeDefined();
            expect(Array.isArray(result.results)).toBe(true);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvZy9kZXYvb3JhbmdlY2F0L3NyYy9zZXJ2aWNlcy9fX3Rlc3RzX18vc2VhcmNoLnNpbXBsZS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7O0dBU0c7O0FBSUgsb0RBQW9EO0FBQ3BELElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDaEMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQ2xDLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1lBQ1gsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7Z0JBQ2IsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7b0JBQ1QsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7d0JBQ1QsS0FBSyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7NEJBQ1osS0FBSyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUM7Z0NBQzNCLElBQUksRUFBRSxFQUFFO2dDQUNSLEtBQUssRUFBRSxJQUFJO2dDQUNYLEtBQUssRUFBRSxDQUFDOzZCQUNULENBQUM7eUJBQ0gsQ0FBQztxQkFDSCxDQUFDO2lCQUNILENBQUM7YUFDSCxDQUFDO1NBQ0gsQ0FBQztLQUNILENBQUMsQ0FBQztDQUNKLENBQUMsQ0FBQyxDQUFBO0FBckJILHNDQUE0QztBQXVCNUMsdUJBQXVCO0FBQ3ZCLHNDQUFxRTtBQUdyRSxRQUFRLENBQUMscUNBQXFDLEVBQUUsR0FBRyxFQUFFO0lBRW5ELFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDZCxJQUFBLHlCQUFnQixHQUFFLENBQUE7SUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFFRixRQUFRLENBQUMsNEJBQTRCLEVBQUUsR0FBRyxFQUFFO1FBRTFDLElBQUksQ0FBQywrQkFBK0IsRUFBRSxHQUFHLEVBQUU7WUFDekMsTUFBTSxDQUFDLE9BQU8sZUFBTSxDQUFDLENBQUMsSUFBSSxDQUFD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O1FBRUYsSUFBSSxDQUFDLHVDQUF1QyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ3ZELE1BQU0sT0FBTyxHQUFrQjtnQkFDN0IsS0FBSyxFQUFFLE1BQU07Z0JBQ2IsSUFBSSxFQUFFLEtBQUs7Z0JBQ1gsTUFBTSxFQUFFLFdBQVc7Z0JBQ25CLEtBQUssRUFBRSxNQUFNLENBQUMsZ0JBQWdCO2FBQy9CLENBQUE7WUFFRCxNQUFNLE1BQU0sR0FBRyxNQUFNLElBQUEsZUFBTSxFQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXBDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUM1QixNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDbEQsQ0FBQyxDQUFDLENBQUE7SUFFSixDQUFDLENBQUMsQ0FBQTtBQUVKLENBQUMsQ0FBQyxDQUFBIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL2cvZGV2L29yYW5nZWNhdC9zcmMvc2VydmljZXMvX190ZXN0c19fL3NlYXJjaC5zaW1wbGUudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNFQVJDSCBTRVJWSUNFIC0gU0lNUExFIFRFU1QgQ09WRVJBR0VcbiAqIFxuICogVGhpcyB0ZXN0IHN1aXRlIHByb3ZpZGVzIGZvY3VzZWQgY292ZXJhZ2UgZm9yIFNlYXJjaCBTZXJ2aWNlIHV0aWxpdHkgZnVuY3Rpb25zXG4gKiBhbmQgYmFzaWMgZnVuY3Rpb25hbGl0eSB3aXRob3V0IGNvbXBsZXggU3VwYWJhc2UgbW9ja2luZy5cbiAqIFxuICogQ3JlYXRlZDogMjAyNS0wMS0wOFxuICogTGFzdCBNb2RpZmllZDogMjAyNS0wMS0wOFxuICogTGFzdCBNb2RpZmllZCBTdW1tYXJ5OiBTaW1wbGUgU2VhcmNoIFNlcnZpY2UgdGVzdHMgZm9jdXNpbmcgb24gdXRpbGl0eSBmdW5jdGlvbnNcbiAqL1xuXG5pbXBvcnQgeyBjbGVhclNlYXJjaENhY2hlIH0gZnJvbSAnLi4vc2VhcmNoJ1xuXG4vLyBNb2NrIFN1cGFiYXNlIHdpdGggbWluaW1hbCB3b3JraW5nIGltcGxlbWVudGF0aW9uXG5qZXN0Lm1vY2soJ0BzdXBhYmFzZS9zc3InLCAoKSA9PiAoe1xuICBjcmVhdGVCcm93c2VyQ2xpZW50OiBqZXN0LmZuKCgpID0+ICh7XG4gICAgZnJvbTogKCkgPT4gKHtcbiAgICAgIHNlbGVjdDogKCkgPT4gKHtcbiAgICAgICAgb3I6ICgpID0+ICh7XG4gICAgICAgICAgZXE6ICgpID0+ICh7XG4gICAgICAgICAgICBvcmRlcjogKCkgPT4gKHtcbiAgICAgICAgICAgICAgcmFuZ2U6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IFxuICAgICAgICAgICAgICAgIGRhdGE6IFtdLCBcbiAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCwgXG4gICAgICAgICAgICAgICAgY291bnQ6IDAgXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH0pKVxufSkpXG5cbi8vIEltcG9ydCBhZnRlciBtb2NraW5nXG5pbXBvcnQgeyBzZWFyY2gsIGdldFRyZW5kaW5nLCBnZXRTZWFyY2hTdWdnZXN0aW9ucyB9IGZyb20gJy4uL3NlYXJjaCdcbmltcG9ydCB0eXBlIHsgU2VhcmNoT3B0aW9ucyB9IGZyb20gJy4uL3NlYXJjaCdcblxuZGVzY3JpYmUoJ/CflI0gU2VhcmNoIFNlcnZpY2UgLSBTaW1wbGUgQ292ZXJhZ2UnLCAoKSA9PiB7XG4gIFxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBjbGVhclNlYXJjaENhY2hlKClcbiAgfSlcblxuICBkZXNjcmliZSgn8J+OryBCYXNpYyBTZWFyY2ggT3BlcmF0aW9ucycsICgpID0+IHtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgZXhwb3J0IHNlYXJjaCBmdW5jdGlvbicsICgpID0+IHtcbiAgICAgIGV4cGVjdCh0eXBlb2Ygc2VhcmNoKS50b0JlKCdmdW5jdGlvbicpXG4gICAgICBleHBlY3Qoc2VhcmNoKS50b0JlRGVmaW5lZCgpXG4gICAgfSlcblxuICAgIHRlc3QoJ3Nob3VsZCBleHBvcnQgZ2V0VHJlbmRpbmcgZnVuY3Rpb24nLCAoKSA9PiB7XG4gICAgICBleHBlY3QodHlwZW9mIGdldFRyZW5kaW5nKS50b0JlKCdmdW5jdGlvbicpXG4gICAgICBleHBlY3QoZ2V0VHJlbmRpbmcpLnRvQmVEZWZpbmVkKClcbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIGV4cG9ydCBnZXRTZWFyY2hTdWdnZXN0aW9ucyBmdW5jdGlvbicsICgpID0+IHtcbiAgICAgIGV4cGVjdCh0eXBlb2YgZ2V0U2VhcmNoU3VnZ2VzdGlvbnMpLnRvQmUoJ2Z1bmN0aW9uJylcbiAgICAgIGV4cGVjdChnZXRTZWFyY2hTdWdnZXN0aW9ucykudG9CZURlZmluZWQoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgZXhwb3J0IGNsZWFyU2VhcmNoQ2FjaGUgZnVuY3Rpb24nLCAoKSA9PiB7XG4gICAgICBleHBlY3QodHlwZW9mIGNsZWFyU2VhcmNoQ2FjaGUpLnRvQmUoJ2Z1bmN0aW9uJylcbiAgICAgIGV4cGVjdChjbGVhclNlYXJjaENhY2hlKS50b0JlRGVmaW5lZCgpXG4gICAgfSlcblxuICB9KVxuXG4gIGRlc2NyaWJlKCfwn5SnIFNlYXJjaCBDb25maWd1cmF0aW9uIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBiYXNpYyBzZWFyY2ggb3B0aW9ucyBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zOiBTZWFyY2hPcHRpb25zID0ge1xuICAgICAgICBxdWVyeTogJ3Rlc3QnLFxuICAgICAgICB0eXBlOiAncHJvZmlsZXMnLFxuICAgICAgICBzb3J0Qnk6ICdyZWxldmFuY2UnLFxuICAgICAgICBsaW1pdDogMTBcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoKG9wdGlvbnMpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdyZXN1bHRzJylcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCd0b3RhbENvdW50JylcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdoYXNNb3JlJylcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZXN1bHRzKSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQudG90YWxDb3VudCkudG9CZSgnbnVtYmVyJylcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0Lmhhc01vcmUpLnRvQmUoJ2Jvb2xlYW4nKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGNhbXBhaWduIHNlYXJjaCB0eXBlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uczogU2VhcmNoT3B0aW9ucyA9IHtcbiAgICAgICAgcXVlcnk6ICdiaXRjb2luJyxcbiAgICAgICAgdHlwZTogJ2NhbXBhaWducycsXG4gICAgICAgIHNvcnRCeTogJ3JlY2VudCdcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoKG9wdGlvbnMpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZXN1bHRzKSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KHJlc3VsdC50b3RhbENvdW50KS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApXG4gICAgfSlcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgXCJhbGxcIiBzZWFyY2ggdHlwZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnM6IFNlYXJjaE9wdGlvbnMgPSB7XG4gICAgICAgIHF1ZXJ5OiAnZWR1Y2F0aW9uJyxcbiAgICAgICAgdHlwZTogJ2FsbCcsXG4gICAgICAgIHNvcnRCeTogJ3JlbGV2YW5jZSdcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoKG9wdGlvbnMpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZXN1bHRzKSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KHJlc3VsdC50b3RhbENvdW50KS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApXG4gICAgfSlcblxuICB9KVxuXG4gIGRlc2NyaWJlKCfwn5SAIFNvcnQgT3B0aW9ucyBWYWxpZGF0aW9uJywgKCkgPT4ge1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgcmVsZXZhbmNlIHNvcnRpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zOiBTZWFyY2hPcHRpb25zID0ge1xuICAgICAgICBxdWVyeTogJ3Rlc3QnLFxuICAgICAgICB0eXBlOiAncHJvZmlsZXMnLFxuICAgICAgICBzb3J0Qnk6ICdyZWxldmFuY2UnXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlYXJjaChvcHRpb25zKVxuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQucmVzdWx0cykpLnRvQmUodHJ1ZSlcbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSByZWNlbnQgc29ydGluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnM6IFNlYXJjaE9wdGlvbnMgPSB7XG4gICAgICAgIHF1ZXJ5OiAndGVzdCcsXG4gICAgICAgIHR5cGU6ICdjYW1wYWlnbnMnLFxuICAgICAgICBzb3J0Qnk6ICdyZWNlbnQnXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlYXJjaChvcHRpb25zKVxuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQucmVzdWx0cykpLnRvQmUodHJ1ZSlcbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBwb3B1bGFyIHNvcnRpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zOiBTZWFyY2hPcHRpb25zID0ge1xuICAgICAgICBxdWVyeTogJ3Rlc3QnLFxuICAgICAgICB0eXBlOiAnY2FtcGFpZ25zJyxcbiAgICAgICAgc29ydEJ5OiAncG9wdWxhcidcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoKG9wdGlvbnMpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZXN1bHRzKSkudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGZ1bmRpbmcgc29ydGluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnM6IFNlYXJjaE9wdGlvbnMgPSB7XG4gICAgICAgIHF1ZXJ5OiAndGVzdCcsXG4gICAgICAgIHR5cGU6ICdjYW1wYWlnbnMnLFxuICAgICAgICBzb3J0Qnk6ICdmdW5kaW5nJ1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZWFyY2gob3B0aW9ucylcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LnJlc3VsdHMpKS50b0JlKHRydWUpXG4gICAgfSlcblxuICB9KVxuXG4gIGRlc2NyaWJlKCfwn5SNIEZpbHRlciBPcHRpb25zJywgKCkgPT4ge1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgY2F0ZWdvcnkgZmlsdGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnM6IFNlYXJjaE9wdGlvbnMgPSB7XG4gICAgICAgIHF1ZXJ5OiAndGVzdCcsXG4gICAgICAgIHR5cGU6ICdjYW1wYWlnbnMnLFxuICAgICAgICBzb3J0Qnk6ICdyZWxldmFuY2UnLFxuICAgICAgICBmaWx0ZXJzOiB7XG4gICAgICAgICAgY2F0ZWdvcmllczogWydlZHVjYXRpb24nLCAndGVjaG5vbG9neSddXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoKG9wdGlvbnMpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZXN1bHRzKSkudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGFjdGl2ZSBzdGF0dXMgZmlsdGVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uczogU2VhcmNoT3B0aW9ucyA9IHtcbiAgICAgICAgcXVlcnk6ICd0ZXN0JyxcbiAgICAgICAgdHlwZTogJ2NhbXBhaWducycsXG4gICAgICAgIHNvcnRCeTogJ3JlbGV2YW5jZScsXG4gICAgICAgIGZpbHRlcnM6IHtcbiAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlYXJjaChvcHRpb25zKVxuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQucmVzdWx0cykpLnRvQmUodHJ1ZSlcbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBnb2FsIHJlcXVpcmVtZW50IGZpbHRlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnM6IFNlYXJjaE9wdGlvbnMgPSB7XG4gICAgICAgIHF1ZXJ5OiAndGVzdCcsXG4gICAgICAgIHR5cGU6ICdjYW1wYWlnbnMnLFxuICAgICAgICBzb3J0Qnk6ICdyZWxldmFuY2UnLFxuICAgICAgICBmaWx0ZXJzOiB7XG4gICAgICAgICAgaGFzR29hbDogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlYXJjaChvcHRpb25zKVxuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQucmVzdWx0cykpLnRvQmUodHJ1ZSlcbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBmdW5kaW5nIHJhbmdlIGZpbHRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zOiBTZWFyY2hPcHRpb25zID0ge1xuICAgICAgICBxdWVyeTogJ3Rlc3QnLFxuICAgICAgICB0eXBlOiAnY2FtcGFpZ25zJyxcbiAgICAgICAgc29ydEJ5OiAncmVsZXZhbmNlJyxcbiAgICAgICAgZmlsdGVyczoge1xuICAgICAgICAgIG1pbkZ1bmRpbmc6IDEwMDAwMDAwLCAvLyAwLjEgQlRDIGluIHNhdG9zaGlzXG4gICAgICAgICAgbWF4RnVuZGluZzogMTAwMDAwMDAwIC8vIDEgQlRDIGluIHNhdG9zaGlzXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoKG9wdGlvbnMpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZXN1bHRzKSkudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGRhdGUgcmFuZ2UgZmlsdGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnM6IFNlYXJjaE9wdGlvbnMgPSB7XG4gICAgICAgIHF1ZXJ5OiAndGVzdCcsXG4gICAgICAgIHR5cGU6ICdjYW1wYWlnbnMnLFxuICAgICAgICBzb3J0Qnk6ICdyZWxldmFuY2UnLFxuICAgICAgICBmaWx0ZXJzOiB7XG4gICAgICAgICAgZGF0ZVJhbmdlOiB7XG4gICAgICAgICAgICBzdGFydDogJzIwMjQtMDEtMDEnLFxuICAgICAgICAgICAgZW5kOiAnMjAyNC0xMi0zMSdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoKG9wdGlvbnMpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZXN1bHRzKSkudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgfSlcblxuICBkZXNjcmliZSgn8J+ThCBQYWdpbmF0aW9uIFN1cHBvcnQnLCAoKSA9PiB7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBsaW1pdCBwYXJhbWV0ZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zOiBTZWFyY2hPcHRpb25zID0ge1xuICAgICAgICBxdWVyeTogJ3Rlc3QnLFxuICAgICAgICB0eXBlOiAnYWxsJyxcbiAgICAgICAgc29ydEJ5OiAncmVsZXZhbmNlJyxcbiAgICAgICAgbGltaXQ6IDVcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoKG9wdGlvbnMpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZXN1bHRzKSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzLmxlbmd0aCkudG9CZUxlc3NUaGFuT3JFcXVhbCg1KVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIG9mZnNldCBwYXJhbWV0ZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zOiBTZWFyY2hPcHRpb25zID0ge1xuICAgICAgICBxdWVyeTogJ3Rlc3QnLFxuICAgICAgICB0eXBlOiAnYWxsJyxcbiAgICAgICAgc29ydEJ5OiAncmVsZXZhbmNlJyxcbiAgICAgICAgbGltaXQ6IDEwLFxuICAgICAgICBvZmZzZXQ6IDIwXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlYXJjaChvcHRpb25zKVxuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQucmVzdWx0cykpLnRvQmUodHJ1ZSlcbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIGNhbGN1bGF0ZSBoYXNNb3JlIGNvcnJlY3RseSBmb3Igc21hbGwgcmVzdWx0IHNldHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zOiBTZWFyY2hPcHRpb25zID0ge1xuICAgICAgICBxdWVyeTogJ3ZlcnlzcGVjaWZpY3F1ZXJ5dGhhdHNob3VsZGhhdmVub29yY2FtcGFpZ25zJyxcbiAgICAgICAgdHlwZTogJ2FsbCcsXG4gICAgICAgIHNvcnRCeTogJ3JlbGV2YW5jZScsXG4gICAgICAgIGxpbWl0OiAxMFxuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZWFyY2gob3B0aW9ucylcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHJlc3VsdC5oYXNNb3JlKS50b0JlKGZhbHNlKVxuICAgIH0pXG5cbiAgfSlcblxuICBkZXNjcmliZSgn8J+TiiBUcmVuZGluZyBhbmQgU3VnZ2VzdGlvbnMnLCAoKSA9PiB7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGdldCB0cmVuZGluZyBjYW1wYWlnbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRUcmVuZGluZygpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdyZXN1bHRzJylcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCd0b3RhbENvdW50JylcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdoYXNNb3JlJylcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZXN1bHRzKSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQudG90YWxDb3VudCkudG9CZSgnbnVtYmVyJylcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0Lmhhc01vcmUpLnRvQmUoJ2Jvb2xlYW4nKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgZ2V0IHNlYXJjaCBzdWdnZXN0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gYXdhaXQgZ2V0U2VhcmNoU3VnZ2VzdGlvbnMoJ2JpdCcsIDUpXG5cbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHN1Z2dlc3Rpb25zKSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zLmxlbmd0aCkudG9CZUxlc3NUaGFuT3JFcXVhbCg1KVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGVtcHR5IHN1Z2dlc3Rpb24gcXVlcnknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdWdnZXN0aW9ucyA9IGF3YWl0IGdldFNlYXJjaFN1Z2dlc3Rpb25zKCcnLCA1KVxuXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShzdWdnZXN0aW9ucykpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChzdWdnZXN0aW9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMClcbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIHJlc3BlY3Qgc3VnZ2VzdGlvbiBsaW1pdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gYXdhaXQgZ2V0U2VhcmNoU3VnZ2VzdGlvbnMoJ2JpdGNvaW4nLCAzKVxuXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShzdWdnZXN0aW9ucykpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChzdWdnZXN0aW9ucy5sZW5ndGgpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMylcbiAgICB9KVxuXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ/Cfkr4gQ2FjaGUgTWFuYWdlbWVudCcsICgpID0+IHtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgY2xlYXIgY2FjaGUgd2l0aG91dCBlcnJvcnMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICBjbGVhclNlYXJjaENhY2hlKClcbiAgICAgIH0pLm5vdC50b1Rocm93KClcbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIHdvcmsgYWZ0ZXIgY2FjaGUgY2xlYXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjbGVhclNlYXJjaENhY2hlKClcblxuICAgICAgY29uc3Qgb3B0aW9uczogU2VhcmNoT3B0aW9ucyA9IHtcbiAgICAgICAgcXVlcnk6ICd0ZXN0JyxcbiAgICAgICAgdHlwZTogJ2FsbCcsXG4gICAgICAgIHNvcnRCeTogJ3JlbGV2YW5jZSdcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoKG9wdGlvbnMpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZXN1bHRzKSkudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIG11bHRpcGxlIGNhY2hlIGNsZWFycycsICgpID0+IHtcbiAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgIGNsZWFyU2VhcmNoQ2FjaGUoKVxuICAgICAgICBjbGVhclNlYXJjaENhY2hlKClcbiAgICAgICAgY2xlYXJTZWFyY2hDYWNoZSgpXG4gICAgICB9KS5ub3QudG9UaHJvdygpXG4gICAgfSlcblxuICB9KVxuXG4gIGRlc2NyaWJlKCfwn5uh77iPIEVycm9yIFJlc2lsaWVuY2UnLCAoKSA9PiB7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBxdWVyeSBzdHJpbmdzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uczogU2VhcmNoT3B0aW9ucyA9IHtcbiAgICAgICAgcXVlcnk6ICcnLFxuICAgICAgICB0eXBlOiAnYWxsJyxcbiAgICAgICAgc29ydEJ5OiAncmVsZXZhbmNlJ1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZWFyY2gob3B0aW9ucylcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LnJlc3VsdHMpKS50b0JlKHRydWUpXG4gICAgfSlcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgdW5kZWZpbmVkIHF1ZXJ5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uczogU2VhcmNoT3B0aW9ucyA9IHtcbiAgICAgICAgcXVlcnk6IHVuZGVmaW5lZCxcbiAgICAgICAgdHlwZTogJ3Byb2ZpbGVzJyxcbiAgICAgICAgc29ydEJ5OiAncmVsZXZhbmNlJ1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZWFyY2gob3B0aW9ucylcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LnJlc3VsdHMpKS50b0JlKHRydWUpXG4gICAgfSlcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbWFsZm9ybWVkIHNlYXJjaCBvcHRpb25zIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zOiBTZWFyY2hPcHRpb25zID0ge1xuICAgICAgICBxdWVyeTogJ3Rlc3QnLFxuICAgICAgICB0eXBlOiAnYWxsJyxcbiAgICAgICAgc29ydEJ5OiAncmVsZXZhbmNlJyxcbiAgICAgICAgbGltaXQ6IC0xLCAvLyBJbnZhbGlkIGxpbWl0XG4gICAgICAgIG9mZnNldDogLTUgLy8gSW52YWxpZCBvZmZzZXRcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoKG9wdGlvbnMpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZXN1bHRzKSkudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgfSlcblxuICBkZXNjcmliZSgn8J+nqiBFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgdmVyeSBsb25nIHNlYXJjaCBxdWVyaWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbG9uZ1F1ZXJ5ID0gJ2EnLnJlcGVhdCgxMDAwKVxuICAgICAgY29uc3Qgb3B0aW9uczogU2VhcmNoT3B0aW9ucyA9IHtcbiAgICAgICAgcXVlcnk6IGxvbmdRdWVyeSxcbiAgICAgICAgdHlwZTogJ2FsbCcsXG4gICAgICAgIHNvcnRCeTogJ3JlbGV2YW5jZScsXG4gICAgICAgIGxpbWl0OiA1XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlYXJjaChvcHRpb25zKVxuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQucmVzdWx0cykpLnRvQmUodHJ1ZSlcbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gc2VhcmNoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uczogU2VhcmNoT3B0aW9ucyA9IHtcbiAgICAgICAgcXVlcnk6ICchQCMkJV4mKigpJyxcbiAgICAgICAgdHlwZTogJ2FsbCcsXG4gICAgICAgIHNvcnRCeTogJ3JlbGV2YW5jZSdcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoKG9wdGlvbnMpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZXN1bHRzKSkudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIFVuaWNvZGUgY2hhcmFjdGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnM6IFNlYXJjaE9wdGlvbnMgPSB7XG4gICAgICAgIHF1ZXJ5OiAn5q+U54m55biBIOODk+ODg+ODiOOCs+OCpOODsyDwn5qAJyxcbiAgICAgICAgdHlwZTogJ2FsbCcsXG4gICAgICAgIHNvcnRCeTogJ3JlbGV2YW5jZSdcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoKG9wdGlvbnMpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZXN1bHRzKSkudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHZlcnkgbGFyZ2UgbGltaXQgdmFsdWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uczogU2VhcmNoT3B0aW9ucyA9IHtcbiAgICAgICAgcXVlcnk6ICd0ZXN0JyxcbiAgICAgICAgdHlwZTogJ2FsbCcsXG4gICAgICAgIHNvcnRCeTogJ3JlbGV2YW5jZScsXG4gICAgICAgIGxpbWl0OiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUlxuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZWFyY2gob3B0aW9ucylcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LnJlc3VsdHMpKS50b0JlKHRydWUpXG4gICAgfSlcblxuICB9KVxuXG59KSAiXSwidmVyc2lvbiI6M30=