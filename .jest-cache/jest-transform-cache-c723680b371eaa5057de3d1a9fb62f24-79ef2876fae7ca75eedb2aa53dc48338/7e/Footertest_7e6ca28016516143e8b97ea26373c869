080e9fa839e30550efe065bd588f922f
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
// Mock next/navigation
jest.mock('next/navigation', () => ({
    usePathname: jest.fn()
}));
// Mock next/link
jest.mock('next/link', () => {
    return function MockLink({ children, href, className }) {
        return (0, jsx_runtime_1.jsx)("a", { href: href, className: className, children: children });
    };
});
// Mock Logo component
jest.mock('../Logo', () => {
    return function MockLogo({ className }) {
        return (0, jsx_runtime_1.jsx)("div", { "data-testid": "logo", className: className, children: "OrangeCat Logo" });
    };
});
// Mock Lucide React icons
jest.mock('lucide-react', () => ({
    ArrowUp: ({ className }) => ((0, jsx_runtime_1.jsx)("div", { "data-testid": "arrow-up-icon", className: className, children: "ArrowUp" })),
    Github: ({ className }) => ((0, jsx_runtime_1.jsx)("div", { "data-testid": "github-icon", className: className, children: "Github" })),
    Twitter: ({ className }) => ((0, jsx_runtime_1.jsx)("div", { "data-testid": "twitter-icon", className: className, children: "Twitter" }))
}));
// Mock navigation config
jest.mock('@/config/navigation', () => ({
    navigation: {
        main: [
            { name: 'Fund Yourself', href: '/create' },
            { name: 'Discover', href: '/discover' },
            { name: 'Fund Us', href: '/fund-us' },
            { name: 'About', href: '/about' },
            { name: 'Blog', href: '/blog' }
        ],
        footer: {
            legal: [
                { name: 'Privacy', href: '/privacy' },
                { name: 'Terms', href: '/terms' },
                { name: 'Security', href: '/security' }
            ],
            social: [
                { name: 'Twitter', href: 'https://twitter.com/orangecat', icon: () => (0, jsx_runtime_1.jsx)("div", { "data-testid": "twitter-icon", children: "Twitter" }) },
                { name: 'GitHub', href: 'https://github.com/g-but/orangecat', icon: () => (0, jsx_runtime_1.jsx)("div", { "data-testid": "github-icon", children: "Github" }) }
            ]
        }
    }
}));
/**
 * Footer Component Tests
 *
 * Testing critical footer component used throughout the Bitcoin platform
 * Essential for navigation, branding, social links, and responsive design
 */
const react_1 = __importDefault(require("react"));
const react_2 = require("@testing-library/react");
require("@testing-library/jest-dom");
const navigation_1 = require("next/navigation");
const Footer_1 = __importDefault(require("../Footer"));
// Mock window.scrollTo
const mockScrollTo = jest.fn();
Object.defineProperty(window, 'scrollTo', {
    value: mockScrollTo,
    writable: true
});
const mockUsePathname = navigation_1.usePathname;
describe('ü¶∂ Footer Component - Platform Foundation Tests', () => {
    beforeEach(() => {
        mockUsePathname.mockReturnValue('/');
        mockScrollTo.mockClear();
    });
    describe('‚úÖ Basic Rendering & Visibility', () => {
        test('should render footer successfully on public pages', () => {
            mockUsePathname.mockReturnValue('/');
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByRole('contentinfo')).toBeInTheDocument();
            expect(react_2.screen.getByTestId('logo')).toBeInTheDocument();
            expect(react_2.screen.getByText('Making Bitcoin donations simple and accessible for everyone.')).toBeInTheDocument();
        });
        test('should not render footer on authenticated dashboard pages', () => {
            mockUsePathname.mockReturnValue('/dashboard');
            const { container } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(container.firstChild).toBeNull();
            expect(react_2.screen.queryByRole('contentinfo')).not.toBeInTheDocument();
        });
        test('should not render footer on profile pages', () => {
            mockUsePathname.mockReturnValue('/profile/testuser');
            const { container } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(container.firstChild).toBeNull();
        });
        test('should not render footer on settings pages', () => {
            mockUsePathname.mockReturnValue('/settings/account');
            const { container } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(container.firstChild).toBeNull();
        });
        test('should not render footer on assets pages', () => {
            mockUsePathname.mockReturnValue('/assets/bitcoin');
            const { container } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(container.firstChild).toBeNull();
        });
        test('should not render footer on people pages', () => {
            mockUsePathname.mockReturnValue('/people/contributors');
            const { container } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(container.firstChild).toBeNull();
        });
        test('should not render footer on events pages', () => {
            mockUsePathname.mockReturnValue('/events/conference');
            const { container } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(container.firstChild).toBeNull();
        });
        test('should not render footer on organizations pages', () => {
            mockUsePathname.mockReturnValue('/organizations/nonprofits');
            const { container } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(container.firstChild).toBeNull();
        });
        test('should not render footer on projects pages', () => {
            mockUsePathname.mockReturnValue('/projects/development');
            const { container } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(container.firstChild).toBeNull();
        });
        test('should not render footer on fundraising pages', () => {
            mockUsePathname.mockReturnValue('/fundraising/campaigns');
            const { container } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(container.firstChild).toBeNull();
        });
        test('should render footer on public home page', () => {
            mockUsePathname.mockReturnValue('/');
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByRole('contentinfo')).toBeInTheDocument();
        });
        test('should render footer on public discover page', () => {
            mockUsePathname.mockReturnValue('/discover');
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByRole('contentinfo')).toBeInTheDocument();
        });
        test('should render footer on public about page', () => {
            mockUsePathname.mockReturnValue('/about');
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByRole('contentinfo')).toBeInTheDocument();
        });
        test('should render footer on auth pages', () => {
            mockUsePathname.mockReturnValue('/auth');
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByRole('contentinfo')).toBeInTheDocument();
        });
    });
    describe('üöÄ Back to Top Button', () => {
        test('should render back to top button with correct styling', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const backToTopButton = react_2.screen.getByLabelText('Back to top');
            expect(backToTopButton).toBeInTheDocument();
            expect(backToTopButton).toHaveClass('bg-gradient-to-r', 'from-orange-500', 'to-tiffany-500');
            expect(react_2.screen.getByTestId('arrow-up-icon')).toBeInTheDocument();
        });
        test('should call scrollTo when back to top button is clicked', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const backToTopButton = react_2.screen.getByLabelText('Back to top');
            react_2.fireEvent.click(backToTopButton);
            expect(mockScrollTo).toHaveBeenCalledWith({ top: 0, behavior: 'smooth' });
        });
        test('should handle multiple clicks on back to top button', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const backToTopButton = react_2.screen.getByLabelText('Back to top');
            react_2.fireEvent.click(backToTopButton);
            react_2.fireEvent.click(backToTopButton);
            react_2.fireEvent.click(backToTopButton);
            expect(mockScrollTo).toHaveBeenCalledTimes(3);
            expect(mockScrollTo).toHaveBeenCalledWith({ top: 0, behavior: 'smooth' });
        });
        test('should have proper accessibility attributes for back to top button', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const backToTopButton = react_2.screen.getByLabelText('Back to top');
            expect(backToTopButton).toHaveAttribute('aria-label', 'Back to top');
            expect(backToTopButton.tagName).toBe('BUTTON');
        });
        test('should have hover and interaction classes for back to top button', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const backToTopButton = react_2.screen.getByLabelText('Back to top');
            expect(backToTopButton).toHaveClass('hover:shadow-xl', 'hover:scale-110', 'active:scale-95');
        });
    });
    describe('üè¢ Brand Section & Logo', () => {
        test('should render logo with correct props', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const logo = react_2.screen.getByTestId('logo');
            expect(logo).toBeInTheDocument();
            expect(logo).toHaveClass('mb-2');
        });
        test('should render brand description', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const description = react_2.screen.getByText('Making Bitcoin donations simple and accessible for everyone.');
            expect(description).toBeInTheDocument();
            expect(description).toHaveClass('text-slate-600', 'text-base', 'leading-relaxed', 'max-w-xs');
        });
        test('should maintain brand consistency across the page', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByTestId('logo')).toBeInTheDocument();
            expect(react_2.screen.getByText('Making Bitcoin donations simple and accessible for everyone.')).toBeInTheDocument();
        });
    });
    describe('üåê Social Media Links', () => {
        test('should render all social media links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const twitterLink = react_2.screen.getByLabelText('Follow us on Twitter');
            const githubLink = react_2.screen.getByLabelText('Follow us on GitHub');
            expect(twitterLink).toBeInTheDocument();
            expect(githubLink).toBeInTheDocument();
        });
        test('should have correct href attributes for social links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const twitterLink = react_2.screen.getByLabelText('Follow us on Twitter');
            const githubLink = react_2.screen.getByLabelText('Follow us on GitHub');
            expect(twitterLink.closest('a')).toHaveAttribute('href', 'https://twitter.com/orangecat');
            expect(githubLink.closest('a')).toHaveAttribute('href', 'https://github.com/g-but/orangecat');
        });
        test('should have correct target and rel attributes for social links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const socialLinks = react_2.screen.getAllByRole('link');
            const externalLinks = socialLinks.filter(link => { var _a; return (_a = link.getAttribute('href')) === null || _a === void 0 ? void 0 : _a.startsWith('http'); });
            externalLinks.forEach(link => {
                expect(link).toHaveAttribute('target', '_blank');
                expect(link).toHaveAttribute('rel', 'noopener noreferrer');
            });
        });
        test('should render social media icons', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getAllByTestId('twitter-icon')).toHaveLength(1);
            expect(react_2.screen.getAllByTestId('github-icon')).toHaveLength(1);
        });
        test('should have proper styling for social media links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const twitterLink = react_2.screen.getByLabelText('Follow us on Twitter');
            expect(twitterLink).toHaveClass('group', 'w-10', 'h-10', 'bg-gray-100', 'rounded-lg');
        });
    });
    describe('üß≠ Navigation Links', () => {
        test('should render all main navigation links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByText('Fund Yourself')).toBeInTheDocument();
            expect(react_2.screen.getByText('Discover')).toBeInTheDocument();
            expect(react_2.screen.getByText('Fund Us')).toBeInTheDocument();
            expect(react_2.screen.getByText('About')).toBeInTheDocument();
            expect(react_2.screen.getByText('Blog')).toBeInTheDocument();
        });
        test('should have correct href attributes for navigation links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByText('Fund Yourself').closest('a')).toHaveAttribute('href', '/create');
            expect(react_2.screen.getByText('Discover').closest('a')).toHaveAttribute('href', '/discover');
            expect(react_2.screen.getByText('Fund Us').closest('a')).toHaveAttribute('href', '/fund-us');
            expect(react_2.screen.getByText('About').closest('a')).toHaveAttribute('href', '/about');
            expect(react_2.screen.getByText('Blog').closest('a')).toHaveAttribute('href', '/blog');
        });
        test('should render navigation section title with gradient styling', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const navTitle = react_2.screen.getByText('Navigation');
            expect(navTitle).toBeInTheDocument();
            expect(navTitle).toHaveClass('bg-gradient-to-r', 'from-orange-500', 'to-tiffany-500', 'bg-clip-text', 'text-transparent');
        });
        test('should have proper hover effects for navigation links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const navLink = react_2.screen.getByText('Fund Yourself');
            expect(navLink.closest('a')).toHaveClass('group', 'flex', 'items-center', 'text-base', 'text-slate-600', 'hover:text-orange-600');
        });
        test('should have minimum touch target size for navigation links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const navLinks = react_2.screen.getAllByText(/Fund Yourself|Discover|Fund Us|About|Blog/);
            navLinks.forEach(link => {
                expect(link.closest('a')).toHaveClass('min-h-[44px]');
            });
        });
    });
    describe('‚öñÔ∏è Legal Links', () => {
        test('should render all legal links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByText('Privacy')).toBeInTheDocument();
            expect(react_2.screen.getByText('Terms')).toBeInTheDocument();
            expect(react_2.screen.getByText('Security')).toBeInTheDocument();
        });
        test('should have correct href attributes for legal links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByText('Privacy').closest('a')).toHaveAttribute('href', '/privacy');
            expect(react_2.screen.getByText('Terms').closest('a')).toHaveAttribute('href', '/terms');
            expect(react_2.screen.getByText('Security').closest('a')).toHaveAttribute('href', '/security');
        });
        test('should render legal section title with gradient styling', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const legalTitle = react_2.screen.getByText('Legal');
            expect(legalTitle).toBeInTheDocument();
            expect(legalTitle).toHaveClass('bg-gradient-to-r', 'from-orange-500', 'to-tiffany-500', 'bg-clip-text', 'text-transparent');
        });
        test('should have proper styling for legal links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const legalLink = react_2.screen.getByText('Privacy');
            expect(legalLink.closest('a')).toHaveClass('group', 'flex', 'items-center', 'text-base', 'text-slate-600', 'hover:text-orange-600');
        });
        test('should have minimum touch target size for legal links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const legalLinks = react_2.screen.getAllByText(/Privacy|Terms|Security/);
            legalLinks.forEach(link => {
                expect(link.closest('a')).toHaveClass('min-h-[44px]');
            });
        });
    });
    describe('üìß Newsletter/CTA Section', () => {
        test('should render newsletter section with correct title', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const stayUpdatedTitle = react_2.screen.getByText('Stay Updated');
            expect(stayUpdatedTitle).toBeInTheDocument();
            expect(stayUpdatedTitle).toHaveClass('bg-gradient-to-r', 'from-orange-500', 'to-tiffany-500', 'bg-clip-text', 'text-transparent');
        });
        test('should render newsletter description', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const description = react_2.screen.getByText('Get the latest updates on Bitcoin fundraising and community building.');
            expect(description).toBeInTheDocument();
            expect(description).toHaveClass('text-sm', 'text-slate-600', 'leading-relaxed');
        });
        test('should render get started CTA button', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const ctaButton = react_2.screen.getByText('Get Started Today');
            expect(ctaButton).toBeInTheDocument();
            expect(ctaButton.closest('a')).toHaveAttribute('href', '/auth?mode=register');
        });
        test('should have proper styling for CTA button', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const ctaButton = react_2.screen.getByText('Get Started Today');
            expect(ctaButton).toHaveClass('inline-flex', 'items-center', 'justify-center', 'bg-gradient-to-r', 'from-orange-500', 'to-tiffany-500');
        });
        test('should have minimum touch target size for CTA button', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const ctaButton = react_2.screen.getByText('Get Started Today');
            expect(ctaButton).toHaveClass('min-h-[44px]');
        });
        test('should have responsive width classes for CTA button', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const ctaButton = react_2.screen.getByText('Get Started Today');
            expect(ctaButton).toHaveClass('w-full', 'sm:w-auto');
        });
    });
    describe('üìÑ Bottom Section & Copyright', () => {
        test('should render current year in copyright', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const currentYear = new Date().getFullYear();
            const copyright = react_2.screen.getByText(`¬© ${currentYear} OrangeCat. All rights reserved.`);
            expect(copyright).toBeInTheDocument();
        });
        test('should render additional bottom links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByText('Documentation')).toBeInTheDocument();
            expect(react_2.screen.getByText('API')).toBeInTheDocument();
            expect(react_2.screen.getByText('Status')).toBeInTheDocument();
        });
        test('should have correct href attributes for bottom links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            // Get the bottom section documentation link (different from navigation section)
            const bottomLinks = react_2.screen.getAllByText('Documentation');
            const bottomDocLink = bottomLinks.find(link => { var _a; return ((_a = link.closest('a')) === null || _a === void 0 ? void 0 : _a.getAttribute('href')) === '/docs'; });
            expect(bottomDocLink === null || bottomDocLink === void 0 ? void 0 : bottomDocLink.closest('a')).toHaveAttribute('href', '/docs');
            expect(react_2.screen.getByText('API').closest('a')).toHaveAttribute('href', '/api');
            expect(react_2.screen.getByText('Status').closest('a')).toHaveAttribute('href', '/status');
        });
        test('should have proper responsive layout for bottom section', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const copyright = react_2.screen.getByText(/¬© \d{4} OrangeCat/);
            const bottomSection = copyright.closest('div');
            expect(bottomSection).toHaveClass('flex', 'flex-col', 'sm:flex-row', 'items-center', 'justify-between');
        });
        test('should have proper styling for bottom links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const apiLink = react_2.screen.getByText('API');
            expect(apiLink).toHaveClass('text-slate-500', 'hover:text-orange-600', 'transition-colors', 'duration-300', 'hover:underline');
        });
    });
    describe('üì± Responsive Design', () => {
        test('should have responsive grid layout', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const footerContent = react_2.screen.getByRole('contentinfo');
            const gridContainer = footerContent.querySelector('.grid');
            expect(gridContainer).toHaveClass('grid', 'grid-cols-1', 'sm:grid-cols-2', 'lg:grid-cols-4');
        });
        test('should have responsive padding', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const footerContent = react_2.screen.getByRole('contentinfo');
            const paddingContainer = footerContent.querySelector('.py-8');
            expect(paddingContainer).toHaveClass('py-8', 'sm:py-12', 'px-4', 'sm:px-6', 'lg:px-8');
        });
        test('should have responsive max width container', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const footerContent = react_2.screen.getByRole('contentinfo');
            const maxWidthContainer = footerContent.querySelector('.max-w-7xl');
            expect(maxWidthContainer).toHaveClass('max-w-7xl', 'mx-auto');
        });
        test('should have responsive gap spacing', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const footerContent = react_2.screen.getByRole('contentinfo');
            const gridContainer = footerContent.querySelector('.grid');
            expect(gridContainer).toHaveClass('gap-8', 'lg:gap-12');
        });
        test('should have responsive spacing for social links', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const socialContainer = react_2.screen.getByLabelText('Follow us on Twitter').closest('div');
            expect(socialContainer).toHaveClass('flex', 'space-x-4');
        });
    });
    describe('üé® Theme & Styling', () => {
        test('should use Bitcoin Orange in gradient themes', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const backToTopButton = react_2.screen.getByLabelText('Back to top');
            expect(backToTopButton).toHaveClass('bg-gradient-to-r', 'from-orange-500', 'to-tiffany-500');
            const ctaButton = react_2.screen.getByText('Get Started Today');
            expect(ctaButton).toHaveClass('bg-gradient-to-r', 'from-orange-500', 'to-tiffany-500');
        });
        test('should have consistent gradient styling for section titles', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const navTitle = react_2.screen.getByText('Navigation');
            const legalTitle = react_2.screen.getByText('Legal');
            const stayUpdatedTitle = react_2.screen.getByText('Stay Updated');
            [navTitle, legalTitle, stayUpdatedTitle].forEach(title => {
                expect(title).toHaveClass('bg-gradient-to-r', 'from-orange-500', 'to-tiffany-500', 'bg-clip-text', 'text-transparent');
            });
        });
        test('should have consistent hover colors using Bitcoin Orange', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const navLink = react_2.screen.getByText('Fund Yourself');
            const legalLink = react_2.screen.getByText('Privacy');
            const bottomLink = react_2.screen.getByText('API');
            expect(navLink.closest('a')).toHaveClass('hover:text-orange-600');
            expect(legalLink.closest('a')).toHaveClass('hover:text-orange-600');
            expect(bottomLink).toHaveClass('hover:text-orange-600');
        });
        test('should have proper border styling', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const footer = react_2.screen.getByRole('contentinfo');
            expect(footer).toHaveClass('bg-white', 'border-t', 'border-gray-200/50', 'mt-auto', 'relative');
        });
        test('should have proper gradient decorative elements', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            // Check for gradient underlines under section titles
            const footer = react_2.screen.getByRole('contentinfo');
            const gradientUnderlines = footer.querySelectorAll('.bg-gradient-to-r.from-orange-500.to-tiffany-500.rounded-full');
            expect(gradientUnderlines.length).toBeGreaterThan(0);
        });
    });
    describe('‚ôø Accessibility', () => {
        test('should have proper semantic HTML structure', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByRole('contentinfo')).toBeInTheDocument();
            const buttons = react_2.screen.getAllByRole('button');
            expect(buttons.length).toBeGreaterThan(0);
            const links = react_2.screen.getAllByRole('link');
            expect(links.length).toBeGreaterThan(0);
        });
        test('should have proper aria-labels for interactive elements', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByLabelText('Back to top')).toBeInTheDocument();
            expect(react_2.screen.getByLabelText('Follow us on Twitter')).toBeInTheDocument();
            expect(react_2.screen.getByLabelText('Follow us on GitHub')).toBeInTheDocument();
        });
        test('should have minimum touch target sizes for all interactive elements', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            // Back to top button
            const backToTopButton = react_2.screen.getByLabelText('Back to top');
            expect(backToTopButton).toHaveClass('w-12', 'h-12');
            // Social media links
            const socialLinks = [
                react_2.screen.getByLabelText('Follow us on Twitter'),
                react_2.screen.getByLabelText('Follow us on GitHub')
            ];
            socialLinks.forEach(link => {
                expect(link).toHaveClass('w-10', 'h-10');
            });
            // Navigation and legal links
            const navLinks = react_2.screen.getAllByText(/Fund Yourself|Discover|Fund Us|About|Blog|Privacy|Terms|Security/);
            navLinks.forEach(link => {
                expect(link.closest('a')).toHaveClass('min-h-[44px]');
            });
            // CTA button
            const ctaButton = react_2.screen.getByText('Get Started Today');
            expect(ctaButton).toHaveClass('min-h-[44px]');
        });
        test('should have proper color contrast for text elements', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            // Check for proper text color classes that ensure good contrast
            const description = react_2.screen.getByText('Making Bitcoin donations simple and accessible for everyone.');
            expect(description).toHaveClass('text-slate-600');
            const copyright = react_2.screen.getByText(/¬© \d{4} OrangeCat/);
            expect(copyright).toHaveClass('text-slate-500');
        });
        test('should handle keyboard navigation properly', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const backToTopButton = react_2.screen.getByLabelText('Back to top');
            backToTopButton.focus();
            expect(backToTopButton).toHaveFocus();
            // All links should be focusable
            const links = react_2.screen.getAllByRole('link');
            links.forEach(link => {
                expect(link).not.toHaveAttribute('tabindex', '-1');
            });
        });
    });
    describe('üéØ Bitcoin Platform Integration', () => {
        test('should emphasize Bitcoin-related content in description', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const description = react_2.screen.getByText('Making Bitcoin donations simple and accessible for everyone.');
            expect(description).toBeInTheDocument();
            expect(description.textContent).toContain('Bitcoin');
        });
        test('should provide clear Bitcoin onboarding path in CTA', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const ctaButton = react_2.screen.getByText('Get Started Today');
            expect(ctaButton.closest('a')).toHaveAttribute('href', '/auth?mode=register');
            const ctaDescription = react_2.screen.getByText('Get the latest updates on Bitcoin fundraising and community building.');
            expect(ctaDescription.textContent).toContain('Bitcoin fundraising');
        });
        test('should maintain platform branding consistency', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByTestId('logo')).toBeInTheDocument();
            expect(react_2.screen.getByText(/¬© \d{4} OrangeCat/)).toBeInTheDocument();
        });
        test('should link to platform-specific pages', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByText('Fund Yourself').closest('a')).toHaveAttribute('href', '/create');
            expect(react_2.screen.getByText('Discover').closest('a')).toHaveAttribute('href', '/discover');
            expect(react_2.screen.getByText('Fund Us').closest('a')).toHaveAttribute('href', '/fund-us');
        });
        test('should provide security and trust signals', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByText('Security')).toBeInTheDocument();
            expect(react_2.screen.getByText('Privacy')).toBeInTheDocument();
            expect(react_2.screen.getByText('Terms')).toBeInTheDocument();
        });
    });
    describe('üîß Edge Cases & Error Handling', () => {
        test('should handle undefined pathname gracefully', () => {
            mockUsePathname.mockReturnValue(undefined);
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByRole('contentinfo')).toBeInTheDocument();
        });
        test('should handle null pathname gracefully', () => {
            mockUsePathname.mockReturnValue(null);
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByRole('contentinfo')).toBeInTheDocument();
        });
        test('should handle scrollTo not being available', () => {
            const originalScrollTo = window.scrollTo;
            delete window.scrollTo;
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            const backToTopButton = react_2.screen.getByLabelText('Back to top');
            react_2.fireEvent.click(backToTopButton);
            // Should not throw and button should still be interactive
            expect(backToTopButton).toBeInTheDocument();
            window.scrollTo = originalScrollTo;
        });
        test('should handle missing navigation config gracefully', () => {
            // This test ensures the component doesn't break if navigation config is malformed
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            // Should still render basic structure
            expect(react_2.screen.getByRole('contentinfo')).toBeInTheDocument();
            expect(react_2.screen.getByTestId('logo')).toBeInTheDocument();
        });
        test('should handle empty pathname string', () => {
            mockUsePathname.mockReturnValue('');
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(react_2.screen.getByRole('contentinfo')).toBeInTheDocument();
        });
        test('should handle pathname with trailing slashes', () => {
            mockUsePathname.mockReturnValue('/dashboard/');
            const { container } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(container.firstChild).toBeNull();
        });
        test('should handle complex nested authenticated paths', () => {
            mockUsePathname.mockReturnValue('/dashboard/analytics/bitcoin/trends');
            const { container } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            expect(container.firstChild).toBeNull();
        });
        test('should handle case sensitivity in pathname checking', () => {
            mockUsePathname.mockReturnValue('/Dashboard');
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Footer_1.default, {}));
            // Should render footer as it doesn't match exact case
            expect(react_2.screen.getByRole('contentinfo')).toBeInTheDocument();
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvZy9kZXYvb3JhbmdlY2F0L3NyYy9jb21wb25lbnRzL2xheW91dC9fX3Rlc3RzX18vRm9vdGVyLnRlc3QudHN4IiwibWFwcGluZ3MiOiI7Ozs7OztBQWNBLHVCQUF1QjtBQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDbEMsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7Q0FDdkIsQ0FBQyxDQUFDLENBQUM7QUFFSixpQkFBaUI7QUFDakIsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFO0lBQzFCLE9BQU8sU0FBUyxRQUFRLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBbUU7UUFDckgsT0FBTyw4QkFBRyxJQUFJLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxTQUFTLFlBQUcsUUFBUSxHQUFLLENBQUM7SUFDN0QsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUM7QUFFSCxzQkFBc0I7QUFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFO0lBQ3hCLE9BQU8sU0FBUyxRQUFRLENBQUMsRUFBRSxTQUFTLEVBQTBCO1FBQzVELE9BQU8sK0NBQWlCLE1BQU0sRUFBQyxTQUFTLEVBQUUsU0FBUywrQkFBc0IsQ0FBQztJQUM1RSxDQUFDLENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQztBQUVILDBCQUEwQjtBQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQy9CLE9BQU8sRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUEwQixFQUFFLEVBQUUsQ0FBQyxDQUNsRCwrQ0FBaUIsZUFBZSxFQUFDLFNBQVMsRUFBRSxTQUFTLHdCQUFlLENBQ3JFO0lBQ0QsTUFBTSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQTBCLEVBQUUsRUFBRSxDQUFDLENBQ2pELCtDQUFpQixhQUFhLEVBQUMsU0FBUyxFQUFFLFNBQVMsdUJBQWMsQ0FDbEU7SUFDRCxPQUFPLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBMEIsRUFBRSxFQUFFLENBQUMsQ0FDbEQsK0NBQWlCLGNBQWMsRUFBQyxTQUFTLEVBQUUsU0FBUyx3QkFBZSxDQUNwRTtDQUNGLENBQUMsQ0FBQyxDQUFDO0FBRUoseUJBQXlCO0FBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUN0QyxVQUFVLEVBQUU7UUFDVixJQUFJLEVBQUU7WUFDSixFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRTtZQUMxQyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRTtZQUN2QyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRTtZQUNyQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRTtZQUNqQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRTtTQUNoQztRQUNELE1BQU0sRUFBRTtZQUNOLEtBQUssRUFBRTtnQkFDTCxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRTtnQkFDckMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUU7Z0JBQ2pDLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFO2FBQ3hDO1lBQ0QsTUFBTSxFQUFFO2dCQUNOLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsK0JBQStCLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLCtDQUFpQixjQUFjLHdCQUFjLEVBQUU7Z0JBQ3JILEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsb0NBQW9DLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLCtDQUFpQixhQUFhLHVCQUFhLEVBQUU7YUFDeEg7U0FDRjtLQUNGO0NBQ0YsQ0FBQyxDQUFDLENBQUM7QUFwRUo7Ozs7O0dBS0c7QUFFSCxrREFBMEI7QUFDMUIsa0RBQTRFO0FBRTVFLHFDQUFtQztBQUNuQyxnREFBOEM7QUFDOUMsdURBQStCO0FBMEQvQix1QkFBdUI7QUFDdkIsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDO0FBQy9CLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRTtJQUN4QyxLQUFLLEVBQUUsWUFBWTtJQUNuQixRQUFRLEVBQUUsSUFBSTtDQUNmLENBQUMsQ0FBQztBQUVILE1BQU0sZUFBZSxHQUFHLHdCQUF3QixDQUFDO0FBRWpELFFBQVEsQ0FBQyxpREFBaUQsRUFBRSxHQUFHLEVBQUU7SUFDL0QsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLGVBQWUsQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDckMsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQzNCLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLGdDQUFnQyxFQUFFLEdBQUcsRUFBRTtRQUM5QyxJQUFJLENBQUMsbURBQW1ELEVBQUUsR0FBRyxFQUFFO1lBQzdELGVBQWUsQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDckMsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQzVELE1BQU0sQ0FBQyxjQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN2RCxNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyw4REFBOEQsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUMvRyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQywyREFBMkQsRUFBRSxHQUFHLEVBQUU7WUFDckUsZUFBZSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUM5QyxNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFekMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUN4QyxNQUFNLENBQUMsY0FBTSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3BFLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLDJDQUEyQyxFQUFFLEdBQUcsRUFBRTtZQUNyRCxlQUFlLENBQUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDckQsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRXpDLE1BQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDMUMsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsNENBQTRDLEVBQUUsR0FBRyxFQUFFO1lBQ3RELGVBQWUsQ0FBQyxlQUFlLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUNyRCxNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFekMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUMxQyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQywwQ0FBMEMsRUFBRSxHQUFHLEVBQUU7WUFDcEQsZUFBZSxDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ25ELE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUV6QyxNQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzFDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLDBDQUEwQyxFQUFFLEdBQUcsRUFBRTtZQUNwRCxlQUFlLENBQUMsZUFBZSxDQUFDLHNCQUFzQixDQUFDLENBQUM7WUFDeEQsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRXpDLE1BQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDMUMsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsMENBQTBDLEVBQUUsR0FBRyxFQUFFO1lBQ3BELGVBQWUsQ0FBQyxlQUFlLENBQUMsb0JBQW9CLENBQUMsQ0FBQztZQUN0RCxNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFekMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUMxQyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxpREFBaUQsRUFBRSxHQUFHLEVBQUU7WUFDM0QsZUFBZSxDQUFDLGVBQWUsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1lBQzdELE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUV6QyxNQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzFDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLDRDQUE0QyxFQUFFLEdBQUcsRUFBRTtZQUN0RCxlQUFlLENBQUMsZUFBZSxDQUFDLHVCQUF1QixDQUFDLENBQUM7WUFDekQsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRXpDLE1BQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDMUMsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsK0NBQStDLEVBQUUsR0FBRyxFQUFFO1lBQ3pELGVBQWUsQ0FBQyxlQUFlLENBQUMsd0JBQXdCLENBQUMsQ0FBQztZQUMxRCxNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFekMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUMxQyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQywwQ0FBMEMsRUFBRSxHQUFHLEVBQUU7WUFDcEQsZUFBZSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNyQyxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDOUQsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsOENBQThDLEVBQUUsR0FBRyxFQUFFO1lBQ3hELGVBQWUsQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDN0MsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQzlELENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLDJDQUEyQyxFQUFFLEdBQUcsRUFBRTtZQUNyRCxlQUFlLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzFDLElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRW5CLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUM5RCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxvQ0FBb0MsRUFBRSxHQUFHLEVBQUU7WUFDOUMsZUFBZSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN6QyxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDOUQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLEVBQUU7UUFDckMsSUFBSSxDQUFDLHVEQUF1RCxFQUFFLEdBQUcsRUFBRTtZQUNqRSxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLGVBQWUsR0FBRyxjQUFNLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzdELE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQzVDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsaUJBQWlCLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztZQUM3RixNQUFNLENBQUMsY0FBTSxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDbEUsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMseURBQXlELEVBQUUsR0FBRyxFQUFFO1lBQ25FLElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRW5CLE1BQU0sZUFBZSxHQUFHLGNBQU0sQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDN0QsaUJBQVMsQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUM7WUFFakMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLG9CQUFvQixDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUM1RSxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxxREFBcUQsRUFBRSxHQUFHLEVBQUU7WUFDL0QsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxlQUFlLEdBQUcsY0FBTSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUM3RCxpQkFBUyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUNqQyxpQkFBUyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUNqQyxpQkFBUyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUVqQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLG9CQUFvQixDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUM1RSxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxvRUFBb0UsRUFBRSxHQUFHLEVBQUU7WUFDOUUsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxlQUFlLEdBQUcsY0FBTSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUM3RCxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsZUFBZSxDQUFDLFlBQVksRUFBRSxhQUFhLENBQUMsQ0FBQztZQUNyRSxNQUFNLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNqRCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxrRUFBa0UsRUFBRSxHQUFHLEVBQUU7WUFDNUUsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxlQUFlLEdBQUcsY0FBTSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUM3RCxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsV0FBVyxDQUFDLGlCQUFpQixFQUFFLGlCQUFpQixFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFDL0YsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyx5QkFBeUIsRUFBRSxHQUFHLEVBQUU7UUFDdkMsSUFBSSxDQUFDLHVDQUF1QyxFQUFFLEdBQUcsRUFBRTtZQUNqRCxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLElBQUksR0FBRyxjQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3hDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ2pDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbkMsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsaUNBQWlDLEVBQUUsR0FBRyxFQUFFO1lBQzNDLElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRW5CLE1BQU0sV0FBVyxHQUFHLGNBQU0sQ0FBQyxTQUFTLENBQUMsOERBQThELENBQUMsQ0FBQztZQUNyRyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN4QyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsV0FBVyxDQUFDLGdCQUFnQixFQUFFLFdBQVcsRUFBRSxpQkFBaUIsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUNoRyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxtREFBbUQsRUFBRSxHQUFHLEVBQUU7WUFDN0QsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxDQUFDLGNBQU0sQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ3ZELE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLDhEQUE4RCxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQy9HLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsdUJBQXVCLEVBQUUsR0FBRyxFQUFFO1FBQ3JDLElBQUksQ0FBQyxzQ0FBc0MsRUFBRSxHQUFHLEVBQUU7WUFDaEQsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxXQUFXLEdBQUcsY0FBTSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1lBQ2xFLE1BQU0sVUFBVSxHQUFHLGNBQU0sQ0FBQyxjQUFjLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUVoRSxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN4QyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN6QyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxzREFBc0QsRUFBRSxHQUFHLEVBQUU7WUFDaEUsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxXQUFXLEdBQUcsY0FBTSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1lBQ2xFLE1BQU0sVUFBVSxHQUFHLGNBQU0sQ0FBQyxjQUFjLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUVoRSxNQUFNLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsK0JBQStCLENBQUMsQ0FBQztZQUMxRixNQUFNLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsb0NBQW9DLENBQUMsQ0FBQztRQUNoRyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxnRUFBZ0UsRUFBRSxHQUFHLEVBQUU7WUFDMUUsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxXQUFXLEdBQUcsY0FBTSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNoRCxNQUFNLGFBQWEsR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLFdBQzlDLE9BQUEsTUFBQSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQywwQ0FBRSxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUEsRUFBQSxDQUM5QyxDQUFDO1lBRUYsYUFBYSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDM0IsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLGVBQWUsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQ2pELE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLHFCQUFxQixDQUFDLENBQUM7WUFDN0QsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxrQ0FBa0MsRUFBRSxHQUFHLEVBQUU7WUFDNUMsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxDQUFDLGNBQU0sQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUQsTUFBTSxDQUFDLGNBQU0sQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0QsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsbURBQW1ELEVBQUUsR0FBRyxFQUFFO1lBQzdELElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRW5CLE1BQU0sV0FBVyxHQUFHLGNBQU0sQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUNsRSxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxZQUFZLENBQUMsQ0FBQztRQUN4RixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLHFCQUFxQixFQUFFLEdBQUcsRUFBRTtRQUNuQyxJQUFJLENBQUMseUNBQXlDLEVBQUUsR0FBRyxFQUFFO1lBQ25ELElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRW5CLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUM5RCxNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDekQsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ3hELE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN0RCxNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDdkQsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsMERBQTBELEVBQUUsR0FBRyxFQUFFO1lBQ3BFLElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRW5CLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDMUYsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQztZQUN2RixNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1lBQ3JGLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDakYsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNqRixDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyw4REFBOEQsRUFBRSxHQUFHLEVBQUU7WUFDeEUsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxRQUFRLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNoRCxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUNyQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsV0FBVyxDQUFDLGtCQUFrQixFQUFFLGlCQUFpQixFQUFFLGdCQUFnQixFQUFFLGNBQWMsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1FBQzVILENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLHVEQUF1RCxFQUFFLEdBQUcsRUFBRTtZQUNqRSxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLE9BQU8sR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ2xELE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsY0FBYyxFQUFFLFdBQVcsRUFBRSxnQkFBZ0IsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO1FBQ3BJLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLDREQUE0RCxFQUFFLEdBQUcsRUFBRTtZQUN0RSxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLFFBQVEsR0FBRyxjQUFNLENBQUMsWUFBWSxDQUFDLDJDQUEyQyxDQUFDLENBQUM7WUFDbEYsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDdEIsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDeEQsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLGdCQUFnQixFQUFFLEdBQUcsRUFBRTtRQUM5QixJQUFJLENBQUMsK0JBQStCLEVBQUUsR0FBRyxFQUFFO1lBQ3pDLElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRW5CLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN4RCxNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDdEQsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQzNELENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLHFEQUFxRCxFQUFFLEdBQUcsRUFBRTtZQUMvRCxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1lBQ3JGLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDakYsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQztRQUN6RixDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyx5REFBeUQsRUFBRSxHQUFHLEVBQUU7WUFDbkUsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxVQUFVLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUM3QyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN2QyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsV0FBVyxDQUFDLGtCQUFrQixFQUFFLGlCQUFpQixFQUFFLGdCQUFnQixFQUFFLGNBQWMsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1FBQzlILENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLDRDQUE0QyxFQUFFLEdBQUcsRUFBRTtZQUN0RCxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLFNBQVMsR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzlDLE1BQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsY0FBYyxFQUFFLFdBQVcsRUFBRSxnQkFBZ0IsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO1FBQ3RJLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLHVEQUF1RCxFQUFFLEdBQUcsRUFBRTtZQUNqRSxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLFVBQVUsR0FBRyxjQUFNLENBQUMsWUFBWSxDQUFDLHdCQUF3QixDQUFDLENBQUM7WUFDakUsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDeEIsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDeEQsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLDJCQUEyQixFQUFFLEdBQUcsRUFBRTtRQUN6QyxJQUFJLENBQUMscURBQXFELEVBQUUsR0FBRyxFQUFFO1lBQy9ELElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRW5CLE1BQU0sZ0JBQWdCLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUMxRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQzdDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxpQkFBaUIsRUFBRSxnQkFBZ0IsRUFBRSxjQUFjLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztRQUNwSSxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxzQ0FBc0MsRUFBRSxHQUFHLEVBQUU7WUFDaEQsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxXQUFXLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyx1RUFBdUUsQ0FBQyxDQUFDO1lBQzlHLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ3hDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLGdCQUFnQixFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFDbEYsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsc0NBQXNDLEVBQUUsR0FBRyxFQUFFO1lBQ2hELElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRW5CLE1BQU0sU0FBUyxHQUFHLGNBQU0sQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUN4RCxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN0QyxNQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUscUJBQXFCLENBQUMsQ0FBQztRQUNoRixDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQywyQ0FBMkMsRUFBRSxHQUFHLEVBQUU7WUFDckQsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxTQUFTLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1lBQ3hELE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsRUFBRSxrQkFBa0IsRUFBRSxpQkFBaUIsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzFJLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLHNEQUFzRCxFQUFFLEdBQUcsRUFBRTtZQUNoRSxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLFNBQVMsR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDeEQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNoRCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxxREFBcUQsRUFBRSxHQUFHLEVBQUU7WUFDL0QsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxTQUFTLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1lBQ3hELE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQ3ZELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsK0JBQStCLEVBQUUsR0FBRyxFQUFFO1FBQzdDLElBQUksQ0FBQyx5Q0FBeUMsRUFBRSxHQUFHLEVBQUU7WUFDbkQsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxXQUFXLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUM3QyxNQUFNLFNBQVMsR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssV0FBVyxrQ0FBa0MsQ0FBQyxDQUFDO1lBQ3ZGLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3hDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLHVDQUF1QyxFQUFFLEdBQUcsRUFBRTtZQUNqRCxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDOUQsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ3BELE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN6RCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxzREFBc0QsRUFBRSxHQUFHLEVBQUU7WUFDaEUsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsZ0ZBQWdGO1lBQ2hGLE1BQU0sV0FBVyxHQUFHLGNBQU0sQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDekQsTUFBTSxhQUFhLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxXQUM1QyxPQUFBLENBQUEsTUFBQSxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQywwQ0FBRSxZQUFZLENBQUMsTUFBTSxDQUFDLE1BQUssT0FBTyxDQUFBLEVBQUEsQ0FDcEQsQ0FBQztZQUVGLE1BQU0sQ0FBQyxhQUFhLGFBQWIsYUFBYSx1QkFBYixhQUFhLENBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztZQUNyRSxNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQzdFLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDckYsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMseURBQXlELEVBQUUsR0FBRyxFQUFFO1lBQ25FLElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRW5CLE1BQU0sU0FBUyxHQUFHLGNBQU0sQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUN4RCxNQUFNLGFBQWEsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQy9DLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUUsY0FBYyxFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFDMUcsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsNkNBQTZDLEVBQUUsR0FBRyxFQUFFO1lBQ3ZELElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRW5CLE1BQU0sT0FBTyxHQUFHLGNBQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDeEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRSx1QkFBdUIsRUFBRSxtQkFBbUIsRUFBRSxjQUFjLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztRQUNqSSxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLHNCQUFzQixFQUFFLEdBQUcsRUFBRTtRQUNwQyxJQUFJLENBQUMsb0NBQW9DLEVBQUUsR0FBRyxFQUFFO1lBQzlDLElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRW5CLE1BQU0sYUFBYSxHQUFHLGNBQU0sQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDdEQsTUFBTSxhQUFhLEdBQUcsYUFBYSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMzRCxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxhQUFhLEVBQUUsZ0JBQWdCLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztRQUMvRixDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxnQ0FBZ0MsRUFBRSxHQUFHLEVBQUU7WUFDMUMsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxhQUFhLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUN0RCxNQUFNLGdCQUFnQixHQUFHLGFBQWEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDOUQsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUN6RixDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyw0Q0FBNEMsRUFBRSxHQUFHLEVBQUU7WUFDdEQsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxhQUFhLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUN0RCxNQUFNLGlCQUFpQixHQUFHLGFBQWEsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDcEUsTUFBTSxDQUFDLGlCQUFpQixDQUFDLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUNoRSxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxvQ0FBb0MsRUFBRSxHQUFHLEVBQUU7WUFDOUMsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxhQUFhLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUN0RCxNQUFNLGFBQWEsR0FBRyxhQUFhLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzNELE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQzFELENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLGlEQUFpRCxFQUFFLEdBQUcsRUFBRTtZQUMzRCxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLGVBQWUsR0FBRyxjQUFNLENBQUMsY0FBYyxDQUFDLHNCQUFzQixDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3JGLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQzNELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO1FBQ2xDLElBQUksQ0FBQyw4Q0FBOEMsRUFBRSxHQUFHLEVBQUU7WUFDeEQsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxlQUFlLEdBQUcsY0FBTSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUM3RCxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsV0FBVyxDQUFDLGtCQUFrQixFQUFFLGlCQUFpQixFQUFFLGdCQUFnQixDQUFDLENBQUM7WUFFN0YsTUFBTSxTQUFTLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1lBQ3hELE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsaUJBQWlCLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztRQUN6RixDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyw0REFBNEQsRUFBRSxHQUFHLEVBQUU7WUFDdEUsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxRQUFRLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNoRCxNQUFNLFVBQVUsR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzdDLE1BQU0sZ0JBQWdCLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUUxRCxDQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQ3ZELE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsaUJBQWlCLEVBQUUsZ0JBQWdCLEVBQUUsY0FBYyxFQUFFLGtCQUFrQixDQUFDLENBQUM7WUFDekgsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQywwREFBMEQsRUFBRSxHQUFHLEVBQUU7WUFDcEUsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxPQUFPLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUNsRCxNQUFNLFNBQVMsR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzlDLE1BQU0sVUFBVSxHQUFHLGNBQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFM0MsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsdUJBQXVCLENBQUMsQ0FBQztZQUNsRSxNQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1lBQ3BFLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLENBQUMsdUJBQXVCLENBQUMsQ0FBQztRQUMxRCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxtQ0FBbUMsRUFBRSxHQUFHLEVBQUU7WUFDN0MsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxNQUFNLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUMvQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxVQUFVLEVBQUUsb0JBQW9CLEVBQUUsU0FBUyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQ2xHLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLGlEQUFpRCxFQUFFLEdBQUcsRUFBRTtZQUMzRCxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixxREFBcUQ7WUFDckQsTUFBTSxNQUFNLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUMvQyxNQUFNLGtCQUFrQixHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQywrREFBK0QsQ0FBQyxDQUFDO1lBQ3BILE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLEVBQUU7UUFDL0IsSUFBSSxDQUFDLDRDQUE0QyxFQUFFLEdBQUcsRUFBRTtZQUN0RCxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFFNUQsTUFBTSxPQUFPLEdBQUcsY0FBTSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM5QyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUUxQyxNQUFNLEtBQUssR0FBRyxjQUFNLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLHlEQUF5RCxFQUFFLEdBQUcsRUFBRTtZQUNuRSxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLENBQUMsY0FBTSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDakUsTUFBTSxDQUFDLGNBQU0sQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDMUUsTUFBTSxDQUFDLGNBQU0sQ0FBQyxjQUFjLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDM0UsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMscUVBQXFFLEVBQUUsR0FBRyxFQUFFO1lBQy9FLElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRW5CLHFCQUFxQjtZQUNyQixNQUFNLGVBQWUsR0FBRyxjQUFNLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzdELE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBRXBELHFCQUFxQjtZQUNyQixNQUFNLFdBQVcsR0FBRztnQkFDbEIsY0FBTSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQztnQkFDN0MsY0FBTSxDQUFDLGNBQWMsQ0FBQyxxQkFBcUIsQ0FBQzthQUM3QyxDQUFDO1lBQ0YsV0FBVyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDekIsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDM0MsQ0FBQyxDQUFDLENBQUM7WUFFSCw2QkFBNkI7WUFDN0IsTUFBTSxRQUFRLEdBQUcsY0FBTSxDQUFDLFlBQVksQ0FBQyxrRUFBa0UsQ0FBQyxDQUFDO1lBQ3pHLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ3RCLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQ3hELENBQUMsQ0FBQyxDQUFDO1lBRUgsYUFBYTtZQUNiLE1BQU0sU0FBUyxHQUFHLGNBQU0sQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUN4RCxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ2hELENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLHFEQUFxRCxFQUFFLEdBQUcsRUFBRTtZQUMvRCxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixnRUFBZ0U7WUFDaEUsTUFBTSxXQUFXLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyw4REFBOEQsQ0FBQyxDQUFDO1lBQ3JHLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUVsRCxNQUFNLFNBQVMsR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDeEQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ2xELENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLDRDQUE0QyxFQUFFLEdBQUcsRUFBRTtZQUN0RCxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLGVBQWUsR0FBRyxjQUFNLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzdELGVBQWUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUN4QixNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFFdEMsZ0NBQWdDO1lBQ2hDLE1BQU0sS0FBSyxHQUFHLGNBQU0sQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDMUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDbkIsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ3JELENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxpQ0FBaUMsRUFBRSxHQUFHLEVBQUU7UUFDL0MsSUFBSSxDQUFDLHlEQUF5RCxFQUFFLEdBQUcsRUFBRTtZQUNuRSxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLFdBQVcsR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLDhEQUE4RCxDQUFDLENBQUM7WUFDckcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDeEMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdkQsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMscURBQXFELEVBQUUsR0FBRyxFQUFFO1lBQy9ELElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRW5CLE1BQU0sU0FBUyxHQUFHLGNBQU0sQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUN4RCxNQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUscUJBQXFCLENBQUMsQ0FBQztZQUU5RSxNQUFNLGNBQWMsR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLHVFQUF1RSxDQUFDLENBQUM7WUFDakgsTUFBTSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsQ0FBQztRQUN0RSxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQywrQ0FBK0MsRUFBRSxHQUFHLEVBQUU7WUFDekQsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxDQUFDLGNBQU0sQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ3ZELE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3BFLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLHdDQUF3QyxFQUFFLEdBQUcsRUFBRTtZQUNsRCxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQzFGLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDdkYsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQztRQUN2RixDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQywyQ0FBMkMsRUFBRSxHQUFHLEVBQUU7WUFDckQsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFbkIsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ3pELE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN4RCxNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDeEQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxnQ0FBZ0MsRUFBRSxHQUFHLEVBQUU7UUFDOUMsSUFBSSxDQUFDLDZDQUE2QyxFQUFFLEdBQUcsRUFBRTtZQUN2RCxlQUFlLENBQUMsZUFBZSxDQUFDLFNBQWdCLENBQUMsQ0FBQztZQUVsRCxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUNuQixNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDOUQsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsd0NBQXdDLEVBQUUsR0FBRyxFQUFFO1lBQ2xELGVBQWUsQ0FBQyxlQUFlLENBQUMsSUFBVyxDQUFDLENBQUM7WUFFN0MsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFDbkIsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQzlELENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLDRDQUE0QyxFQUFFLEdBQUcsRUFBRTtZQUN0RCxNQUFNLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUM7WUFDekMsT0FBUSxNQUFjLENBQUMsUUFBUSxDQUFDO1lBRWhDLElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRW5CLE1BQU0sZUFBZSxHQUFHLGNBQU0sQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDN0QsaUJBQVMsQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUM7WUFFakMsMERBQTBEO1lBQzFELE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBRTVDLE1BQU0sQ0FBQyxRQUFRLEdBQUcsZ0JBQWdCLENBQUM7UUFDckMsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsb0RBQW9ELEVBQUUsR0FBRyxFQUFFO1lBQzlELGtGQUFrRjtZQUNsRixJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixzQ0FBc0M7WUFDdEMsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQzVELE1BQU0sQ0FBQyxjQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN6RCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxxQ0FBcUMsRUFBRSxHQUFHLEVBQUU7WUFDL0MsZUFBZSxDQUFDLGVBQWUsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUVwQyxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDOUQsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsOENBQThDLEVBQUUsR0FBRyxFQUFFO1lBQ3hELGVBQWUsQ0FBQyxlQUFlLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDL0MsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLElBQUEsY0FBTSxFQUFDLHVCQUFDLGdCQUFNLEtBQUcsQ0FBQyxDQUFDO1lBRXpDLE1BQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDMUMsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsa0RBQWtELEVBQUUsR0FBRyxFQUFFO1lBQzVELGVBQWUsQ0FBQyxlQUFlLENBQUMscUNBQXFDLENBQUMsQ0FBQztZQUN2RSxNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sS0FBRyxDQUFDLENBQUM7WUFFekMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUMxQyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxxREFBcUQsRUFBRSxHQUFHLEVBQUU7WUFDL0QsZUFBZSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUU5QyxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSxLQUFHLENBQUMsQ0FBQztZQUVuQixzREFBc0Q7WUFDdEQsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQzlELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9nL2Rldi9vcmFuZ2VjYXQvc3JjL2NvbXBvbmVudHMvbGF5b3V0L19fdGVzdHNfXy9Gb290ZXIudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGb290ZXIgQ29tcG9uZW50IFRlc3RzXG4gKiBcbiAqIFRlc3RpbmcgY3JpdGljYWwgZm9vdGVyIGNvbXBvbmVudCB1c2VkIHRocm91Z2hvdXQgdGhlIEJpdGNvaW4gcGxhdGZvcm1cbiAqIEVzc2VudGlhbCBmb3IgbmF2aWdhdGlvbiwgYnJhbmRpbmcsIHNvY2lhbCBsaW5rcywgYW5kIHJlc3BvbnNpdmUgZGVzaWduXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB1c2VyRXZlbnQgZnJvbSAnQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50JztcbmltcG9ydCAnQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbSc7XG5pbXBvcnQgeyB1c2VQYXRobmFtZSB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQgRm9vdGVyIGZyb20gJy4uL0Zvb3Rlcic7XG5cbi8vIE1vY2sgbmV4dC9uYXZpZ2F0aW9uXG5qZXN0Lm1vY2soJ25leHQvbmF2aWdhdGlvbicsICgpID0+ICh7XG4gIHVzZVBhdGhuYW1lOiBqZXN0LmZuKClcbn0pKTtcblxuLy8gTW9jayBuZXh0L2xpbmtcbmplc3QubW9jaygnbmV4dC9saW5rJywgKCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gTW9ja0xpbmsoeyBjaGlsZHJlbiwgaHJlZiwgY2xhc3NOYW1lIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsgaHJlZjogc3RyaW5nOyBjbGFzc05hbWU/OiBzdHJpbmcgfSkge1xuICAgIHJldHVybiA8YSBocmVmPXtocmVmfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+e2NoaWxkcmVufTwvYT47XG4gIH07XG59KTtcblxuLy8gTW9jayBMb2dvIGNvbXBvbmVudFxuamVzdC5tb2NrKCcuLi9Mb2dvJywgKCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gTW9ja0xvZ28oeyBjbGFzc05hbWUgfTogeyBjbGFzc05hbWU/OiBzdHJpbmcgfSkge1xuICAgIHJldHVybiA8ZGl2IGRhdGEtdGVzdGlkPVwibG9nb1wiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5PcmFuZ2VDYXQgTG9nbzwvZGl2PjtcbiAgfTtcbn0pO1xuXG4vLyBNb2NrIEx1Y2lkZSBSZWFjdCBpY29uc1xuamVzdC5tb2NrKCdsdWNpZGUtcmVhY3QnLCAoKSA9PiAoe1xuICBBcnJvd1VwOiAoeyBjbGFzc05hbWUgfTogeyBjbGFzc05hbWU/OiBzdHJpbmcgfSkgPT4gKFxuICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJhcnJvdy11cC1pY29uXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PkFycm93VXA8L2Rpdj5cbiAgKSxcbiAgR2l0aHViOiAoeyBjbGFzc05hbWUgfTogeyBjbGFzc05hbWU/OiBzdHJpbmcgfSkgPT4gKFxuICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJnaXRodWItaWNvblwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5HaXRodWI8L2Rpdj5cbiAgKSxcbiAgVHdpdHRlcjogKHsgY2xhc3NOYW1lIH06IHsgY2xhc3NOYW1lPzogc3RyaW5nIH0pID0+IChcbiAgICA8ZGl2IGRhdGEtdGVzdGlkPVwidHdpdHRlci1pY29uXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlR3aXR0ZXI8L2Rpdj5cbiAgKVxufSkpO1xuXG4vLyBNb2NrIG5hdmlnYXRpb24gY29uZmlnXG5qZXN0Lm1vY2soJ0AvY29uZmlnL25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICBuYXZpZ2F0aW9uOiB7XG4gICAgbWFpbjogW1xuICAgICAgeyBuYW1lOiAnRnVuZCBZb3Vyc2VsZicsIGhyZWY6ICcvY3JlYXRlJyB9LFxuICAgICAgeyBuYW1lOiAnRGlzY292ZXInLCBocmVmOiAnL2Rpc2NvdmVyJyB9LFxuICAgICAgeyBuYW1lOiAnRnVuZCBVcycsIGhyZWY6ICcvZnVuZC11cycgfSxcbiAgICAgIHsgbmFtZTogJ0Fib3V0JywgaHJlZjogJy9hYm91dCcgfSxcbiAgICAgIHsgbmFtZTogJ0Jsb2cnLCBocmVmOiAnL2Jsb2cnIH1cbiAgICBdLFxuICAgIGZvb3Rlcjoge1xuICAgICAgbGVnYWw6IFtcbiAgICAgICAgeyBuYW1lOiAnUHJpdmFjeScsIGhyZWY6ICcvcHJpdmFjeScgfSxcbiAgICAgICAgeyBuYW1lOiAnVGVybXMnLCBocmVmOiAnL3Rlcm1zJyB9LFxuICAgICAgICB7IG5hbWU6ICdTZWN1cml0eScsIGhyZWY6ICcvc2VjdXJpdHknIH1cbiAgICAgIF0sXG4gICAgICBzb2NpYWw6IFtcbiAgICAgICAgeyBuYW1lOiAnVHdpdHRlcicsIGhyZWY6ICdodHRwczovL3R3aXR0ZXIuY29tL29yYW5nZWNhdCcsIGljb246ICgpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJ0d2l0dGVyLWljb25cIj5Ud2l0dGVyPC9kaXY+IH0sXG4gICAgICAgIHsgbmFtZTogJ0dpdEh1YicsIGhyZWY6ICdodHRwczovL2dpdGh1Yi5jb20vZy1idXQvb3JhbmdlY2F0JywgaWNvbjogKCkgPT4gPGRpdiBkYXRhLXRlc3RpZD1cImdpdGh1Yi1pY29uXCI+R2l0aHViPC9kaXY+IH1cbiAgICAgIF1cbiAgICB9XG4gIH1cbn0pKTtcblxuLy8gTW9jayB3aW5kb3cuc2Nyb2xsVG9cbmNvbnN0IG1vY2tTY3JvbGxUbyA9IGplc3QuZm4oKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdzY3JvbGxUbycsIHtcbiAgdmFsdWU6IG1vY2tTY3JvbGxUbyxcbiAgd3JpdGFibGU6IHRydWVcbn0pO1xuXG5jb25zdCBtb2NrVXNlUGF0aG5hbWUgPSB1c2VQYXRobmFtZSBhcyBqZXN0Lk1vY2s7XG5cbmRlc2NyaWJlKCfwn6a2IEZvb3RlciBDb21wb25lbnQgLSBQbGF0Zm9ybSBGb3VuZGF0aW9uIFRlc3RzJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKCcvJyk7XG4gICAgbW9ja1Njcm9sbFRvLm1vY2tDbGVhcigpO1xuICB9KTtcblxuICBkZXNjcmliZSgn4pyFIEJhc2ljIFJlbmRlcmluZyAmIFZpc2liaWxpdHknLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHJlbmRlciBmb290ZXIgc3VjY2Vzc2Z1bGx5IG9uIHB1YmxpYyBwYWdlcycsICgpID0+IHtcbiAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy8nKTtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2NvbnRlbnRpbmZvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdsb2dvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTWFraW5nIEJpdGNvaW4gZG9uYXRpb25zIHNpbXBsZSBhbmQgYWNjZXNzaWJsZSBmb3IgZXZlcnlvbmUuJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgbm90IHJlbmRlciBmb290ZXIgb24gYXV0aGVudGljYXRlZCBkYXNoYm9hcmQgcGFnZXMnLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKCcvZGFzaGJvYXJkJyk7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3QoY29udGFpbmVyLmZpcnN0Q2hpbGQpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlSb2xlKCdjb250ZW50aW5mbycpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBub3QgcmVuZGVyIGZvb3RlciBvbiBwcm9maWxlIHBhZ2VzJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL3Byb2ZpbGUvdGVzdHVzZXInKTtcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChjb250YWluZXIuZmlyc3RDaGlsZCkudG9CZU51bGwoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBub3QgcmVuZGVyIGZvb3RlciBvbiBzZXR0aW5ncyBwYWdlcycsICgpID0+IHtcbiAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9zZXR0aW5ncy9hY2NvdW50Jyk7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3QoY29udGFpbmVyLmZpcnN0Q2hpbGQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgbm90IHJlbmRlciBmb290ZXIgb24gYXNzZXRzIHBhZ2VzJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2Fzc2V0cy9iaXRjb2luJyk7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3QoY29udGFpbmVyLmZpcnN0Q2hpbGQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgbm90IHJlbmRlciBmb290ZXIgb24gcGVvcGxlIHBhZ2VzJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL3Blb3BsZS9jb250cmlidXRvcnMnKTtcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChjb250YWluZXIuZmlyc3RDaGlsZCkudG9CZU51bGwoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBub3QgcmVuZGVyIGZvb3RlciBvbiBldmVudHMgcGFnZXMnLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKCcvZXZlbnRzL2NvbmZlcmVuY2UnKTtcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChjb250YWluZXIuZmlyc3RDaGlsZCkudG9CZU51bGwoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBub3QgcmVuZGVyIGZvb3RlciBvbiBvcmdhbml6YXRpb25zIHBhZ2VzJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL29yZ2FuaXphdGlvbnMvbm9ucHJvZml0cycpO1xuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGNvbnRhaW5lci5maXJzdENoaWxkKS50b0JlTnVsbCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG5vdCByZW5kZXIgZm9vdGVyIG9uIHByb2plY3RzIHBhZ2VzJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL3Byb2plY3RzL2RldmVsb3BtZW50Jyk7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3QoY29udGFpbmVyLmZpcnN0Q2hpbGQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgbm90IHJlbmRlciBmb290ZXIgb24gZnVuZHJhaXNpbmcgcGFnZXMnLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKCcvZnVuZHJhaXNpbmcvY2FtcGFpZ25zJyk7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3QoY29udGFpbmVyLmZpcnN0Q2hpbGQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmVuZGVyIGZvb3RlciBvbiBwdWJsaWMgaG9tZSBwYWdlJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnLycpO1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnY29udGVudGluZm8nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZW5kZXIgZm9vdGVyIG9uIHB1YmxpYyBkaXNjb3ZlciBwYWdlJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2Rpc2NvdmVyJyk7XG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdjb250ZW50aW5mbycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJlbmRlciBmb290ZXIgb24gcHVibGljIGFib3V0IHBhZ2UnLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKCcvYWJvdXQnKTtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2NvbnRlbnRpbmZvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmVuZGVyIGZvb3RlciBvbiBhdXRoIHBhZ2VzJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2F1dGgnKTtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2NvbnRlbnRpbmZvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfwn5qAIEJhY2sgdG8gVG9wIEJ1dHRvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgcmVuZGVyIGJhY2sgdG8gdG9wIGJ1dHRvbiB3aXRoIGNvcnJlY3Qgc3R5bGluZycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgYmFja1RvVG9wQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdCYWNrIHRvIHRvcCcpO1xuICAgICAgZXhwZWN0KGJhY2tUb1RvcEJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChiYWNrVG9Ub3BCdXR0b24pLnRvSGF2ZUNsYXNzKCdiZy1ncmFkaWVudC10by1yJywgJ2Zyb20tb3JhbmdlLTUwMCcsICd0by10aWZmYW55LTUwMCcpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnYXJyb3ctdXAtaWNvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGNhbGwgc2Nyb2xsVG8gd2hlbiBiYWNrIHRvIHRvcCBidXR0b24gaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgYmFja1RvVG9wQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdCYWNrIHRvIHRvcCcpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGJhY2tUb1RvcEJ1dHRvbik7XG4gICAgICBcbiAgICAgIGV4cGVjdChtb2NrU2Nyb2xsVG8pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHsgdG9wOiAwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIG11bHRpcGxlIGNsaWNrcyBvbiBiYWNrIHRvIHRvcCBidXR0b24nLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGJhY2tUb1RvcEJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnQmFjayB0byB0b3AnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhiYWNrVG9Ub3BCdXR0b24pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGJhY2tUb1RvcEJ1dHRvbik7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soYmFja1RvVG9wQnV0dG9uKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tTY3JvbGxUbykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDMpO1xuICAgICAgZXhwZWN0KG1vY2tTY3JvbGxUbykudG9IYXZlQmVlbkNhbGxlZFdpdGgoeyB0b3A6IDAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIHByb3BlciBhY2Nlc3NpYmlsaXR5IGF0dHJpYnV0ZXMgZm9yIGJhY2sgdG8gdG9wIGJ1dHRvbicsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgYmFja1RvVG9wQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdCYWNrIHRvIHRvcCcpO1xuICAgICAgZXhwZWN0KGJhY2tUb1RvcEJ1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0JhY2sgdG8gdG9wJyk7XG4gICAgICBleHBlY3QoYmFja1RvVG9wQnV0dG9uLnRhZ05hbWUpLnRvQmUoJ0JVVFRPTicpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgaG92ZXIgYW5kIGludGVyYWN0aW9uIGNsYXNzZXMgZm9yIGJhY2sgdG8gdG9wIGJ1dHRvbicsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgYmFja1RvVG9wQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdCYWNrIHRvIHRvcCcpO1xuICAgICAgZXhwZWN0KGJhY2tUb1RvcEJ1dHRvbikudG9IYXZlQ2xhc3MoJ2hvdmVyOnNoYWRvdy14bCcsICdob3ZlcjpzY2FsZS0xMTAnLCAnYWN0aXZlOnNjYWxlLTk1Jyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfwn4+iIEJyYW5kIFNlY3Rpb24gJiBMb2dvJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCByZW5kZXIgbG9nbyB3aXRoIGNvcnJlY3QgcHJvcHMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGxvZ28gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2xvZ28nKTtcbiAgICAgIGV4cGVjdChsb2dvKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KGxvZ28pLnRvSGF2ZUNsYXNzKCdtYi0yJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmVuZGVyIGJyYW5kIGRlc2NyaXB0aW9uJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ01ha2luZyBCaXRjb2luIGRvbmF0aW9ucyBzaW1wbGUgYW5kIGFjY2Vzc2libGUgZm9yIGV2ZXJ5b25lLicpO1xuICAgICAgZXhwZWN0KGRlc2NyaXB0aW9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KGRlc2NyaXB0aW9uKS50b0hhdmVDbGFzcygndGV4dC1zbGF0ZS02MDAnLCAndGV4dC1iYXNlJywgJ2xlYWRpbmctcmVsYXhlZCcsICdtYXgtdy14cycpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG1haW50YWluIGJyYW5kIGNvbnNpc3RlbmN5IGFjcm9zcyB0aGUgcGFnZScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnbG9nbycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ01ha2luZyBCaXRjb2luIGRvbmF0aW9ucyBzaW1wbGUgYW5kIGFjY2Vzc2libGUgZm9yIGV2ZXJ5b25lLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn8J+MkCBTb2NpYWwgTWVkaWEgTGlua3MnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHJlbmRlciBhbGwgc29jaWFsIG1lZGlhIGxpbmtzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCB0d2l0dGVyTGluayA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRm9sbG93IHVzIG9uIFR3aXR0ZXInKTtcbiAgICAgIGNvbnN0IGdpdGh1YkxpbmsgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0ZvbGxvdyB1cyBvbiBHaXRIdWInKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHR3aXR0ZXJMaW5rKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KGdpdGh1YkxpbmspLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSBjb3JyZWN0IGhyZWYgYXR0cmlidXRlcyBmb3Igc29jaWFsIGxpbmtzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCB0d2l0dGVyTGluayA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRm9sbG93IHVzIG9uIFR3aXR0ZXInKTtcbiAgICAgIGNvbnN0IGdpdGh1YkxpbmsgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0ZvbGxvdyB1cyBvbiBHaXRIdWInKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHR3aXR0ZXJMaW5rLmNsb3Nlc3QoJ2EnKSkudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJ2h0dHBzOi8vdHdpdHRlci5jb20vb3JhbmdlY2F0Jyk7XG4gICAgICBleHBlY3QoZ2l0aHViTGluay5jbG9zZXN0KCdhJykpLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsICdodHRwczovL2dpdGh1Yi5jb20vZy1idXQvb3JhbmdlY2F0Jyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSBjb3JyZWN0IHRhcmdldCBhbmQgcmVsIGF0dHJpYnV0ZXMgZm9yIHNvY2lhbCBsaW5rcycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3Qgc29jaWFsTGlua3MgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdsaW5rJyk7XG4gICAgICBjb25zdCBleHRlcm5hbExpbmtzID0gc29jaWFsTGlua3MuZmlsdGVyKGxpbmsgPT4gXG4gICAgICAgIGxpbmsuZ2V0QXR0cmlidXRlKCdocmVmJyk/LnN0YXJ0c1dpdGgoJ2h0dHAnKVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgZXh0ZXJuYWxMaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xuICAgICAgICBleHBlY3QobGluaykudG9IYXZlQXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7XG4gICAgICAgIGV4cGVjdChsaW5rKS50b0hhdmVBdHRyaWJ1dGUoJ3JlbCcsICdub29wZW5lciBub3JlZmVycmVyJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZW5kZXIgc29jaWFsIG1lZGlhIGljb25zJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEFsbEJ5VGVzdElkKCd0d2l0dGVyLWljb24nKSkudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRBbGxCeVRlc3RJZCgnZ2l0aHViLWljb24nKSkudG9IYXZlTGVuZ3RoKDEpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgcHJvcGVyIHN0eWxpbmcgZm9yIHNvY2lhbCBtZWRpYSBsaW5rcycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgdHdpdHRlckxpbmsgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0ZvbGxvdyB1cyBvbiBUd2l0dGVyJyk7XG4gICAgICBleHBlY3QodHdpdHRlckxpbmspLnRvSGF2ZUNsYXNzKCdncm91cCcsICd3LTEwJywgJ2gtMTAnLCAnYmctZ3JheS0xMDAnLCAncm91bmRlZC1sZycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn8J+nrSBOYXZpZ2F0aW9uIExpbmtzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCByZW5kZXIgYWxsIG1haW4gbmF2aWdhdGlvbiBsaW5rcycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Z1bmQgWW91cnNlbGYnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdEaXNjb3ZlcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Z1bmQgVXMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBYm91dCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Jsb2cnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIGNvcnJlY3QgaHJlZiBhdHRyaWJ1dGVzIGZvciBuYXZpZ2F0aW9uIGxpbmtzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRnVuZCBZb3Vyc2VsZicpLmNsb3Nlc3QoJ2EnKSkudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJy9jcmVhdGUnKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdEaXNjb3ZlcicpLmNsb3Nlc3QoJ2EnKSkudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJy9kaXNjb3ZlcicpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Z1bmQgVXMnKS5jbG9zZXN0KCdhJykpLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsICcvZnVuZC11cycpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Fib3V0JykuY2xvc2VzdCgnYScpKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL2Fib3V0Jyk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQmxvZycpLmNsb3Nlc3QoJ2EnKSkudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJy9ibG9nJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmVuZGVyIG5hdmlnYXRpb24gc2VjdGlvbiB0aXRsZSB3aXRoIGdyYWRpZW50IHN0eWxpbmcnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IG5hdlRpdGxlID0gc2NyZWVuLmdldEJ5VGV4dCgnTmF2aWdhdGlvbicpO1xuICAgICAgZXhwZWN0KG5hdlRpdGxlKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KG5hdlRpdGxlKS50b0hhdmVDbGFzcygnYmctZ3JhZGllbnQtdG8tcicsICdmcm9tLW9yYW5nZS01MDAnLCAndG8tdGlmZmFueS01MDAnLCAnYmctY2xpcC10ZXh0JywgJ3RleHQtdHJhbnNwYXJlbnQnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIHByb3BlciBob3ZlciBlZmZlY3RzIGZvciBuYXZpZ2F0aW9uIGxpbmtzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBuYXZMaW5rID0gc2NyZWVuLmdldEJ5VGV4dCgnRnVuZCBZb3Vyc2VsZicpO1xuICAgICAgZXhwZWN0KG5hdkxpbmsuY2xvc2VzdCgnYScpKS50b0hhdmVDbGFzcygnZ3JvdXAnLCAnZmxleCcsICdpdGVtcy1jZW50ZXInLCAndGV4dC1iYXNlJywgJ3RleHQtc2xhdGUtNjAwJywgJ2hvdmVyOnRleHQtb3JhbmdlLTYwMCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgbWluaW11bSB0b3VjaCB0YXJnZXQgc2l6ZSBmb3IgbmF2aWdhdGlvbiBsaW5rcycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgbmF2TGlua3MgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KC9GdW5kIFlvdXJzZWxmfERpc2NvdmVyfEZ1bmQgVXN8QWJvdXR8QmxvZy8pO1xuICAgICAgbmF2TGlua3MuZm9yRWFjaChsaW5rID0+IHtcbiAgICAgICAgZXhwZWN0KGxpbmsuY2xvc2VzdCgnYScpKS50b0hhdmVDbGFzcygnbWluLWgtWzQ0cHhdJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+Kalu+4jyBMZWdhbCBMaW5rcycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgcmVuZGVyIGFsbCBsZWdhbCBsaW5rcycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1ByaXZhY3knKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUZXJtcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3VyaXR5JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSBjb3JyZWN0IGhyZWYgYXR0cmlidXRlcyBmb3IgbGVnYWwgbGlua3MnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQcml2YWN5JykuY2xvc2VzdCgnYScpKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL3ByaXZhY3knKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUZXJtcycpLmNsb3Nlc3QoJ2EnKSkudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJy90ZXJtcycpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3VyaXR5JykuY2xvc2VzdCgnYScpKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL3NlY3VyaXR5Jyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmVuZGVyIGxlZ2FsIHNlY3Rpb24gdGl0bGUgd2l0aCBncmFkaWVudCBzdHlsaW5nJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBsZWdhbFRpdGxlID0gc2NyZWVuLmdldEJ5VGV4dCgnTGVnYWwnKTtcbiAgICAgIGV4cGVjdChsZWdhbFRpdGxlKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KGxlZ2FsVGl0bGUpLnRvSGF2ZUNsYXNzKCdiZy1ncmFkaWVudC10by1yJywgJ2Zyb20tb3JhbmdlLTUwMCcsICd0by10aWZmYW55LTUwMCcsICdiZy1jbGlwLXRleHQnLCAndGV4dC10cmFuc3BhcmVudCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgcHJvcGVyIHN0eWxpbmcgZm9yIGxlZ2FsIGxpbmtzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBsZWdhbExpbmsgPSBzY3JlZW4uZ2V0QnlUZXh0KCdQcml2YWN5Jyk7XG4gICAgICBleHBlY3QobGVnYWxMaW5rLmNsb3Nlc3QoJ2EnKSkudG9IYXZlQ2xhc3MoJ2dyb3VwJywgJ2ZsZXgnLCAnaXRlbXMtY2VudGVyJywgJ3RleHQtYmFzZScsICd0ZXh0LXNsYXRlLTYwMCcsICdob3Zlcjp0ZXh0LW9yYW5nZS02MDAnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIG1pbmltdW0gdG91Y2ggdGFyZ2V0IHNpemUgZm9yIGxlZ2FsIGxpbmtzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBsZWdhbExpbmtzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgvUHJpdmFjeXxUZXJtc3xTZWN1cml0eS8pO1xuICAgICAgbGVnYWxMaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xuICAgICAgICBleHBlY3QobGluay5jbG9zZXN0KCdhJykpLnRvSGF2ZUNsYXNzKCdtaW4taC1bNDRweF0nKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn8J+TpyBOZXdzbGV0dGVyL0NUQSBTZWN0aW9uJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCByZW5kZXIgbmV3c2xldHRlciBzZWN0aW9uIHdpdGggY29ycmVjdCB0aXRsZScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RheVVwZGF0ZWRUaXRsZSA9IHNjcmVlbi5nZXRCeVRleHQoJ1N0YXkgVXBkYXRlZCcpO1xuICAgICAgZXhwZWN0KHN0YXlVcGRhdGVkVGl0bGUpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc3RheVVwZGF0ZWRUaXRsZSkudG9IYXZlQ2xhc3MoJ2JnLWdyYWRpZW50LXRvLXInLCAnZnJvbS1vcmFuZ2UtNTAwJywgJ3RvLXRpZmZhbnktNTAwJywgJ2JnLWNsaXAtdGV4dCcsICd0ZXh0LXRyYW5zcGFyZW50Jyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmVuZGVyIG5ld3NsZXR0ZXIgZGVzY3JpcHRpb24nLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gc2NyZWVuLmdldEJ5VGV4dCgnR2V0IHRoZSBsYXRlc3QgdXBkYXRlcyBvbiBCaXRjb2luIGZ1bmRyYWlzaW5nIGFuZCBjb21tdW5pdHkgYnVpbGRpbmcuJyk7XG4gICAgICBleHBlY3QoZGVzY3JpcHRpb24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QoZGVzY3JpcHRpb24pLnRvSGF2ZUNsYXNzKCd0ZXh0LXNtJywgJ3RleHQtc2xhdGUtNjAwJywgJ2xlYWRpbmctcmVsYXhlZCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJlbmRlciBnZXQgc3RhcnRlZCBDVEEgYnV0dG9uJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBjdGFCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdHZXQgU3RhcnRlZCBUb2RheScpO1xuICAgICAgZXhwZWN0KGN0YUJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChjdGFCdXR0b24uY2xvc2VzdCgnYScpKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL2F1dGg/bW9kZT1yZWdpc3RlcicpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgcHJvcGVyIHN0eWxpbmcgZm9yIENUQSBidXR0b24nLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGN0YUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0dldCBTdGFydGVkIFRvZGF5Jyk7XG4gICAgICBleHBlY3QoY3RhQnV0dG9uKS50b0hhdmVDbGFzcygnaW5saW5lLWZsZXgnLCAnaXRlbXMtY2VudGVyJywgJ2p1c3RpZnktY2VudGVyJywgJ2JnLWdyYWRpZW50LXRvLXInLCAnZnJvbS1vcmFuZ2UtNTAwJywgJ3RvLXRpZmZhbnktNTAwJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSBtaW5pbXVtIHRvdWNoIHRhcmdldCBzaXplIGZvciBDVEEgYnV0dG9uJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBjdGFCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdHZXQgU3RhcnRlZCBUb2RheScpO1xuICAgICAgZXhwZWN0KGN0YUJ1dHRvbikudG9IYXZlQ2xhc3MoJ21pbi1oLVs0NHB4XScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgcmVzcG9uc2l2ZSB3aWR0aCBjbGFzc2VzIGZvciBDVEEgYnV0dG9uJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBjdGFCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdHZXQgU3RhcnRlZCBUb2RheScpO1xuICAgICAgZXhwZWN0KGN0YUJ1dHRvbikudG9IYXZlQ2xhc3MoJ3ctZnVsbCcsICdzbTp3LWF1dG8nKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ/Cfk4QgQm90dG9tIFNlY3Rpb24gJiBDb3B5cmlnaHQnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHJlbmRlciBjdXJyZW50IHllYXIgaW4gY29weXJpZ2h0JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBjdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcbiAgICAgIGNvbnN0IGNvcHlyaWdodCA9IHNjcmVlbi5nZXRCeVRleHQoYMKpICR7Y3VycmVudFllYXJ9IE9yYW5nZUNhdC4gQWxsIHJpZ2h0cyByZXNlcnZlZC5gKTtcbiAgICAgIGV4cGVjdChjb3B5cmlnaHQpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmVuZGVyIGFkZGl0aW9uYWwgYm90dG9tIGxpbmtzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRG9jdW1lbnRhdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0FQSScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1N0YXR1cycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgY29ycmVjdCBocmVmIGF0dHJpYnV0ZXMgZm9yIGJvdHRvbSBsaW5rcycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHRoZSBib3R0b20gc2VjdGlvbiBkb2N1bWVudGF0aW9uIGxpbmsgKGRpZmZlcmVudCBmcm9tIG5hdmlnYXRpb24gc2VjdGlvbilcbiAgICAgIGNvbnN0IGJvdHRvbUxpbmtzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnRG9jdW1lbnRhdGlvbicpO1xuICAgICAgY29uc3QgYm90dG9tRG9jTGluayA9IGJvdHRvbUxpbmtzLmZpbmQobGluayA9PiBcbiAgICAgICAgbGluay5jbG9zZXN0KCdhJyk/LmdldEF0dHJpYnV0ZSgnaHJlZicpID09PSAnL2RvY3MnXG4gICAgICApO1xuICAgICAgXG4gICAgICBleHBlY3QoYm90dG9tRG9jTGluaz8uY2xvc2VzdCgnYScpKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL2RvY3MnKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBUEknKS5jbG9zZXN0KCdhJykpLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsICcvYXBpJyk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU3RhdHVzJykuY2xvc2VzdCgnYScpKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL3N0YXR1cycpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgcHJvcGVyIHJlc3BvbnNpdmUgbGF5b3V0IGZvciBib3R0b20gc2VjdGlvbicsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgY29weXJpZ2h0ID0gc2NyZWVuLmdldEJ5VGV4dCgvwqkgXFxkezR9IE9yYW5nZUNhdC8pO1xuICAgICAgY29uc3QgYm90dG9tU2VjdGlvbiA9IGNvcHlyaWdodC5jbG9zZXN0KCdkaXYnKTtcbiAgICAgIGV4cGVjdChib3R0b21TZWN0aW9uKS50b0hhdmVDbGFzcygnZmxleCcsICdmbGV4LWNvbCcsICdzbTpmbGV4LXJvdycsICdpdGVtcy1jZW50ZXInLCAnanVzdGlmeS1iZXR3ZWVuJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSBwcm9wZXIgc3R5bGluZyBmb3IgYm90dG9tIGxpbmtzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBhcGlMaW5rID0gc2NyZWVuLmdldEJ5VGV4dCgnQVBJJyk7XG4gICAgICBleHBlY3QoYXBpTGluaykudG9IYXZlQ2xhc3MoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtb3JhbmdlLTYwMCcsICd0cmFuc2l0aW9uLWNvbG9ycycsICdkdXJhdGlvbi0zMDAnLCAnaG92ZXI6dW5kZXJsaW5lJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfwn5OxIFJlc3BvbnNpdmUgRGVzaWduJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIHJlc3BvbnNpdmUgZ3JpZCBsYXlvdXQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGZvb3RlckNvbnRlbnQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdjb250ZW50aW5mbycpO1xuICAgICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGZvb3RlckNvbnRlbnQucXVlcnlTZWxlY3RvcignLmdyaWQnKTtcbiAgICAgIGV4cGVjdChncmlkQ29udGFpbmVyKS50b0hhdmVDbGFzcygnZ3JpZCcsICdncmlkLWNvbHMtMScsICdzbTpncmlkLWNvbHMtMicsICdsZzpncmlkLWNvbHMtNCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgcmVzcG9uc2l2ZSBwYWRkaW5nJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBmb290ZXJDb250ZW50ID0gc2NyZWVuLmdldEJ5Um9sZSgnY29udGVudGluZm8nKTtcbiAgICAgIGNvbnN0IHBhZGRpbmdDb250YWluZXIgPSBmb290ZXJDb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5weS04Jyk7XG4gICAgICBleHBlY3QocGFkZGluZ0NvbnRhaW5lcikudG9IYXZlQ2xhc3MoJ3B5LTgnLCAnc206cHktMTInLCAncHgtNCcsICdzbTpweC02JywgJ2xnOnB4LTgnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIHJlc3BvbnNpdmUgbWF4IHdpZHRoIGNvbnRhaW5lcicsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgZm9vdGVyQ29udGVudCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NvbnRlbnRpbmZvJyk7XG4gICAgICBjb25zdCBtYXhXaWR0aENvbnRhaW5lciA9IGZvb3RlckNvbnRlbnQucXVlcnlTZWxlY3RvcignLm1heC13LTd4bCcpO1xuICAgICAgZXhwZWN0KG1heFdpZHRoQ29udGFpbmVyKS50b0hhdmVDbGFzcygnbWF4LXctN3hsJywgJ214LWF1dG8nKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIHJlc3BvbnNpdmUgZ2FwIHNwYWNpbmcnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGZvb3RlckNvbnRlbnQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdjb250ZW50aW5mbycpO1xuICAgICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGZvb3RlckNvbnRlbnQucXVlcnlTZWxlY3RvcignLmdyaWQnKTtcbiAgICAgIGV4cGVjdChncmlkQ29udGFpbmVyKS50b0hhdmVDbGFzcygnZ2FwLTgnLCAnbGc6Z2FwLTEyJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSByZXNwb25zaXZlIHNwYWNpbmcgZm9yIHNvY2lhbCBsaW5rcycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3Qgc29jaWFsQ29udGFpbmVyID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdGb2xsb3cgdXMgb24gVHdpdHRlcicpLmNsb3Nlc3QoJ2RpdicpO1xuICAgICAgZXhwZWN0KHNvY2lhbENvbnRhaW5lcikudG9IYXZlQ2xhc3MoJ2ZsZXgnLCAnc3BhY2UteC00Jyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfwn46oIFRoZW1lICYgU3R5bGluZycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgdXNlIEJpdGNvaW4gT3JhbmdlIGluIGdyYWRpZW50IHRoZW1lcycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgYmFja1RvVG9wQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdCYWNrIHRvIHRvcCcpO1xuICAgICAgZXhwZWN0KGJhY2tUb1RvcEJ1dHRvbikudG9IYXZlQ2xhc3MoJ2JnLWdyYWRpZW50LXRvLXInLCAnZnJvbS1vcmFuZ2UtNTAwJywgJ3RvLXRpZmZhbnktNTAwJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IGN0YUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0dldCBTdGFydGVkIFRvZGF5Jyk7XG4gICAgICBleHBlY3QoY3RhQnV0dG9uKS50b0hhdmVDbGFzcygnYmctZ3JhZGllbnQtdG8tcicsICdmcm9tLW9yYW5nZS01MDAnLCAndG8tdGlmZmFueS01MDAnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIGNvbnNpc3RlbnQgZ3JhZGllbnQgc3R5bGluZyBmb3Igc2VjdGlvbiB0aXRsZXMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IG5hdlRpdGxlID0gc2NyZWVuLmdldEJ5VGV4dCgnTmF2aWdhdGlvbicpO1xuICAgICAgY29uc3QgbGVnYWxUaXRsZSA9IHNjcmVlbi5nZXRCeVRleHQoJ0xlZ2FsJyk7XG4gICAgICBjb25zdCBzdGF5VXBkYXRlZFRpdGxlID0gc2NyZWVuLmdldEJ5VGV4dCgnU3RheSBVcGRhdGVkJyk7XG4gICAgICBcbiAgICAgIFtuYXZUaXRsZSwgbGVnYWxUaXRsZSwgc3RheVVwZGF0ZWRUaXRsZV0uZm9yRWFjaCh0aXRsZSA9PiB7XG4gICAgICAgIGV4cGVjdCh0aXRsZSkudG9IYXZlQ2xhc3MoJ2JnLWdyYWRpZW50LXRvLXInLCAnZnJvbS1vcmFuZ2UtNTAwJywgJ3RvLXRpZmZhbnktNTAwJywgJ2JnLWNsaXAtdGV4dCcsICd0ZXh0LXRyYW5zcGFyZW50Jyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIGNvbnNpc3RlbnQgaG92ZXIgY29sb3JzIHVzaW5nIEJpdGNvaW4gT3JhbmdlJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBuYXZMaW5rID0gc2NyZWVuLmdldEJ5VGV4dCgnRnVuZCBZb3Vyc2VsZicpO1xuICAgICAgY29uc3QgbGVnYWxMaW5rID0gc2NyZWVuLmdldEJ5VGV4dCgnUHJpdmFjeScpO1xuICAgICAgY29uc3QgYm90dG9tTGluayA9IHNjcmVlbi5nZXRCeVRleHQoJ0FQSScpO1xuICAgICAgXG4gICAgICBleHBlY3QobmF2TGluay5jbG9zZXN0KCdhJykpLnRvSGF2ZUNsYXNzKCdob3Zlcjp0ZXh0LW9yYW5nZS02MDAnKTtcbiAgICAgIGV4cGVjdChsZWdhbExpbmsuY2xvc2VzdCgnYScpKS50b0hhdmVDbGFzcygnaG92ZXI6dGV4dC1vcmFuZ2UtNjAwJyk7XG4gICAgICBleHBlY3QoYm90dG9tTGluaykudG9IYXZlQ2xhc3MoJ2hvdmVyOnRleHQtb3JhbmdlLTYwMCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgcHJvcGVyIGJvcmRlciBzdHlsaW5nJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBmb290ZXIgPSBzY3JlZW4uZ2V0QnlSb2xlKCdjb250ZW50aW5mbycpO1xuICAgICAgZXhwZWN0KGZvb3RlcikudG9IYXZlQ2xhc3MoJ2JnLXdoaXRlJywgJ2JvcmRlci10JywgJ2JvcmRlci1ncmF5LTIwMC81MCcsICdtdC1hdXRvJywgJ3JlbGF0aXZlJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSBwcm9wZXIgZ3JhZGllbnQgZGVjb3JhdGl2ZSBlbGVtZW50cycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZm9yIGdyYWRpZW50IHVuZGVybGluZXMgdW5kZXIgc2VjdGlvbiB0aXRsZXNcbiAgICAgIGNvbnN0IGZvb3RlciA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NvbnRlbnRpbmZvJyk7XG4gICAgICBjb25zdCBncmFkaWVudFVuZGVybGluZXMgPSBmb290ZXIucXVlcnlTZWxlY3RvckFsbCgnLmJnLWdyYWRpZW50LXRvLXIuZnJvbS1vcmFuZ2UtNTAwLnRvLXRpZmZhbnktNTAwLnJvdW5kZWQtZnVsbCcpO1xuICAgICAgZXhwZWN0KGdyYWRpZW50VW5kZXJsaW5lcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+KZvyBBY2Nlc3NpYmlsaXR5JywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIHByb3BlciBzZW1hbnRpYyBIVE1MIHN0cnVjdHVyZScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2NvbnRlbnRpbmZvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdidXR0b24nKTtcbiAgICAgIGV4cGVjdChidXR0b25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgXG4gICAgICBjb25zdCBsaW5rcyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ2xpbmsnKTtcbiAgICAgIGV4cGVjdChsaW5rcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIHByb3BlciBhcmlhLWxhYmVscyBmb3IgaW50ZXJhY3RpdmUgZWxlbWVudHMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0JhY2sgdG8gdG9wJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdGb2xsb3cgdXMgb24gVHdpdHRlcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRm9sbG93IHVzIG9uIEdpdEh1YicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgbWluaW11bSB0b3VjaCB0YXJnZXQgc2l6ZXMgZm9yIGFsbCBpbnRlcmFjdGl2ZSBlbGVtZW50cycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgLy8gQmFjayB0byB0b3AgYnV0dG9uXG4gICAgICBjb25zdCBiYWNrVG9Ub3BCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0JhY2sgdG8gdG9wJyk7XG4gICAgICBleHBlY3QoYmFja1RvVG9wQnV0dG9uKS50b0hhdmVDbGFzcygndy0xMicsICdoLTEyJyk7XG4gICAgICBcbiAgICAgIC8vIFNvY2lhbCBtZWRpYSBsaW5rc1xuICAgICAgY29uc3Qgc29jaWFsTGlua3MgPSBbXG4gICAgICAgIHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRm9sbG93IHVzIG9uIFR3aXR0ZXInKSxcbiAgICAgICAgc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdGb2xsb3cgdXMgb24gR2l0SHViJylcbiAgICAgIF07XG4gICAgICBzb2NpYWxMaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xuICAgICAgICBleHBlY3QobGluaykudG9IYXZlQ2xhc3MoJ3ctMTAnLCAnaC0xMCcpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIE5hdmlnYXRpb24gYW5kIGxlZ2FsIGxpbmtzXG4gICAgICBjb25zdCBuYXZMaW5rcyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoL0Z1bmQgWW91cnNlbGZ8RGlzY292ZXJ8RnVuZCBVc3xBYm91dHxCbG9nfFByaXZhY3l8VGVybXN8U2VjdXJpdHkvKTtcbiAgICAgIG5hdkxpbmtzLmZvckVhY2gobGluayA9PiB7XG4gICAgICAgIGV4cGVjdChsaW5rLmNsb3Nlc3QoJ2EnKSkudG9IYXZlQ2xhc3MoJ21pbi1oLVs0NHB4XScpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIENUQSBidXR0b25cbiAgICAgIGNvbnN0IGN0YUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0dldCBTdGFydGVkIFRvZGF5Jyk7XG4gICAgICBleHBlY3QoY3RhQnV0dG9uKS50b0hhdmVDbGFzcygnbWluLWgtWzQ0cHhdJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSBwcm9wZXIgY29sb3IgY29udHJhc3QgZm9yIHRleHQgZWxlbWVudHMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGZvciBwcm9wZXIgdGV4dCBjb2xvciBjbGFzc2VzIHRoYXQgZW5zdXJlIGdvb2QgY29udHJhc3RcbiAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gc2NyZWVuLmdldEJ5VGV4dCgnTWFraW5nIEJpdGNvaW4gZG9uYXRpb25zIHNpbXBsZSBhbmQgYWNjZXNzaWJsZSBmb3IgZXZlcnlvbmUuJyk7XG4gICAgICBleHBlY3QoZGVzY3JpcHRpb24pLnRvSGF2ZUNsYXNzKCd0ZXh0LXNsYXRlLTYwMCcpO1xuICAgICAgXG4gICAgICBjb25zdCBjb3B5cmlnaHQgPSBzY3JlZW4uZ2V0QnlUZXh0KC/CqSBcXGR7NH0gT3JhbmdlQ2F0Lyk7XG4gICAgICBleHBlY3QoY29weXJpZ2h0KS50b0hhdmVDbGFzcygndGV4dC1zbGF0ZS01MDAnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUga2V5Ym9hcmQgbmF2aWdhdGlvbiBwcm9wZXJseScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgYmFja1RvVG9wQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdCYWNrIHRvIHRvcCcpO1xuICAgICAgYmFja1RvVG9wQnV0dG9uLmZvY3VzKCk7XG4gICAgICBleHBlY3QoYmFja1RvVG9wQnV0dG9uKS50b0hhdmVGb2N1cygpO1xuICAgICAgXG4gICAgICAvLyBBbGwgbGlua3Mgc2hvdWxkIGJlIGZvY3VzYWJsZVxuICAgICAgY29uc3QgbGlua3MgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdsaW5rJyk7XG4gICAgICBsaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xuICAgICAgICBleHBlY3QobGluaykubm90LnRvSGF2ZUF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn8J+OryBCaXRjb2luIFBsYXRmb3JtIEludGVncmF0aW9uJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBlbXBoYXNpemUgQml0Y29pbi1yZWxhdGVkIGNvbnRlbnQgaW4gZGVzY3JpcHRpb24nLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gc2NyZWVuLmdldEJ5VGV4dCgnTWFraW5nIEJpdGNvaW4gZG9uYXRpb25zIHNpbXBsZSBhbmQgYWNjZXNzaWJsZSBmb3IgZXZlcnlvbmUuJyk7XG4gICAgICBleHBlY3QoZGVzY3JpcHRpb24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QoZGVzY3JpcHRpb24udGV4dENvbnRlbnQpLnRvQ29udGFpbignQml0Y29pbicpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHByb3ZpZGUgY2xlYXIgQml0Y29pbiBvbmJvYXJkaW5nIHBhdGggaW4gQ1RBJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBjdGFCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdHZXQgU3RhcnRlZCBUb2RheScpO1xuICAgICAgZXhwZWN0KGN0YUJ1dHRvbi5jbG9zZXN0KCdhJykpLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsICcvYXV0aD9tb2RlPXJlZ2lzdGVyJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IGN0YURlc2NyaXB0aW9uID0gc2NyZWVuLmdldEJ5VGV4dCgnR2V0IHRoZSBsYXRlc3QgdXBkYXRlcyBvbiBCaXRjb2luIGZ1bmRyYWlzaW5nIGFuZCBjb21tdW5pdHkgYnVpbGRpbmcuJyk7XG4gICAgICBleHBlY3QoY3RhRGVzY3JpcHRpb24udGV4dENvbnRlbnQpLnRvQ29udGFpbignQml0Y29pbiBmdW5kcmFpc2luZycpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG1haW50YWluIHBsYXRmb3JtIGJyYW5kaW5nIGNvbnNpc3RlbmN5JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdsb2dvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvwqkgXFxkezR9IE9yYW5nZUNhdC8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGxpbmsgdG8gcGxhdGZvcm0tc3BlY2lmaWMgcGFnZXMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdGdW5kIFlvdXJzZWxmJykuY2xvc2VzdCgnYScpKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL2NyZWF0ZScpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Rpc2NvdmVyJykuY2xvc2VzdCgnYScpKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL2Rpc2NvdmVyJyk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRnVuZCBVcycpLmNsb3Nlc3QoJ2EnKSkudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJy9mdW5kLXVzJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcHJvdmlkZSBzZWN1cml0eSBhbmQgdHJ1c3Qgc2lnbmFscycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3VyaXR5JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUHJpdmFjeScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlcm1zJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfwn5SnIEVkZ2UgQ2FzZXMgJiBFcnJvciBIYW5kbGluZycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHVuZGVmaW5lZCBwYXRobmFtZSBncmFjZWZ1bGx5JywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSh1bmRlZmluZWQgYXMgYW55KTtcbiAgICAgIFxuICAgICAgcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2NvbnRlbnRpbmZvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIG51bGwgcGF0aG5hbWUgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUobnVsbCBhcyBhbnkpO1xuICAgICAgXG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnY29udGVudGluZm8nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgc2Nyb2xsVG8gbm90IGJlaW5nIGF2YWlsYWJsZScsICgpID0+IHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsU2Nyb2xsVG8gPSB3aW5kb3cuc2Nyb2xsVG87XG4gICAgICBkZWxldGUgKHdpbmRvdyBhcyBhbnkpLnNjcm9sbFRvO1xuICAgICAgXG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGJhY2tUb1RvcEJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnQmFjayB0byB0b3AnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhiYWNrVG9Ub3BCdXR0b24pO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgbm90IHRocm93IGFuZCBidXR0b24gc2hvdWxkIHN0aWxsIGJlIGludGVyYWN0aXZlXG4gICAgICBleHBlY3QoYmFja1RvVG9wQnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgXG4gICAgICB3aW5kb3cuc2Nyb2xsVG8gPSBvcmlnaW5hbFNjcm9sbFRvO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIG5hdmlnYXRpb24gY29uZmlnIGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICAvLyBUaGlzIHRlc3QgZW5zdXJlcyB0aGUgY29tcG9uZW50IGRvZXNuJ3QgYnJlYWsgaWYgbmF2aWdhdGlvbiBjb25maWcgaXMgbWFsZm9ybWVkXG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBzdGlsbCByZW5kZXIgYmFzaWMgc3RydWN0dXJlXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnY29udGVudGluZm8nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2xvZ28nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgcGF0aG5hbWUgc3RyaW5nJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnJyk7XG4gICAgICBcbiAgICAgIHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2NvbnRlbnRpbmZvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHBhdGhuYW1lIHdpdGggdHJhaWxpbmcgc2xhc2hlcycsICgpID0+IHtcbiAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9kYXNoYm9hcmQvJyk7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKDxGb290ZXIgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3QoY29udGFpbmVyLmZpcnN0Q2hpbGQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGNvbXBsZXggbmVzdGVkIGF1dGhlbnRpY2F0ZWQgcGF0aHMnLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKCcvZGFzaGJvYXJkL2FuYWx5dGljcy9iaXRjb2luL3RyZW5kcycpO1xuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcig8Rm9vdGVyIC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGNvbnRhaW5lci5maXJzdENoaWxkKS50b0JlTnVsbCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBjYXNlIHNlbnNpdGl2aXR5IGluIHBhdGhuYW1lIGNoZWNraW5nJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL0Rhc2hib2FyZCcpO1xuICAgICAgXG4gICAgICByZW5kZXIoPEZvb3RlciAvPik7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCByZW5kZXIgZm9vdGVyIGFzIGl0IGRvZXNuJ3QgbWF0Y2ggZXhhY3QgY2FzZVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2NvbnRlbnRpbmZvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xufSk7ICJdLCJ2ZXJzaW9uIjozfQ==