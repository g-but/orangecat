{"version":3,"names":["cov_1137ayc3vt","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","branchMap","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage"],"sources":["/home/g/dev/orangecat/src/types/database.ts"],"sourcesContent":["/**\n * DATABASE TYPES - SCALABLE SCHEMA\n * \n * Comprehensive type definitions for the scalable profile system\n * with Bitcoin-native features, analytics, and extensibility.\n * \n * Created: 2025-01-08\n * Last Modified: 2025-01-08\n * Last Modified Summary: Updated for scalable schema with comprehensive features\n */\n\n// =====================================================================\n// üéØ CORE PROFILE INTERFACE\n// =====================================================================\n\nexport interface Profile {\n  // Core identity fields\n  id: string\n  username: string | null\n  full_name: string | null\n  display_name: string | null\n  bio: string | null\n  avatar_url: string | null\n  banner_url: string | null\n  website: string | null\n  created_at: string\n  updated_at: string\n  \n  // Bitcoin fields (for backward compatibility)\n  bitcoin_address: string | null\n  lightning_address: string | null\n}\n\n// =====================================================================\n// üöÄ SCALABLE PROFILE INTERFACE\n// =====================================================================\n\nexport interface ScalableProfile extends Profile {\n  // Contact & Location\n  email: string | null\n  phone: string | null\n  location: string | null\n  timezone: string | null\n  language: string | null\n  currency: string | null\n  \n  // Bitcoin-native features\n  bitcoin_public_key: string | null\n  lightning_node_id: string | null\n  payment_preferences: Record<string, any> | null\n  bitcoin_balance: number | null\n  lightning_balance: number | null\n  \n  // Analytics & Engagement\n  profile_views: number | null\n  follower_count: number | null\n  following_count: number | null\n  campaign_count: number | null\n  total_raised: number | null\n  total_donated: number | null\n  \n  // Verification & Security\n  verification_status: 'unverified' | 'pending' | 'verified' | 'rejected' | null\n  verification_level: number | null\n  kyc_status: 'none' | 'pending' | 'approved' | 'rejected' | null\n  two_factor_enabled: boolean | null\n  last_login_at: string | null\n  login_count: number | null\n  \n  // Customization & Branding\n  theme_preferences: Record<string, any> | null\n  custom_css: string | null\n  profile_color: string | null\n  cover_image_url: string | null\n  profile_badges: any[] | null\n  \n  // Status & Temporal\n  status: 'active' | 'inactive' | 'suspended' | 'deleted' | null\n  last_active_at: string | null\n  profile_completed_at: string | null\n  onboarding_completed: boolean | null\n  terms_accepted_at: string | null\n  privacy_policy_accepted_at: string | null\n  \n  // Extensibility (JSON fields)\n  social_links: Record<string, any> | null\n  preferences: Record<string, any> | null\n  metadata: Record<string, any> | null\n  verification_data: Record<string, any> | null\n  privacy_settings: Record<string, any> | null\n}\n\n// =====================================================================\n// üìù FORM DATA INTERFACES\n// =====================================================================\n\nexport interface ProfileFormData {\n  // Core fields\n  username?: string\n  full_name?: string\n  display_name?: string\n  bio?: string\n  avatar_url?: string\n  banner_url?: string\n  website?: string\n  \n  // Bitcoin fields\n  bitcoin_address?: string\n  lightning_address?: string\n}\n\nexport interface ScalableProfileFormData extends ProfileFormData {\n  // Contact & Location\n  email?: string\n  phone?: string\n  location?: string\n  timezone?: string\n  language?: string\n  currency?: string\n  \n  // Bitcoin-native features\n  bitcoin_public_key?: string\n  lightning_node_id?: string\n  payment_preferences?: Record<string, any>\n  \n  // Customization\n  profile_color?: string\n  cover_image_url?: string\n  theme_preferences?: Record<string, any>\n  \n  // Extensibility\n  social_links?: Record<string, any>\n  preferences?: Record<string, any>\n  privacy_settings?: Record<string, any>\n}\n\n// =====================================================================\n// üîç SEARCH & FILTER INTERFACES\n// =====================================================================\n\nexport interface ProfileSearchOptions {\n  limit?: number\n  offset?: number\n  status?: 'active' | 'inactive' | 'suspended' | 'deleted'\n  verification_status?: 'unverified' | 'pending' | 'verified' | 'rejected'\n  verification_level?: number\n  orderBy?: string\n  orderDirection?: 'asc' | 'desc'\n  location?: string\n  language?: string\n  currency?: string\n}\n\nexport interface ProfileSearchResult {\n  id: string\n  username: string | null\n  display_name: string | null\n  bio: string | null\n  avatar_url: string | null\n  verification_status: string | null\n  follower_count: number | null\n  rank?: number\n}\n\n// =====================================================================\n// üìä ANALYTICS INTERFACES\n// =====================================================================\n\nexport interface ProfileAnalytics {\n  profile_views: number\n  follower_count: number\n  following_count: number\n  campaign_count: number\n  total_raised: number\n  total_donated: number\n}\n\nexport interface ProfileAnalyticsUpdate {\n  profile_views?: number\n  follower_count?: number\n  following_count?: number\n  campaign_count?: number\n  total_raised?: number\n  total_donated?: number\n}\n\n// =====================================================================\n// üîí VERIFICATION INTERFACES\n// =====================================================================\n\nexport interface VerificationData {\n  type: 'identity' | 'bitcoin' | 'lightning' | 'social' | 'kyc'\n  status: 'pending' | 'approved' | 'rejected'\n  submitted_at: string\n  reviewed_at?: string\n  reviewer_id?: string\n  documents?: string[]\n  notes?: string\n  metadata?: Record<string, any>\n}\n\nexport interface ProfileVerification {\n  verification_status: 'unverified' | 'pending' | 'verified' | 'rejected'\n  verification_level: number\n  kyc_status: 'none' | 'pending' | 'approved' | 'rejected'\n  verification_data: Record<string, VerificationData>\n}\n\n// =====================================================================\n// üí∞ BITCOIN INTERFACES\n// =====================================================================\n\nexport interface BitcoinProfile {\n  bitcoin_address: string | null\n  lightning_address: string | null\n  bitcoin_public_key: string | null\n  lightning_node_id: string | null\n  bitcoin_balance: number\n  lightning_balance: number\n  payment_preferences: {\n    preferred_method: 'bitcoin' | 'lightning' | 'both'\n    auto_accept_payments: boolean\n    payment_notifications: boolean\n    minimum_amount?: number\n    maximum_amount?: number\n    fee_preference: 'low' | 'medium' | 'high'\n  }\n}\n\n// =====================================================================\n// üé® CUSTOMIZATION INTERFACES\n// =====================================================================\n\nexport interface ProfileCustomization {\n  theme_preferences: {\n    theme: 'light' | 'dark' | 'auto'\n    accent_color: string\n    font_family: string\n    font_size: 'small' | 'medium' | 'large'\n    compact_mode: boolean\n  }\n  profile_color: string\n  cover_image_url: string | null\n  custom_css: string | null\n  profile_badges: Array<{\n    id: string\n    type: 'verification' | 'achievement' | 'custom'\n    name: string\n    icon: string\n    color: string\n    earned_at: string\n  }>\n}\n\n// =====================================================================\n// üîó SOCIAL LINKS INTERFACE\n// =====================================================================\n\nexport interface SocialLinks {\n  twitter?: string\n  github?: string\n  linkedin?: string\n  instagram?: string\n  youtube?: string\n  tiktok?: string\n  discord?: string\n  telegram?: string\n  nostr?: string\n  mastodon?: string\n  custom?: Array<{\n    name: string\n    url: string\n    icon?: string\n  }>\n}\n\n// =====================================================================\n// ‚öôÔ∏è PREFERENCES INTERFACE\n// =====================================================================\n\nexport interface ProfilePreferences {\n  notifications: {\n    email_notifications: boolean\n    push_notifications: boolean\n    campaign_updates: boolean\n    follower_notifications: boolean\n    payment_notifications: boolean\n    security_alerts: boolean\n  }\n  privacy: {\n    profile_visibility: 'public' | 'followers' | 'private'\n    show_email: boolean\n    show_phone: boolean\n    show_location: boolean\n    show_bitcoin_address: boolean\n    show_analytics: boolean\n  }\n  display: {\n    show_verification_badge: boolean\n    show_follower_count: boolean\n    show_campaign_count: boolean\n    show_total_raised: boolean\n  }\n}\n\n// =====================================================================\n// üìà PROFILE STATISTICS INTERFACE\n// =====================================================================\n\nexport interface ProfileStatistics {\n  total_profiles: number\n  active_profiles: number\n  verified_profiles: number\n  new_profiles_30d: number\n  active_profiles_7d: number\n  avg_followers: number\n  total_platform_raised: number\n  total_platform_donated: number\n}\n\n// =====================================================================\n// üîÑ API RESPONSE INTERFACES\n// =====================================================================\n\nexport interface ProfileResponse {\n  success: boolean\n  profile?: ScalableProfile\n  error?: string\n  warning?: string\n}\n\nexport interface ProfileListResponse {\n  success: boolean\n  profiles: ScalableProfile[]\n  total_count: number\n  has_more: boolean\n  error?: string\n}\n\nexport interface ProfileSearchResponse {\n  success: boolean\n  results: ProfileSearchResult[]\n  total_count: number\n  has_more: boolean\n  error?: string\n}\n\n// =====================================================================\n// üõ†Ô∏è UTILITY TYPES\n// =====================================================================\n\nexport type ProfileStatus = 'active' | 'inactive' | 'suspended' | 'deleted'\nexport type VerificationStatus = 'unverified' | 'pending' | 'verified' | 'rejected'\nexport type KYCStatus = 'none' | 'pending' | 'approved' | 'rejected'\n\n// Partial update types\nexport type ProfileUpdate = Partial<ScalableProfile>\nexport type ProfileFormUpdate = Partial<ScalableProfileFormData>\n\n// Database table types (for Supabase)\nexport interface Database {\n  public: {\n    Tables: {\n      profiles: {\n        Row: ScalableProfile\n        Insert: Partial<ScalableProfile>\n        Update: Partial<ScalableProfile>\n      }\n    }\n  }\n}\n\n// =====================================================================\n// üìã EXPORT ALL TYPES\n// =====================================================================\n\n// Note: All interfaces are already exported inline above\n// Removed duplicate export type declarations to fix TypeScript errors\n"],"mappings":";;AAAA;;;;;;;;;;AAAA;AAAA,SAAAA,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;IAAA;IAAAE,KAAA;IAAAC,SAAA;IAAAC,CAAA;MAAA;IAAA;IAAAC,CAAA;IAAAC,CAAA;IAAAC,cAAA;MAAAC,IAAA;MAAAC,QAAA;MAAAC,KAAA;MAAAC,OAAA;MAAAC,cAAA;MAAAC,OAAA;IAAA;IAAAC,eAAA;IAAAtB,IAAA;EAAA;EAAA,IAAAuB,QAAA,GAAAtB,MAAA,CAAAE,GAAA,MAAAF,MAAA,CAAAE,GAAA;EAAA,KAAAoB,QAAA,CAAAxB,IAAA,KAAAwB,QAAA,CAAAxB,IAAA,EAAAC,IAAA,KAAAA,IAAA;IAAAuB,QAAA,CAAAxB,IAAA,IAAAK,YAAA;EAAA;EAAA,IAAAoB,cAAA,GAAAD,QAAA,CAAAxB,IAAA;EAAA;IAwXA;IAAAD,cAAA,YAAAA,CAAA;MAAA,OAAA0B,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAA1B,cAAA;AAAAA,cAAA,GAAAc,CAAA;;;;AAJA;AACA;AACA;AAEA;AACA","ignoreList":[]}