2da9dd94e90415f458e64170ea460e06
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
// Mock next/navigation
jest.mock('next/navigation', () => ({
    usePathname: jest.fn()
}));
// Mock useAuth hook
jest.mock('@/hooks/useAuth', () => ({
    useAuth: jest.fn()
}));
// Mock child components
jest.mock('../Logo', () => {
    return function MockLogo() {
        return (0, jsx_runtime_1.jsx)("div", { "data-testid": "logo", children: "OrangeCat Logo" });
    };
});
jest.mock('../AuthButtons', () => {
    return function MockAuthButtons({ className }) {
        return (0, jsx_runtime_1.jsx)("div", { "data-testid": "auth-buttons", className: className, children: "Auth Buttons" });
    };
});
jest.mock('@/components/dashboard/SmartCreateButton', () => ({
    HeaderCreateButton: function MockHeaderCreateButton() {
        return (0, jsx_runtime_1.jsx)("div", { "data-testid": "header-create-button", children: "Create Button" });
    }
}));
// Mock Lucide React icons
jest.mock('lucide-react', () => ({
    Menu: () => (0, jsx_runtime_1.jsx)("div", { "data-testid": "menu-icon", children: "Menu" }),
    X: () => (0, jsx_runtime_1.jsx)("div", { "data-testid": "x-icon", children: "X" }),
    ChevronDown: ({ className }) => ((0, jsx_runtime_1.jsx)("div", { "data-testid": "chevron-down", className: className, children: "ChevronDown" })),
    Zap: () => (0, jsx_runtime_1.jsx)("div", { "data-testid": "zap-icon", children: "Zap" }),
    Building: () => (0, jsx_runtime_1.jsx)("div", { "data-testid": "building-icon", children: "Building" }),
    Calendar: () => (0, jsx_runtime_1.jsx)("div", { "data-testid": "calendar-icon", children: "Calendar" }),
    Wallet: () => (0, jsx_runtime_1.jsx)("div", { "data-testid": "wallet-icon", children: "Wallet" }),
    Users: () => (0, jsx_runtime_1.jsx)("div", { "data-testid": "users-icon", children: "Users" }),
    Globe2: () => (0, jsx_runtime_1.jsx)("div", { "data-testid": "globe2-icon", children: "Globe2" })
}));
/**
 * Header Component Tests
 *
 * Testing critical navigation component used across the entire Bitcoin platform
 * Essential for user authentication flow, navigation, and responsive design
 */
const react_1 = __importDefault(require("react"));
const react_2 = require("@testing-library/react");
const user_event_1 = __importDefault(require("@testing-library/user-event"));
require("@testing-library/jest-dom");
const navigation_1 = require("next/navigation");
const useAuth_1 = require("@/hooks/useAuth");
const Header_1 = __importDefault(require("../Header"));
const mockUsePathname = navigation_1.usePathname;
const mockUseAuth = useAuth_1.useAuth;
describe('🧭 Header Component - Navigation Foundation Tests', () => {
    // Setup default mocks
    beforeEach(() => {
        mockUsePathname.mockReturnValue('/');
        mockUseAuth.mockReturnValue({ user: null });
        // Mock window.scrollY
        Object.defineProperty(window, 'scrollY', {
            value: 0,
            writable: true
        });
        // Mock body style
        Object.defineProperty(document.body, 'style', {
            value: { overflow: '' },
            writable: true
        });
        // Clear any existing timeouts
        jest.clearAllTimers();
        jest.useFakeTimers();
    });
    afterEach(() => {
        jest.runOnlyPendingTimers();
        jest.useRealTimers();
        document.body.style.overflow = '';
    });
    describe('✅ Basic Header Rendering', () => {
        test('should render header with logo and navigation elements', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            expect(react_2.screen.getByTestId('logo')).toBeInTheDocument();
            expect(react_2.screen.getByTestId('auth-buttons')).toBeInTheDocument();
            expect(react_2.screen.getByTestId('header-create-button')).toBeInTheDocument();
            expect(react_2.screen.getByRole('banner')).toBeInTheDocument();
        });
        test('should apply correct header styling when not scrolled', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const header = react_2.screen.getByRole('banner');
            expect(header).toHaveClass('bg-white/90', 'backdrop-blur-md');
            expect(header).not.toHaveClass('bg-white/95', 'backdrop-blur-lg', 'shadow-sm');
        });
        test('should update header styling when scrolled', async () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            // Simulate scroll
            (0, react_2.act)(() => {
                Object.defineProperty(window, 'scrollY', { value: 100, writable: true });
                react_2.fireEvent.scroll(window);
            });
            await (0, react_2.waitFor)(() => {
                const header = react_2.screen.getByRole('banner');
                expect(header).toHaveClass('bg-white/95', 'backdrop-blur-lg', 'shadow-sm', 'border-b');
            });
        });
        test('should render mobile menu button on small screens', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const mobileButton = react_2.screen.getByLabelText('Toggle menu');
            expect(mobileButton).toBeInTheDocument();
            expect(mobileButton.closest('div')).toHaveClass('lg:hidden');
            expect(react_2.screen.getByTestId('menu-icon')).toBeInTheDocument();
        });
    });
    describe('🔐 Authentication-Based Rendering', () => {
        test('should show guest navigation when user is not logged in', () => {
            mockUseAuth.mockReturnValue({ user: null });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            expect(react_2.screen.getByText('Products')).toBeInTheDocument();
            expect(react_2.screen.getByText('Blog')).toBeInTheDocument();
            expect(react_2.screen.getByText('Discover')).toBeInTheDocument();
            expect(react_2.screen.getByText('About')).toBeInTheDocument();
        });
        test('should show authenticated navigation when user is logged in', () => {
            const mockUser = { id: '123', email: 'test@example.com' };
            mockUseAuth.mockReturnValue({ user: mockUser });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            expect(react_2.screen.queryByText('Products')).not.toBeInTheDocument();
            expect(react_2.screen.queryByText('Blog')).not.toBeInTheDocument();
            expect(react_2.screen.getByText('My Dashboard')).toBeInTheDocument();
            expect(react_2.screen.getByText('About')).toBeInTheDocument();
        });
        test('should update dashboard link based on authentication', () => {
            // Test unauthenticated state
            mockUseAuth.mockReturnValue({ user: null });
            const { rerender } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const discoverLink = react_2.screen.getByText('Discover');
            expect(discoverLink.closest('a')).toHaveAttribute('href', '/discover');
            // Test authenticated state
            const mockUser = { id: '123', email: 'test@example.com' };
            mockUseAuth.mockReturnValue({ user: mockUser });
            rerender((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const dashboardLink = react_2.screen.getByText('My Dashboard');
            expect(dashboardLink.closest('a')).toHaveAttribute('href', '/dashboard');
        });
    });
    describe('📱 Mobile Menu Functionality', () => {
        test('should toggle mobile menu when button is clicked', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            mockUseAuth.mockReturnValue({ user: null });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const mobileButton = react_2.screen.getByLabelText('Toggle menu');
            // Initially closed - mobile menu content should not be visible
            expect(react_2.screen.queryByText('Active Products')).not.toBeInTheDocument();
            expect(react_2.screen.getByTestId('menu-icon')).toBeInTheDocument();
            // Open menu
            await user.click(mobileButton);
            expect(react_2.screen.getByTestId('x-icon')).toBeInTheDocument();
            expect(react_2.screen.getByText('Active Products')).toBeInTheDocument();
            expect(document.body.style.overflow).toBe('hidden');
        });
        test('should close mobile menu when backdrop is clicked', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const mobileButton = react_2.screen.getByLabelText('Toggle menu');
            await user.click(mobileButton);
            // Find and click backdrop - it's a div with bg-black/20 class
            const backdrop = document.querySelector('.bg-black\\/20');
            expect(backdrop).toBeInTheDocument();
            await user.click(backdrop);
            expect(react_2.screen.getByTestId('menu-icon')).toBeInTheDocument();
            expect(document.body.style.overflow).toBe('unset');
        });
        test('should close mobile menu when pathname changes', () => {
            mockUsePathname.mockReturnValue('/');
            const { rerender } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            // Open mobile menu first
            const mobileButton = react_2.screen.getByLabelText('Toggle menu');
            react_2.fireEvent.click(mobileButton);
            expect(react_2.screen.getByTestId('x-icon')).toBeInTheDocument();
            // Simulate pathname change
            mockUsePathname.mockReturnValue('/about');
            rerender((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            expect(react_2.screen.getByTestId('menu-icon')).toBeInTheDocument();
        });
        test('should show different mobile content for authenticated users', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            // Test unauthenticated mobile menu
            mockUseAuth.mockReturnValue({ user: null });
            const { rerender } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            await user.click(react_2.screen.getByLabelText('Toggle menu'));
            expect(react_2.screen.getByText('Get Started')).toBeInTheDocument();
            expect(react_2.screen.getByText('Start Fundraising')).toBeInTheDocument();
            // Test authenticated mobile menu
            const mockUser = { id: '123', email: 'test@example.com' };
            mockUseAuth.mockReturnValue({ user: mockUser });
            rerender((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            expect(react_2.screen.getByText('Quick Actions')).toBeInTheDocument();
            expect(react_2.screen.getByText('Create New Campaign')).toBeInTheDocument();
        });
    });
    describe('🎛️ Dropdown Menu Functionality', () => {
        test('should show products dropdown on hover for unauthenticated users', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            mockUseAuth.mockReturnValue({ user: null });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const productsContainer = react_2.screen.getByText('Products').closest('div');
            await user.hover(productsContainer);
            await (0, react_2.waitFor)(() => {
                expect(react_2.screen.getByText('Active Products')).toBeInTheDocument();
                expect(react_2.screen.getByText('Coming Soon')).toBeInTheDocument();
                expect(react_2.screen.getByText('Fundraising')).toBeInTheDocument();
                expect(react_2.screen.getByText('Organizations')).toBeInTheDocument();
            });
        });
        test('should show about dropdown on hover', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const aboutContainer = react_2.screen.getByText('About').closest('div');
            await user.hover(aboutContainer);
            await (0, react_2.waitFor)(() => {
                expect(react_2.screen.getByText('About Us')).toBeInTheDocument();
                expect(react_2.screen.getByText('Study Bitcoin')).toBeInTheDocument();
                expect(react_2.screen.getByText('Documentation')).toBeInTheDocument();
                expect(react_2.screen.getByText('Contact')).toBeInTheDocument();
            });
        });
        test('should hide dropdown after mouse leave with delay', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const aboutContainer = react_2.screen.getByText('About').closest('div');
            await user.hover(aboutContainer);
            await (0, react_2.waitFor)(() => {
                expect(react_2.screen.getByText('About Us')).toBeInTheDocument();
            });
            await user.unhover(aboutContainer);
            // Should still be visible immediately
            expect(react_2.screen.getByText('About Us')).toBeInTheDocument();
            // Should hide after timeout
            (0, react_2.act)(() => {
                jest.advanceTimersByTime(200);
            });
            await (0, react_2.waitFor)(() => {
                expect(react_2.screen.queryByText('About Us')).not.toBeInTheDocument();
            });
        });
        test('should rotate chevron when dropdown is open', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const aboutButton = react_2.screen.getByText('About').closest('button');
            const chevron = aboutButton === null || aboutButton === void 0 ? void 0 : aboutButton.querySelector('[data-testid="chevron-down"]');
            expect(chevron).not.toHaveClass('rotate-180');
            await user.hover(aboutButton);
            await (0, react_2.waitFor)(() => {
                expect(chevron).toHaveClass('rotate-180');
            });
        });
    });
    describe('🧭 Navigation & Active States', () => {
        test('should highlight active navigation items correctly', () => {
            mockUsePathname.mockReturnValue('/discover');
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const discoverLink = react_2.screen.getByText('Discover');
            expect(discoverLink.closest('a')).toHaveClass('text-orange-600', 'bg-orange-50');
        });
        test('should handle root path active state correctly', () => {
            mockUsePathname.mockReturnValue('/');
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            // Root path should only be active for exact match
            const discoverLink = react_2.screen.getByText('Discover');
            expect(discoverLink.closest('a')).not.toHaveClass('text-orange-600', 'bg-orange-50');
        });
        test('should handle nested path active states', () => {
            mockUsePathname.mockReturnValue('/about/team');
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const aboutButton = react_2.screen.getByText('About');
            expect(aboutButton.closest('button')).toHaveClass('text-orange-600', 'bg-orange-50');
        });
        test('should provide correct fundraising link based on auth state', () => {
            // Test unauthenticated state
            mockUseAuth.mockReturnValue({ user: null });
            const { rerender } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            expect(react_2.screen.getByTestId('header-create-button')).toBeInTheDocument();
            // Test authenticated state
            const mockUser = { id: '123', email: 'test@example.com' };
            mockUseAuth.mockReturnValue({ user: mockUser });
            rerender((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            expect(react_2.screen.getByTestId('header-create-button')).toBeInTheDocument();
        });
    });
    describe('🎨 Product Categories Display', () => {
        test('should display all product categories for unauthenticated users', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            mockUseAuth.mockReturnValue({ user: null });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const productsContainer = react_2.screen.getByText('Products').closest('div');
            await user.hover(productsContainer);
            await (0, react_2.waitFor)(() => {
                // Check for active products
                expect(react_2.screen.getByText('Fundraising')).toBeInTheDocument();
                expect(react_2.screen.getByText('Bitcoin-powered fundraising campaigns')).toBeInTheDocument();
                expect(react_2.screen.getByText('Live')).toBeInTheDocument();
            });
            // Check for coming soon products
            expect(react_2.screen.getByText('Organizations')).toBeInTheDocument();
            expect(react_2.screen.getByText('Projects')).toBeInTheDocument();
            expect(react_2.screen.getByText('Events')).toBeInTheDocument();
            expect(react_2.screen.getByText('Assets Marketplace')).toBeInTheDocument();
            expect(react_2.screen.getByText('People & Networking')).toBeInTheDocument();
        });
        test('should display product badges correctly', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            mockUseAuth.mockReturnValue({ user: null });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const productsContainer = react_2.screen.getByText('Products').closest('div');
            await user.hover(productsContainer);
            await (0, react_2.waitFor)(() => {
                // Live product should have green badge
                const liveBadge = react_2.screen.getByText('Live');
                expect(liveBadge).toHaveClass('bg-green-100', 'text-green-700');
            });
            // Coming soon products should have orange badges
            const comingSoonBadges = react_2.screen.getAllByText(/Q[12] 2026/);
            comingSoonBadges.forEach(badge => {
                expect(badge).toHaveClass('bg-orange-100', 'text-orange-700');
            });
        });
        test('should include call-to-action in products dropdown', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            mockUseAuth.mockReturnValue({ user: null });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const productsContainer = react_2.screen.getByText('Products').closest('div');
            await user.hover(productsContainer);
            await (0, react_2.waitFor)(() => {
                const ctaButton = react_2.screen.getByText('Get Started with Fundraising');
                expect(ctaButton.closest('a')).toHaveAttribute('href', '/fundraising');
                expect(ctaButton).toHaveClass('bg-orange-600', 'text-white');
            });
        });
    });
    describe('🔗 Link Structure & Accessibility', () => {
        test('should have proper link attributes for all navigation items', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            // Check main navigation links exist and are properly structured
            expect(react_2.screen.getByText('Discover').closest('a')).toHaveAttribute('href', '/discover');
            expect(react_2.screen.getByText('About').closest('button')).toBeInTheDocument();
        });
        test('should have proper ARIA labels for interactive elements', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const mobileMenuButton = react_2.screen.getByLabelText('Toggle menu');
            expect(mobileMenuButton).toBeInTheDocument();
            expect(mobileMenuButton).toHaveAttribute('aria-label', 'Toggle menu');
        });
        test('should maintain keyboard navigation support', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const aboutButton = react_2.screen.getByText('About').closest('button');
            expect(aboutButton).toBeInTheDocument();
            const mobileButton = react_2.screen.getByLabelText('Toggle menu');
            expect(mobileButton).toBeInTheDocument();
        });
        test('should render all about links with correct structure', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const aboutContainer = react_2.screen.getByText('About').closest('div');
            await (0, react_2.act)(async () => {
                await user.hover(aboutContainer);
            });
            await (0, react_2.waitFor)(() => {
                const aboutLinks = [
                    { text: 'About Us', href: '/about' },
                    { text: 'Study Bitcoin', href: '/study-bitcoin' },
                    { text: 'Documentation', href: '/docs' },
                    { text: 'Contact', href: '/profile/mao' }
                ];
                aboutLinks.forEach(link => {
                    const linkElement = react_2.screen.getByText(link.text);
                    expect(linkElement.closest('a')).toHaveAttribute('href', link.href);
                });
                // Check Blog link separately to avoid multiple element issue
                const blogLinks = react_2.screen.getAllByText('Blog');
                const dropdownBlogLink = blogLinks.find(link => {
                    var _a;
                    return ((_a = link.closest('a')) === null || _a === void 0 ? void 0 : _a.getAttribute('href')) === '/blog' &&
                        link.closest('.absolute');
                } // Inside dropdown
                );
                expect(dropdownBlogLink).toBeInTheDocument();
                expect(dropdownBlogLink === null || dropdownBlogLink === void 0 ? void 0 : dropdownBlogLink.closest('a')).toHaveAttribute('href', '/blog');
            });
        });
    });
    describe('⚡ Performance & Interactions', () => {
        test('should cleanup scroll event listener on unmount', () => {
            const addEventListenerSpy = jest.spyOn(window, 'addEventListener');
            const removeEventListenerSpy = jest.spyOn(window, 'removeEventListener');
            const { unmount } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            expect(addEventListenerSpy).toHaveBeenCalledWith('scroll', expect.any(Function));
            unmount();
            expect(removeEventListenerSpy).toHaveBeenCalledWith('scroll', expect.any(Function));
        });
        test('should cleanup timeouts on unmount', () => {
            const { unmount } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            // This ensures no memory leaks from pending timeouts
            expect(() => unmount()).not.toThrow();
        });
        test('should handle rapid hover events correctly', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const aboutContainer = react_2.screen.getByText('About').closest('div');
            // Rapid hover/unhover
            await user.hover(aboutContainer);
            await user.unhover(aboutContainer);
            await user.hover(aboutContainer);
            await (0, react_2.waitFor)(() => {
                // Should still show dropdown
                expect(react_2.screen.getByText('About Us')).toBeInTheDocument();
            });
        });
        test('should prevent body scroll when mobile menu is open', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const mobileButton = react_2.screen.getByLabelText('Toggle menu');
            // Open menu
            await user.click(mobileButton);
            expect(document.body.style.overflow).toBe('hidden');
            // Close menu
            await user.click(mobileButton);
            expect(document.body.style.overflow).toBe('unset');
        });
    });
    describe('🎯 Bitcoin Platform Integration', () => {
        test('should show Bitcoin-specific navigation for authenticated users', () => {
            const mockUser = { id: '123', email: 'bitcoin@example.com' };
            mockUseAuth.mockReturnValue({ user: mockUser });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            expect(react_2.screen.getByText('My Dashboard')).toBeInTheDocument();
            expect(react_2.screen.getByTestId('header-create-button')).toBeInTheDocument();
        });
        test('should highlight fundraising-related paths correctly', () => {
            mockUsePathname.mockReturnValue('/fundraising/my-campaign');
            mockUseAuth.mockReturnValue({ user: null });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const productsButton = react_2.screen.getByText('Products');
            expect(productsButton.closest('button')).toHaveClass('text-orange-600', 'bg-orange-50');
        });
        test('should provide appropriate mobile experience for Bitcoin users', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            const mockUser = { id: '123', email: 'bitcoin@example.com' };
            mockUseAuth.mockReturnValue({ user: mockUser });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            await user.click(react_2.screen.getByLabelText('Toggle menu'));
            expect(react_2.screen.getByText('Create New Campaign')).toBeInTheDocument();
            expect(react_2.screen.getByText('Launch a new Bitcoin fundraising campaign')).toBeInTheDocument();
            expect(react_2.screen.getAllByText('My Dashboard')).toHaveLength(2); // Desktop and mobile versions
            expect(react_2.screen.getByText('View and manage your campaigns')).toBeInTheDocument();
        });
        test('should show proper Bitcoin education links in about section', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const aboutContainer = react_2.screen.getByText('About').closest('div');
            await user.hover(aboutContainer);
            await (0, react_2.waitFor)(() => {
                expect(react_2.screen.getByText('Study Bitcoin')).toBeInTheDocument();
                expect(react_2.screen.getByText('Educational resources to learn about Bitcoin')).toBeInTheDocument();
            });
        });
    });
    describe('🔧 Edge Cases & Error Handling', () => {
        test('should handle missing user gracefully', () => {
            mockUseAuth.mockReturnValue({ user: undefined });
            expect(() => (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}))).not.toThrow();
            expect(react_2.screen.getByText('Discover')).toBeInTheDocument();
        });
        test('should handle undefined pathname gracefully', () => {
            mockUsePathname.mockReturnValue('');
            expect(() => (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}))).not.toThrow();
            expect(react_2.screen.getByTestId('logo')).toBeInTheDocument();
        });
        test('should handle window resize events during dropdown interaction', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const aboutContainer = react_2.screen.getByText('About').closest('div');
            await user.hover(aboutContainer);
            await (0, react_2.waitFor)(() => {
                expect(react_2.screen.getByText('About Us')).toBeInTheDocument();
            });
            // Simulate window resize
            (0, react_2.act)(() => {
                window.dispatchEvent(new Event('resize'));
            });
            // Should not break functionality
            expect(react_2.screen.getByText('About Us')).toBeInTheDocument();
        });
        test('should handle rapid menu toggle clicks', async () => {
            const user = user_event_1.default.setup({ advanceTimers: jest.advanceTimersByTime });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            const mobileButton = react_2.screen.getByLabelText('Toggle menu');
            // Rapid clicks
            await user.click(mobileButton);
            await user.click(mobileButton);
            await user.click(mobileButton);
            // Should be in open state
            expect(react_2.screen.getByTestId('x-icon')).toBeInTheDocument();
        });
        test('should cleanup properly when auth state changes', () => {
            mockUseAuth.mockReturnValue({ user: null });
            const { rerender } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            expect(react_2.screen.getByText('Products')).toBeInTheDocument();
            // Change auth state
            const mockUser = { id: '123', email: 'test@example.com' };
            mockUseAuth.mockReturnValue({ user: mockUser });
            rerender((0, jsx_runtime_1.jsx)(Header_1.default, {}));
            expect(react_2.screen.queryByText('Products')).not.toBeInTheDocument();
            expect(react_2.screen.getByText('My Dashboard')).toBeInTheDocument();
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvZy9kZXYvb3JhbmdlY2F0L3NyYy9jb21wb25lbnRzL2xheW91dC9fX3Rlc3RzX18vSGVhZGVyLnRlc3QudHN4IiwibWFwcGluZ3MiOiI7Ozs7OztBQWVBLHVCQUF1QjtBQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDbEMsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7Q0FDdkIsQ0FBQyxDQUFDLENBQUM7QUFFSixvQkFBb0I7QUFDcEIsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ2xDLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0NBQ25CLENBQUMsQ0FBQyxDQUFDO0FBRUosd0JBQXdCO0FBQ3hCLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEdBQUcsRUFBRTtJQUN4QixPQUFPLFNBQVMsUUFBUTtRQUN0QixPQUFPLCtDQUFpQixNQUFNLCtCQUFxQixDQUFDO0lBQ3RELENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7SUFDL0IsT0FBTyxTQUFTLGVBQWUsQ0FBQyxFQUFFLFNBQVMsRUFBMEI7UUFDbkUsT0FBTywrQ0FBaUIsY0FBYyxFQUFDLFNBQVMsRUFBRSxTQUFTLDZCQUFvQixDQUFDO0lBQ2xGLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLElBQUksQ0FBQywwQ0FBMEMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQzNELGtCQUFrQixFQUFFLFNBQVMsc0JBQXNCO1FBQ2pELE9BQU8sK0NBQWlCLHNCQUFzQiw4QkFBb0IsQ0FBQztJQUNyRSxDQUFDO0NBQ0YsQ0FBQyxDQUFDLENBQUM7QUFFSiwwQkFBMEI7QUFDMUIsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsR0FBRyxFQUFFLENBQUMs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IiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL2cvZGV2L29yYW5nZWNhdC9zcmMvY29tcG9uZW50cy9sYXlvdXQvX190ZXN0c19fL0hlYWRlci50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEhlYWRlciBDb21wb25lbnQgVGVzdHNcbiAqIFxuICogVGVzdGluZyBjcml0aWNhbCBuYXZpZ2F0aW9uIGNvbXBvbmVudCB1c2VkIGFjcm9zcyB0aGUgZW50aXJlIEJpdGNvaW4gcGxhdGZvcm1cbiAqIEVzc2VudGlhbCBmb3IgdXNlciBhdXRoZW50aWNhdGlvbiBmbG93LCBuYXZpZ2F0aW9uLCBhbmQgcmVzcG9uc2l2ZSBkZXNpZ25cbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciwgYWN0IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgdXNlckV2ZW50IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvdXNlci1ldmVudCc7XG5pbXBvcnQgJ0B0ZXN0aW5nLWxpYnJhcnkvamVzdC1kb20nO1xuaW1wb3J0IHsgdXNlUGF0aG5hbWUgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvaG9va3MvdXNlQXV0aCc7XG5pbXBvcnQgSGVhZGVyIGZyb20gJy4uL0hlYWRlcic7XG5cbi8vIE1vY2sgbmV4dC9uYXZpZ2F0aW9uXG5qZXN0Lm1vY2soJ25leHQvbmF2aWdhdGlvbicsICgpID0+ICh7XG4gIHVzZVBhdGhuYW1lOiBqZXN0LmZuKClcbn0pKTtcblxuLy8gTW9jayB1c2VBdXRoIGhvb2tcbmplc3QubW9jaygnQC9ob29rcy91c2VBdXRoJywgKCkgPT4gKHtcbiAgdXNlQXV0aDogamVzdC5mbigpXG59KSk7XG5cbi8vIE1vY2sgY2hpbGQgY29tcG9uZW50c1xuamVzdC5tb2NrKCcuLi9Mb2dvJywgKCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gTW9ja0xvZ28oKSB7XG4gICAgcmV0dXJuIDxkaXYgZGF0YS10ZXN0aWQ9XCJsb2dvXCI+T3JhbmdlQ2F0IExvZ288L2Rpdj47XG4gIH07XG59KTtcblxuamVzdC5tb2NrKCcuLi9BdXRoQnV0dG9ucycsICgpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIE1vY2tBdXRoQnV0dG9ucyh7IGNsYXNzTmFtZSB9OiB7IGNsYXNzTmFtZT86IHN0cmluZyB9KSB7XG4gICAgcmV0dXJuIDxkaXYgZGF0YS10ZXN0aWQ9XCJhdXRoLWJ1dHRvbnNcIiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+QXV0aCBCdXR0b25zPC9kaXY+O1xuICB9O1xufSk7XG5cbmplc3QubW9jaygnQC9jb21wb25lbnRzL2Rhc2hib2FyZC9TbWFydENyZWF0ZUJ1dHRvbicsICgpID0+ICh7XG4gIEhlYWRlckNyZWF0ZUJ1dHRvbjogZnVuY3Rpb24gTW9ja0hlYWRlckNyZWF0ZUJ1dHRvbigpIHtcbiAgICByZXR1cm4gPGRpdiBkYXRhLXRlc3RpZD1cImhlYWRlci1jcmVhdGUtYnV0dG9uXCI+Q3JlYXRlIEJ1dHRvbjwvZGl2PjtcbiAgfVxufSkpO1xuXG4vLyBNb2NrIEx1Y2lkZSBSZWFjdCBpY29uc1xuamVzdC5tb2NrKCdsdWNpZGUtcmVhY3QnLCAoKSA9PiAoe1xuICBNZW51OiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwibWVudS1pY29uXCI+TWVudTwvZGl2PixcbiAgWDogKCkgPT4gPGRpdiBkYXRhLXRlc3RpZD1cIngtaWNvblwiPlg8L2Rpdj4sXG4gIENoZXZyb25Eb3duOiAoeyBjbGFzc05hbWUgfTogeyBjbGFzc05hbWU/OiBzdHJpbmcgfSkgPT4gKFxuICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJjaGV2cm9uLWRvd25cIiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+Q2hldnJvbkRvd248L2Rpdj5cbiAgKSxcbiAgWmFwOiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwiemFwLWljb25cIj5aYXA8L2Rpdj4sXG4gIEJ1aWxkaW5nOiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwiYnVpbGRpbmctaWNvblwiPkJ1aWxkaW5nPC9kaXY+LFxuICBDYWxlbmRhcjogKCkgPT4gPGRpdiBkYXRhLXRlc3RpZD1cImNhbGVuZGFyLWljb25cIj5DYWxlbmRhcjwvZGl2PixcbiAgV2FsbGV0OiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwid2FsbGV0LWljb25cIj5XYWxsZXQ8L2Rpdj4sXG4gIFVzZXJzOiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwidXNlcnMtaWNvblwiPlVzZXJzPC9kaXY+LFxuICBHbG9iZTI6ICgpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJnbG9iZTItaWNvblwiPkdsb2JlMjwvZGl2PlxufSkpO1xuXG5jb25zdCBtb2NrVXNlUGF0aG5hbWUgPSB1c2VQYXRobmFtZSBhcyBqZXN0Lk1vY2s7XG5jb25zdCBtb2NrVXNlQXV0aCA9IHVzZUF1dGggYXMgamVzdC5Nb2NrO1xuXG5kZXNjcmliZSgn8J+nrSBIZWFkZXIgQ29tcG9uZW50IC0gTmF2aWdhdGlvbiBGb3VuZGF0aW9uIFRlc3RzJywgKCkgPT4ge1xuICAvLyBTZXR1cCBkZWZhdWx0IG1vY2tzXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy8nKTtcbiAgICBtb2NrVXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUoeyB1c2VyOiBudWxsIH0pO1xuICAgIFxuICAgIC8vIE1vY2sgd2luZG93LnNjcm9sbFlcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnc2Nyb2xsWScsIHtcbiAgICAgIHZhbHVlOiAwLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgICBcbiAgICAvLyBNb2NrIGJvZHkgc3R5bGVcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQuYm9keSwgJ3N0eWxlJywge1xuICAgICAgdmFsdWU6IHsgb3ZlcmZsb3c6ICcnIH0sXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFxuICAgIC8vIENsZWFyIGFueSBleGlzdGluZyB0aW1lb3V0c1xuICAgIGplc3QuY2xlYXJBbGxUaW1lcnMoKTtcbiAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LnJ1bk9ubHlQZW5kaW5nVGltZXJzKCk7XG4gICAgamVzdC51c2VSZWFsVGltZXJzKCk7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICB9KTtcblxuICBkZXNjcmliZSgn4pyFIEJhc2ljIEhlYWRlciBSZW5kZXJpbmcnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHJlbmRlciBoZWFkZXIgd2l0aCBsb2dvIGFuZCBuYXZpZ2F0aW9uIGVsZW1lbnRzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdsb2dvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdhdXRoLWJ1dHRvbnMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2hlYWRlci1jcmVhdGUtYnV0dG9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYmFubmVyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgYXBwbHkgY29ycmVjdCBoZWFkZXIgc3R5bGluZyB3aGVuIG5vdCBzY3JvbGxlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgaGVhZGVyID0gc2NyZWVuLmdldEJ5Um9sZSgnYmFubmVyJyk7XG4gICAgICBleHBlY3QoaGVhZGVyKS50b0hhdmVDbGFzcygnYmctd2hpdGUvOTAnLCAnYmFja2Ryb3AtYmx1ci1tZCcpO1xuICAgICAgZXhwZWN0KGhlYWRlcikubm90LnRvSGF2ZUNsYXNzKCdiZy13aGl0ZS85NScsICdiYWNrZHJvcC1ibHVyLWxnJywgJ3NoYWRvdy1zbScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHVwZGF0ZSBoZWFkZXIgc3R5bGluZyB3aGVuIHNjcm9sbGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSBzY3JvbGxcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdzY3JvbGxZJywgeyB2YWx1ZTogMTAwLCB3cml0YWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgZmlyZUV2ZW50LnNjcm9sbCh3aW5kb3cpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBzY3JlZW4uZ2V0QnlSb2xlKCdiYW5uZXInKTtcbiAgICAgICAgZXhwZWN0KGhlYWRlcikudG9IYXZlQ2xhc3MoJ2JnLXdoaXRlLzk1JywgJ2JhY2tkcm9wLWJsdXItbGcnLCAnc2hhZG93LXNtJywgJ2JvcmRlci1iJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZW5kZXIgbW9iaWxlIG1lbnUgYnV0dG9uIG9uIHNtYWxsIHNjcmVlbnMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IG1vYmlsZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnVG9nZ2xlIG1lbnUnKTtcbiAgICAgIGV4cGVjdChtb2JpbGVCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QobW9iaWxlQnV0dG9uLmNsb3Nlc3QoJ2RpdicpKS50b0hhdmVDbGFzcygnbGc6aGlkZGVuJyk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdtZW51LWljb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ/CflJAgQXV0aGVudGljYXRpb24tQmFzZWQgUmVuZGVyaW5nJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBzaG93IGd1ZXN0IG5hdmlnYXRpb24gd2hlbiB1c2VyIGlzIG5vdCBsb2dnZWQgaW4nLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUoeyB1c2VyOiBudWxsIH0pO1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUHJvZHVjdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdCbG9nJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRGlzY292ZXInKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBYm91dCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHNob3cgYXV0aGVudGljYXRlZCBuYXZpZ2F0aW9uIHdoZW4gdXNlciBpcyBsb2dnZWQgaW4nLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrVXNlciA9IHsgaWQ6ICcxMjMnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH07XG4gICAgICBtb2NrVXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUoeyB1c2VyOiBtb2NrVXNlciB9KTtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnUHJvZHVjdHMnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdCbG9nJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ015IERhc2hib2FyZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Fib3V0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgdXBkYXRlIGRhc2hib2FyZCBsaW5rIGJhc2VkIG9uIGF1dGhlbnRpY2F0aW9uJywgKCkgPT4ge1xuICAgICAgLy8gVGVzdCB1bmF1dGhlbnRpY2F0ZWQgc3RhdGVcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7IHVzZXI6IG51bGwgfSk7XG4gICAgICBjb25zdCB7IHJlcmVuZGVyIH0gPSByZW5kZXIoPEhlYWRlciAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGRpc2NvdmVyTGluayA9IHNjcmVlbi5nZXRCeVRleHQoJ0Rpc2NvdmVyJyk7XG4gICAgICBleHBlY3QoZGlzY292ZXJMaW5rLmNsb3Nlc3QoJ2EnKSkudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJy9kaXNjb3ZlcicpO1xuXG4gICAgICAvLyBUZXN0IGF1dGhlbnRpY2F0ZWQgc3RhdGVcbiAgICAgIGNvbnN0IG1vY2tVc2VyID0geyBpZDogJzEyMycsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfTtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7IHVzZXI6IG1vY2tVc2VyIH0pO1xuICAgICAgcmVyZW5kZXIoPEhlYWRlciAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhc2hib2FyZExpbmsgPSBzY3JlZW4uZ2V0QnlUZXh0KCdNeSBEYXNoYm9hcmQnKTtcbiAgICAgIGV4cGVjdChkYXNoYm9hcmRMaW5rLmNsb3Nlc3QoJ2EnKSkudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJy9kYXNoYm9hcmQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ/Cfk7EgTW9iaWxlIE1lbnUgRnVuY3Rpb25hbGl0eScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgdG9nZ2xlIG1vYmlsZSBtZW51IHdoZW4gYnV0dG9uIGlzIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKHsgdXNlcjogbnVsbCB9KTtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KTtcblxuICAgICAgY29uc3QgbW9iaWxlQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdUb2dnbGUgbWVudScpO1xuICAgICAgXG4gICAgICAvLyBJbml0aWFsbHkgY2xvc2VkIC0gbW9iaWxlIG1lbnUgY29udGVudCBzaG91bGQgbm90IGJlIHZpc2libGVcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0FjdGl2ZSBQcm9kdWN0cycpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ21lbnUtaWNvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgICAvLyBPcGVuIG1lbnVcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2sobW9iaWxlQnV0dG9uKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgneC1pY29uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWN0aXZlIFByb2R1Y3RzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QoZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdykudG9CZSgnaGlkZGVuJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgY2xvc2UgbW9iaWxlIG1lbnUgd2hlbiBiYWNrZHJvcCBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCh7IGFkdmFuY2VUaW1lcnM6IGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSB9KTtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KTtcblxuICAgICAgY29uc3QgbW9iaWxlQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdUb2dnbGUgbWVudScpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhtb2JpbGVCdXR0b24pO1xuXG4gICAgICAvLyBGaW5kIGFuZCBjbGljayBiYWNrZHJvcCAtIGl0J3MgYSBkaXYgd2l0aCBiZy1ibGFjay8yMCBjbGFzc1xuICAgICAgY29uc3QgYmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmctYmxhY2tcXFxcLzIwJyk7XG4gICAgICBleHBlY3QoYmFja2Ryb3ApLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soYmFja2Ryb3AhKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnbWVudS1pY29uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QoZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdykudG9CZSgndW5zZXQnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBjbG9zZSBtb2JpbGUgbWVudSB3aGVuIHBhdGhuYW1lIGNoYW5nZXMnLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKCcvJyk7XG4gICAgICBjb25zdCB7IHJlcmVuZGVyIH0gPSByZW5kZXIoPEhlYWRlciAvPik7XG4gICAgICBcbiAgICAgIC8vIE9wZW4gbW9iaWxlIG1lbnUgZmlyc3RcbiAgICAgIGNvbnN0IG1vYmlsZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnVG9nZ2xlIG1lbnUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtb2JpbGVCdXR0b24pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCd4LWljb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgLy8gU2ltdWxhdGUgcGF0aG5hbWUgY2hhbmdlXG4gICAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKCcvYWJvdXQnKTtcbiAgICAgIHJlcmVuZGVyKDxIZWFkZXIgLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdtZW51LWljb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBzaG93IGRpZmZlcmVudCBtb2JpbGUgY29udGVudCBmb3IgYXV0aGVudGljYXRlZCB1c2VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoeyBhZHZhbmNlVGltZXJzOiBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUgfSk7XG4gICAgICBcbiAgICAgIC8vIFRlc3QgdW5hdXRoZW50aWNhdGVkIG1vYmlsZSBtZW51XG4gICAgICBtb2NrVXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUoeyB1c2VyOiBudWxsIH0pO1xuICAgICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyKDxIZWFkZXIgLz4pO1xuICAgICAgXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnVG9nZ2xlIG1lbnUnKSk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnR2V0IFN0YXJ0ZWQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTdGFydCBGdW5kcmFpc2luZycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgICAvLyBUZXN0IGF1dGhlbnRpY2F0ZWQgbW9iaWxlIG1lbnVcbiAgICAgIGNvbnN0IG1vY2tVc2VyID0geyBpZDogJzEyMycsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfTtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7IHVzZXI6IG1vY2tVc2VyIH0pO1xuICAgICAgcmVyZW5kZXIoPEhlYWRlciAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdRdWljayBBY3Rpb25zJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ3JlYXRlIE5ldyBDYW1wYWlnbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn8J+Om++4jyBEcm9wZG93biBNZW51IEZ1bmN0aW9uYWxpdHknLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHNob3cgcHJvZHVjdHMgZHJvcGRvd24gb24gaG92ZXIgZm9yIHVuYXV0aGVudGljYXRlZCB1c2VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoeyBhZHZhbmNlVGltZXJzOiBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUgfSk7XG4gICAgICBtb2NrVXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUoeyB1c2VyOiBudWxsIH0pO1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pO1xuXG4gICAgICBjb25zdCBwcm9kdWN0c0NvbnRhaW5lciA9IHNjcmVlbi5nZXRCeVRleHQoJ1Byb2R1Y3RzJykuY2xvc2VzdCgnZGl2Jyk7XG4gICAgICBcbiAgICAgIGF3YWl0IHVzZXIuaG92ZXIocHJvZHVjdHNDb250YWluZXIhKTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBY3RpdmUgUHJvZHVjdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NvbWluZyBTb29uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdGdW5kcmFpc2luZycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnT3JnYW5pemF0aW9ucycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgc2hvdyBhYm91dCBkcm9wZG93biBvbiBob3ZlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoeyBhZHZhbmNlVGltZXJzOiBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUgfSk7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPik7XG5cbiAgICAgIGNvbnN0IGFib3V0Q29udGFpbmVyID0gc2NyZWVuLmdldEJ5VGV4dCgnQWJvdXQnKS5jbG9zZXN0KCdkaXYnKTtcbiAgICAgIFxuICAgICAgYXdhaXQgdXNlci5ob3ZlcihhYm91dENvbnRhaW5lciEpO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Fib3V0IFVzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTdHVkeSBCaXRjb2luJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdEb2N1bWVudGF0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDb250YWN0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoaWRlIGRyb3Bkb3duIGFmdGVyIG1vdXNlIGxlYXZlIHdpdGggZGVsYXknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pO1xuXG4gICAgICBjb25zdCBhYm91dENvbnRhaW5lciA9IHNjcmVlbi5nZXRCeVRleHQoJ0Fib3V0JykuY2xvc2VzdCgnZGl2Jyk7XG4gICAgICBcbiAgICAgIGF3YWl0IHVzZXIuaG92ZXIoYWJvdXRDb250YWluZXIhKTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBYm91dCBVcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IHVzZXIudW5ob3ZlcihhYm91dENvbnRhaW5lciEpO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgc3RpbGwgYmUgdmlzaWJsZSBpbW1lZGlhdGVseVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Fib3V0IFVzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBoaWRlIGFmdGVyIHRpbWVvdXRcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgyMDApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdBYm91dCBVcycpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJvdGF0ZSBjaGV2cm9uIHdoZW4gZHJvcGRvd24gaXMgb3BlbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoeyBhZHZhbmNlVGltZXJzOiBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUgfSk7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPik7XG5cbiAgICAgIGNvbnN0IGFib3V0QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnQWJvdXQnKS5jbG9zZXN0KCdidXR0b24nKTtcbiAgICAgIGNvbnN0IGNoZXZyb24gPSBhYm91dEJ1dHRvbj8ucXVlcnlTZWxlY3RvcignW2RhdGEtdGVzdGlkPVwiY2hldnJvbi1kb3duXCJdJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChjaGV2cm9uKS5ub3QudG9IYXZlQ2xhc3MoJ3JvdGF0ZS0xODAnKTtcbiAgICAgIFxuICAgICAgYXdhaXQgdXNlci5ob3ZlcihhYm91dEJ1dHRvbiEpO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KGNoZXZyb24pLnRvSGF2ZUNsYXNzKCdyb3RhdGUtMTgwJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ/Cfp60gTmF2aWdhdGlvbiAmIEFjdGl2ZSBTdGF0ZXMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhpZ2hsaWdodCBhY3RpdmUgbmF2aWdhdGlvbiBpdGVtcyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKCcvZGlzY292ZXInKTtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KTtcblxuICAgICAgY29uc3QgZGlzY292ZXJMaW5rID0gc2NyZWVuLmdldEJ5VGV4dCgnRGlzY292ZXInKTtcbiAgICAgIGV4cGVjdChkaXNjb3ZlckxpbmsuY2xvc2VzdCgnYScpKS50b0hhdmVDbGFzcygndGV4dC1vcmFuZ2UtNjAwJywgJ2JnLW9yYW5nZS01MCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSByb290IHBhdGggYWN0aXZlIHN0YXRlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy8nKTtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KTtcblxuICAgICAgLy8gUm9vdCBwYXRoIHNob3VsZCBvbmx5IGJlIGFjdGl2ZSBmb3IgZXhhY3QgbWF0Y2hcbiAgICAgIGNvbnN0IGRpc2NvdmVyTGluayA9IHNjcmVlbi5nZXRCeVRleHQoJ0Rpc2NvdmVyJyk7XG4gICAgICBleHBlY3QoZGlzY292ZXJMaW5rLmNsb3Nlc3QoJ2EnKSkubm90LnRvSGF2ZUNsYXNzKCd0ZXh0LW9yYW5nZS02MDAnLCAnYmctb3JhbmdlLTUwJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIG5lc3RlZCBwYXRoIGFjdGl2ZSBzdGF0ZXMnLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKCcvYWJvdXQvdGVhbScpO1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pO1xuXG4gICAgICBjb25zdCBhYm91dEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0Fib3V0Jyk7XG4gICAgICBleHBlY3QoYWJvdXRCdXR0b24uY2xvc2VzdCgnYnV0dG9uJykpLnRvSGF2ZUNsYXNzKCd0ZXh0LW9yYW5nZS02MDAnLCAnYmctb3JhbmdlLTUwJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcHJvdmlkZSBjb3JyZWN0IGZ1bmRyYWlzaW5nIGxpbmsgYmFzZWQgb24gYXV0aCBzdGF0ZScsICgpID0+IHtcbiAgICAgIC8vIFRlc3QgdW5hdXRoZW50aWNhdGVkIHN0YXRlXG4gICAgICBtb2NrVXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUoeyB1c2VyOiBudWxsIH0pO1xuICAgICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyKDxIZWFkZXIgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdoZWFkZXItY3JlYXRlLWJ1dHRvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgICAvLyBUZXN0IGF1dGhlbnRpY2F0ZWQgc3RhdGVcbiAgICAgIGNvbnN0IG1vY2tVc2VyID0geyBpZDogJzEyMycsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfTtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7IHVzZXI6IG1vY2tVc2VyIH0pO1xuICAgICAgcmVyZW5kZXIoPEhlYWRlciAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2hlYWRlci1jcmVhdGUtYnV0dG9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfwn46oIFByb2R1Y3QgQ2F0ZWdvcmllcyBEaXNwbGF5JywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBkaXNwbGF5IGFsbCBwcm9kdWN0IGNhdGVnb3JpZXMgZm9yIHVuYXV0aGVudGljYXRlZCB1c2VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoeyBhZHZhbmNlVGltZXJzOiBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUgfSk7XG4gICAgICBtb2NrVXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUoeyB1c2VyOiBudWxsIH0pO1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pO1xuXG4gICAgICBjb25zdCBwcm9kdWN0c0NvbnRhaW5lciA9IHNjcmVlbi5nZXRCeVRleHQoJ1Byb2R1Y3RzJykuY2xvc2VzdCgnZGl2Jyk7XG4gICAgICBhd2FpdCB1c2VyLmhvdmVyKHByb2R1Y3RzQ29udGFpbmVyISk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAvLyBDaGVjayBmb3IgYWN0aXZlIHByb2R1Y3RzXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdGdW5kcmFpc2luZycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQml0Y29pbi1wb3dlcmVkIGZ1bmRyYWlzaW5nIGNhbXBhaWducycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTGl2ZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENoZWNrIGZvciBjb21pbmcgc29vbiBwcm9kdWN0c1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ09yZ2FuaXphdGlvbnMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQcm9qZWN0cycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0V2ZW50cycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Fzc2V0cyBNYXJrZXRwbGFjZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Blb3BsZSAmIE5ldHdvcmtpbmcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBkaXNwbGF5IHByb2R1Y3QgYmFkZ2VzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoeyBhZHZhbmNlVGltZXJzOiBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUgfSk7XG4gICAgICBtb2NrVXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUoeyB1c2VyOiBudWxsIH0pO1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pO1xuXG4gICAgICBjb25zdCBwcm9kdWN0c0NvbnRhaW5lciA9IHNjcmVlbi5nZXRCeVRleHQoJ1Byb2R1Y3RzJykuY2xvc2VzdCgnZGl2Jyk7XG4gICAgICBhd2FpdCB1c2VyLmhvdmVyKHByb2R1Y3RzQ29udGFpbmVyISk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAvLyBMaXZlIHByb2R1Y3Qgc2hvdWxkIGhhdmUgZ3JlZW4gYmFkZ2VcbiAgICAgICAgY29uc3QgbGl2ZUJhZGdlID0gc2NyZWVuLmdldEJ5VGV4dCgnTGl2ZScpO1xuICAgICAgICBleHBlY3QobGl2ZUJhZGdlKS50b0hhdmVDbGFzcygnYmctZ3JlZW4tMTAwJywgJ3RleHQtZ3JlZW4tNzAwJyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQ29taW5nIHNvb24gcHJvZHVjdHMgc2hvdWxkIGhhdmUgb3JhbmdlIGJhZGdlc1xuICAgICAgY29uc3QgY29taW5nU29vbkJhZGdlcyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoL1FbMTJdIDIwMjYvKTtcbiAgICAgIGNvbWluZ1Nvb25CYWRnZXMuZm9yRWFjaChiYWRnZSA9PiB7XG4gICAgICAgIGV4cGVjdChiYWRnZSkudG9IYXZlQ2xhc3MoJ2JnLW9yYW5nZS0xMDAnLCAndGV4dC1vcmFuZ2UtNzAwJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBpbmNsdWRlIGNhbGwtdG8tYWN0aW9uIGluIHByb2R1Y3RzIGRyb3Bkb3duJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCh7IGFkdmFuY2VUaW1lcnM6IGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSB9KTtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7IHVzZXI6IG51bGwgfSk7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPik7XG5cbiAgICAgIGNvbnN0IHByb2R1Y3RzQ29udGFpbmVyID0gc2NyZWVuLmdldEJ5VGV4dCgnUHJvZHVjdHMnKS5jbG9zZXN0KCdkaXYnKTtcbiAgICAgIGF3YWl0IHVzZXIuaG92ZXIocHJvZHVjdHNDb250YWluZXIhKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGN0YUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0dldCBTdGFydGVkIHdpdGggRnVuZHJhaXNpbmcnKTtcbiAgICAgICAgZXhwZWN0KGN0YUJ1dHRvbi5jbG9zZXN0KCdhJykpLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsICcvZnVuZHJhaXNpbmcnKTtcbiAgICAgICAgZXhwZWN0KGN0YUJ1dHRvbikudG9IYXZlQ2xhc3MoJ2JnLW9yYW5nZS02MDAnLCAndGV4dC13aGl0ZScpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfwn5SXIExpbmsgU3RydWN0dXJlICYgQWNjZXNzaWJpbGl0eScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSBwcm9wZXIgbGluayBhdHRyaWJ1dGVzIGZvciBhbGwgbmF2aWdhdGlvbiBpdGVtcycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KTtcblxuICAgICAgLy8gQ2hlY2sgbWFpbiBuYXZpZ2F0aW9uIGxpbmtzIGV4aXN0IGFuZCBhcmUgcHJvcGVybHkgc3RydWN0dXJlZFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Rpc2NvdmVyJykuY2xvc2VzdCgnYScpKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL2Rpc2NvdmVyJyk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWJvdXQnKS5jbG9zZXN0KCdidXR0b24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIHByb3BlciBBUklBIGxhYmVscyBmb3IgaW50ZXJhY3RpdmUgZWxlbWVudHMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPik7XG5cbiAgICAgIGNvbnN0IG1vYmlsZU1lbnVCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ1RvZ2dsZSBtZW51Jyk7XG4gICAgICBleHBlY3QobW9iaWxlTWVudUJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChtb2JpbGVNZW51QnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnVG9nZ2xlIG1lbnUnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBtYWludGFpbiBrZXlib2FyZCBuYXZpZ2F0aW9uIHN1cHBvcnQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPik7XG5cbiAgICAgIGNvbnN0IGFib3V0QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnQWJvdXQnKS5jbG9zZXN0KCdidXR0b24nKTtcbiAgICAgIGV4cGVjdChhYm91dEJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIFxuICAgICAgY29uc3QgbW9iaWxlQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdUb2dnbGUgbWVudScpO1xuICAgICAgZXhwZWN0KG1vYmlsZUJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZW5kZXIgYWxsIGFib3V0IGxpbmtzIHdpdGggY29ycmVjdCBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pO1xuXG4gICAgICBjb25zdCBhYm91dENvbnRhaW5lciA9IHNjcmVlbi5nZXRCeVRleHQoJ0Fib3V0JykuY2xvc2VzdCgnZGl2Jyk7XG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHVzZXIuaG92ZXIoYWJvdXRDb250YWluZXIhKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgYWJvdXRMaW5rcyA9IFtcbiAgICAgICAgICB7IHRleHQ6ICdBYm91dCBVcycsIGhyZWY6ICcvYWJvdXQnIH0sXG4gICAgICAgICAgeyB0ZXh0OiAnU3R1ZHkgQml0Y29pbicsIGhyZWY6ICcvc3R1ZHktYml0Y29pbicgfSxcbiAgICAgICAgICB7IHRleHQ6ICdEb2N1bWVudGF0aW9uJywgaHJlZjogJy9kb2NzJyB9LFxuICAgICAgICAgIHsgdGV4dDogJ0NvbnRhY3QnLCBocmVmOiAnL3Byb2ZpbGUvbWFvJyB9XG4gICAgICAgIF07XG5cbiAgICAgICAgYWJvdXRMaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xuICAgICAgICAgIGNvbnN0IGxpbmtFbGVtZW50ID0gc2NyZWVuLmdldEJ5VGV4dChsaW5rLnRleHQpO1xuICAgICAgICAgIGV4cGVjdChsaW5rRWxlbWVudC5jbG9zZXN0KCdhJykpLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsIGxpbmsuaHJlZik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENoZWNrIEJsb2cgbGluayBzZXBhcmF0ZWx5IHRvIGF2b2lkIG11bHRpcGxlIGVsZW1lbnQgaXNzdWVcbiAgICAgICAgY29uc3QgYmxvZ0xpbmtzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnQmxvZycpO1xuICAgICAgICBjb25zdCBkcm9wZG93bkJsb2dMaW5rID0gYmxvZ0xpbmtzLmZpbmQobGluayA9PiBcbiAgICAgICAgICBsaW5rLmNsb3Nlc3QoJ2EnKT8uZ2V0QXR0cmlidXRlKCdocmVmJykgPT09ICcvYmxvZycgJiYgXG4gICAgICAgICAgbGluay5jbG9zZXN0KCcuYWJzb2x1dGUnKSAvLyBJbnNpZGUgZHJvcGRvd25cbiAgICAgICAgKTtcbiAgICAgICAgZXhwZWN0KGRyb3Bkb3duQmxvZ0xpbmspLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChkcm9wZG93bkJsb2dMaW5rPy5jbG9zZXN0KCdhJykpLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsICcvYmxvZycpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfimqEgUGVyZm9ybWFuY2UgJiBJbnRlcmFjdGlvbnMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGNsZWFudXAgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyIG9uIHVubW91bnQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhZGRFdmVudExpc3RlbmVyU3B5ID0gamVzdC5zcHlPbih3aW5kb3csICdhZGRFdmVudExpc3RlbmVyJyk7XG4gICAgICBjb25zdCByZW1vdmVFdmVudExpc3RlbmVyU3B5ID0gamVzdC5zcHlPbih3aW5kb3csICdyZW1vdmVFdmVudExpc3RlbmVyJyk7XG5cbiAgICAgIGNvbnN0IHsgdW5tb3VudCB9ID0gcmVuZGVyKDxIZWFkZXIgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3QoYWRkRXZlbnRMaXN0ZW5lclNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3Njcm9sbCcsIGV4cGVjdC5hbnkoRnVuY3Rpb24pKTtcbiAgICAgIFxuICAgICAgdW5tb3VudCgpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVtb3ZlRXZlbnRMaXN0ZW5lclNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3Njcm9sbCcsIGV4cGVjdC5hbnkoRnVuY3Rpb24pKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBjbGVhbnVwIHRpbWVvdXRzIG9uIHVubW91bnQnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHVubW91bnQgfSA9IHJlbmRlcig8SGVhZGVyIC8+KTtcbiAgICAgIFxuICAgICAgLy8gVGhpcyBlbnN1cmVzIG5vIG1lbW9yeSBsZWFrcyBmcm9tIHBlbmRpbmcgdGltZW91dHNcbiAgICAgIGV4cGVjdCgoKSA9PiB1bm1vdW50KCkpLm5vdC50b1Rocm93KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHJhcGlkIGhvdmVyIGV2ZW50cyBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pO1xuXG4gICAgICBjb25zdCBhYm91dENvbnRhaW5lciA9IHNjcmVlbi5nZXRCeVRleHQoJ0Fib3V0JykuY2xvc2VzdCgnZGl2Jyk7XG4gICAgICBcbiAgICAgIC8vIFJhcGlkIGhvdmVyL3VuaG92ZXJcbiAgICAgIGF3YWl0IHVzZXIuaG92ZXIoYWJvdXRDb250YWluZXIhKTtcbiAgICAgIGF3YWl0IHVzZXIudW5ob3ZlcihhYm91dENvbnRhaW5lciEpO1xuICAgICAgYXdhaXQgdXNlci5ob3ZlcihhYm91dENvbnRhaW5lciEpO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgLy8gU2hvdWxkIHN0aWxsIHNob3cgZHJvcGRvd25cbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Fib3V0IFVzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBwcmV2ZW50IGJvZHkgc2Nyb2xsIHdoZW4gbW9iaWxlIG1lbnUgaXMgb3BlbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoeyBhZHZhbmNlVGltZXJzOiBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUgfSk7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPik7XG5cbiAgICAgIGNvbnN0IG1vYmlsZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnVG9nZ2xlIG1lbnUnKTtcbiAgICAgIFxuICAgICAgLy8gT3BlbiBtZW51XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKG1vYmlsZUJ1dHRvbik7XG4gICAgICBleHBlY3QoZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdykudG9CZSgnaGlkZGVuJyk7XG4gICAgICBcbiAgICAgIC8vIENsb3NlIG1lbnVcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2sobW9iaWxlQnV0dG9uKTtcbiAgICAgIGV4cGVjdChkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93KS50b0JlKCd1bnNldCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn8J+OryBCaXRjb2luIFBsYXRmb3JtIEludGVncmF0aW9uJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBzaG93IEJpdGNvaW4tc3BlY2lmaWMgbmF2aWdhdGlvbiBmb3IgYXV0aGVudGljYXRlZCB1c2VycycsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tVc2VyID0geyBpZDogJzEyMycsIGVtYWlsOiAnYml0Y29pbkBleGFtcGxlLmNvbScgfTtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7IHVzZXI6IG1vY2tVc2VyIH0pO1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTXkgRGFzaGJvYXJkJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdoZWFkZXItY3JlYXRlLWJ1dHRvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhpZ2hsaWdodCBmdW5kcmFpc2luZy1yZWxhdGVkIHBhdGhzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9mdW5kcmFpc2luZy9teS1jYW1wYWlnbicpO1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKHsgdXNlcjogbnVsbCB9KTtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KTtcblxuICAgICAgY29uc3QgcHJvZHVjdHNCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdQcm9kdWN0cycpO1xuICAgICAgZXhwZWN0KHByb2R1Y3RzQnV0dG9uLmNsb3Nlc3QoJ2J1dHRvbicpKS50b0hhdmVDbGFzcygndGV4dC1vcmFuZ2UtNjAwJywgJ2JnLW9yYW5nZS01MCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHByb3ZpZGUgYXBwcm9wcmlhdGUgbW9iaWxlIGV4cGVyaWVuY2UgZm9yIEJpdGNvaW4gdXNlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgICAgY29uc3QgbW9ja1VzZXIgPSB7IGlkOiAnMTIzJywgZW1haWw6ICdiaXRjb2luQGV4YW1wbGUuY29tJyB9O1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKHsgdXNlcjogbW9ja1VzZXIgfSk7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPik7XG5cbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdUb2dnbGUgbWVudScpKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NyZWF0ZSBOZXcgQ2FtcGFpZ24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMYXVuY2ggYSBuZXcgQml0Y29pbiBmdW5kcmFpc2luZyBjYW1wYWlnbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRBbGxCeVRleHQoJ015IERhc2hib2FyZCcpKS50b0hhdmVMZW5ndGgoMik7IC8vIERlc2t0b3AgYW5kIG1vYmlsZSB2ZXJzaW9uc1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1ZpZXcgYW5kIG1hbmFnZSB5b3VyIGNhbXBhaWducycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHNob3cgcHJvcGVyIEJpdGNvaW4gZWR1Y2F0aW9uIGxpbmtzIGluIGFib3V0IHNlY3Rpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pO1xuXG4gICAgICBjb25zdCBhYm91dENvbnRhaW5lciA9IHNjcmVlbi5nZXRCeVRleHQoJ0Fib3V0JykuY2xvc2VzdCgnZGl2Jyk7XG4gICAgICBhd2FpdCB1c2VyLmhvdmVyKGFib3V0Q29udGFpbmVyISk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU3R1ZHkgQml0Y29pbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRWR1Y2F0aW9uYWwgcmVzb3VyY2VzIHRvIGxlYXJuIGFib3V0IEJpdGNvaW4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn8J+UpyBFZGdlIENhc2VzICYgRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIHVzZXIgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7IHVzZXI6IHVuZGVmaW5lZCB9KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KCgpID0+IHJlbmRlcig8SGVhZGVyIC8+KSkubm90LnRvVGhyb3coKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdEaXNjb3ZlcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSB1bmRlZmluZWQgcGF0aG5hbWUgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJycpO1xuICAgICAgXG4gICAgICBleHBlY3QoKCkgPT4gcmVuZGVyKDxIZWFkZXIgLz4pKS5ub3QudG9UaHJvdygpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnbG9nbycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSB3aW5kb3cgcmVzaXplIGV2ZW50cyBkdXJpbmcgZHJvcGRvd24gaW50ZXJhY3Rpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pO1xuXG4gICAgICBjb25zdCBhYm91dENvbnRhaW5lciA9IHNjcmVlbi5nZXRCeVRleHQoJ0Fib3V0JykuY2xvc2VzdCgnZGl2Jyk7XG4gICAgICBhd2FpdCB1c2VyLmhvdmVyKGFib3V0Q29udGFpbmVyISk7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWJvdXQgVXMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSB3aW5kb3cgcmVzaXplXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgbm90IGJyZWFrIGZ1bmN0aW9uYWxpdHlcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBYm91dCBVcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSByYXBpZCBtZW51IHRvZ2dsZSBjbGlja3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pO1xuXG4gICAgICBjb25zdCBtb2JpbGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ1RvZ2dsZSBtZW51Jyk7XG4gICAgICBcbiAgICAgIC8vIFJhcGlkIGNsaWNrc1xuICAgICAgYXdhaXQgdXNlci5jbGljayhtb2JpbGVCdXR0b24pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhtb2JpbGVCdXR0b24pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhtb2JpbGVCdXR0b24pO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgYmUgaW4gb3BlbiBzdGF0ZVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgneC1pY29uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgY2xlYW51cCBwcm9wZXJseSB3aGVuIGF1dGggc3RhdGUgY2hhbmdlcycsICgpID0+IHtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7IHVzZXI6IG51bGwgfSk7XG4gICAgICBjb25zdCB7IHJlcmVuZGVyIH0gPSByZW5kZXIoPEhlYWRlciAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQcm9kdWN0cycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgXG4gICAgICAvLyBDaGFuZ2UgYXV0aCBzdGF0ZVxuICAgICAgY29uc3QgbW9ja1VzZXIgPSB7IGlkOiAnMTIzJywgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyB9O1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKHsgdXNlcjogbW9ja1VzZXIgfSk7XG4gICAgICByZXJlbmRlcig8SGVhZGVyIC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnUHJvZHVjdHMnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTXkgRGFzaGJvYXJkJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xufSk7ICJdLCJ2ZXJzaW9uIjozfQ==