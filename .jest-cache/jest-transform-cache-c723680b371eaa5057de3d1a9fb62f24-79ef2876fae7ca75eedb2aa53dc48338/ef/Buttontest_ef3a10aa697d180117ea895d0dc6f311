47c52ac54b0646fd704892241d76e291
"use strict";
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
// Mock Next.js Link component
jest.mock('next/link', () => {
    return function MockLink(_a) {
        var { children, href } = _a, props = __rest(_a, ["children", "href"]);
        return (0, jsx_runtime_1.jsx)("a", Object.assign({ href: href }, props, { children: children }));
    };
});
/**
 * Button Component Tests
 *
 * Testing core UI component used throughout the Bitcoin funding platform
 * Critical for user interaction, accessibility, and platform branding
 */
const react_1 = __importDefault(require("react"));
const react_2 = require("@testing-library/react");
require("@testing-library/jest-dom");
const Button_1 = __importDefault(require("../Button"));
describe('🎨 Button Component - UI Foundation Tests', () => {
    describe('✅ Basic Rendering', () => {
        test('should render button with text', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { children: "Click me" }));
            expect(react_2.screen.getByRole('button', { name: 'Click me' })).toBeInTheDocument();
        });
        test('should render button with custom className', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { className: "custom-class", children: "Test" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('custom-class');
        });
        test('should have proper display name', () => {
            expect(Button_1.default.displayName).toBe('Button');
        });
        test('should render as Link when href is provided', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { href: "/test", children: "Link Button" }));
            const link = react_2.screen.getByRole('link');
            expect(link).toBeInTheDocument();
            expect(link).toHaveAttribute('href', '/test');
        });
    });
    describe('🎨 Variant Styling - Platform Branding', () => {
        test('should apply primary variant (tiffany brand color)', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { variant: "primary", children: "Primary" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('bg-tiffany-600', 'text-white', 'hover:bg-tiffany-700');
        });
        test('should apply secondary variant styling', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { variant: "secondary", children: "Secondary" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('bg-gray-100', 'text-gray-900', 'hover:bg-gray-200');
        });
        test('should apply ghost variant styling', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { variant: "ghost", children: "Ghost" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('hover:bg-gray-100', 'text-gray-700');
        });
        test('should apply danger variant styling', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { variant: "danger", children: "Delete" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('bg-red-600', 'text-white', 'hover:bg-red-700');
        });
        test('should apply outline variant styling', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { variant: "outline", children: "Outline" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('border-2', 'border-gray-300', 'bg-transparent');
        });
        test('should apply gradient variant (Bitcoin orange to tiffany)', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { variant: "gradient", children: "Gradient" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('bg-gradient-to-r', 'from-tiffany-600', 'to-orange-600');
        });
        test('should default to primary variant', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { children: "Default" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('bg-tiffany-600');
        });
    });
    describe('📏 Size Variants - Responsive Design', () => {
        test('should apply small size styling', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { size: "sm", children: "Small" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('h-9', 'min-h-[36px]', 'px-4', 'text-sm', 'min-w-[80px]');
        });
        test('should apply medium size (default)', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { children: "Medium" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('h-11', 'min-h-[44px]', 'px-6', 'text-base', 'min-w-[100px]');
        });
        test('should apply large size styling', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { size: "lg", children: "Large" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('h-12', 'min-h-[48px]', 'px-8', 'text-lg', 'min-w-[120px]');
        });
        test('should apply extra large size styling', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { size: "xl", children: "Extra Large" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('h-14', 'min-h-[56px]', 'px-10', 'text-xl', 'min-w-[140px]');
        });
    });
    describe('🔄 Loading State - UX Enhancement', () => {
        test('should show loading spinner when isLoading is true', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { isLoading: true, children: "Submit" }));
            expect(react_2.screen.getByText('Loading...')).toBeInTheDocument();
            // Check for spinner animation class
            const spinner = document.querySelector('.animate-spin');
            expect(spinner).toBeInTheDocument();
        });
        test('should disable button when loading', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { isLoading: true, children: "Submit" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toBeDisabled();
        });
        test('should not show loading text when not loading', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { children: "Submit" }));
            expect(react_2.screen.queryByText('Loading...')).not.toBeInTheDocument();
        });
        test('should display original content when not loading', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { children: "Submit Form" }));
            expect(react_2.screen.getByText('Submit Form')).toBeInTheDocument();
        });
    });
    describe('🔄 Interactive States - User Experience', () => {
        test('should handle click events', () => {
            const handleClick = jest.fn();
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { onClick: handleClick, children: "Click me" }));
            react_2.fireEvent.click(react_2.screen.getByRole('button'));
            expect(handleClick).toHaveBeenCalledTimes(1);
        });
        test('should be disabled when disabled prop is true', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { disabled: true, children: "Disabled" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toBeDisabled();
            expect(button).toHaveClass('disabled:pointer-events-none', 'disabled:opacity-50');
        });
        test('should not call onClick when disabled', () => {
            const handleClick = jest.fn();
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { disabled: true, onClick: handleClick, children: "Disabled" }));
            react_2.fireEvent.click(react_2.screen.getByRole('button'));
            expect(handleClick).not.toHaveBeenCalled();
        });
        test('should have transform and hover effects', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { children: "Hover me" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('transform', 'hover:scale-102', 'active:scale-95');
        });
        test('should have transition effects', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { children: "Animated" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('transition-all', 'duration-300');
        });
    });
    describe('♿ Accessibility - Platform Standards', () => {
        test('should have proper button role', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { children: "Accessible" }));
            expect(react_2.screen.getByRole('button')).toBeInTheDocument();
        });
        test('should support focus management', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { children: "Focusable" }));
            const button = react_2.screen.getByRole('button');
            button.focus();
            expect(button).toHaveFocus();
            expect(button).toHaveClass('focus-visible:outline-none', 'focus-visible:ring-2');
        });
        test('should support aria attributes', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { "aria-label": "Custom label", "aria-describedby": "desc", children: "Icon" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveAttribute('aria-label', 'Custom label');
            expect(button).toHaveAttribute('aria-describedby', 'desc');
        });
        test('should have touch-friendly design', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { children: "Touch" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('touch-manipulation', 'select-none');
        });
        test('should have proper minimum touch target size', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { size: "sm", children: "Small Touch" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('min-h-[36px]', 'min-w-[80px]');
        });
    });
    describe('🔗 Link Functionality - Navigation', () => {
        test('should render as link with href', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { href: "/dashboard", children: "Go to Dashboard" }));
            const link = react_2.screen.getByRole('link');
            expect(link).toHaveAttribute('href', '/dashboard');
            expect(link).toHaveTextContent('Go to Dashboard');
        });
        test('should apply styles to link variant', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { href: "/test", variant: "primary", children: "Link" }));
            const link = react_2.screen.getByRole('link');
            expect(link).toHaveClass('bg-tiffany-600', 'text-white');
        });
        test('should support loading state in link mode', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { href: "/test", isLoading: true, children: "Loading Link" }));
            expect(react_2.screen.getByText('Loading...')).toBeInTheDocument();
        });
    });
    describe('💼 Real-world Bitcoin Platform Scenarios', () => {
        test('should work as Bitcoin donation button', () => {
            const handleDonate = jest.fn();
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { onClick: handleDonate, variant: "gradient", size: "lg", children: "\u20BF Donate Bitcoin" }));
            const button = react_2.screen.getByRole('button', { name: '₿ Donate Bitcoin' });
            expect(button).toBeInTheDocument();
            expect(button).toHaveClass('bg-gradient-to-r', 'from-tiffany-600', 'to-orange-600');
            react_2.fireEvent.click(button);
            expect(handleDonate).toHaveBeenCalled();
        });
        test('should work as campaign creation button', () => {
            const handleCreate = jest.fn();
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { onClick: handleCreate, variant: "primary", size: "xl", children: "Create Campaign" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('h-14', 'min-h-[56px]', 'bg-tiffany-600');
            react_2.fireEvent.click(button);
            expect(handleCreate).toHaveBeenCalled();
        });
        test('should work as form submission with loading', () => {
            const { rerender } = (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { type: "submit", variant: "primary", children: "Submit Campaign" }));
            expect(react_2.screen.getByText('Submit Campaign')).toBeInTheDocument();
            rerender((0, jsx_runtime_1.jsx)(Button_1.default, { type: "submit", variant: "primary", isLoading: true, children: "Submit Campaign" }));
            expect(react_2.screen.getByText('Loading...')).toBeInTheDocument();
            expect(react_2.screen.getByRole('button')).toBeDisabled();
        });
        test('should work as danger action (delete campaign)', () => {
            const handleDelete = jest.fn();
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { onClick: handleDelete, variant: "danger", size: "sm", children: "Delete Campaign" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('bg-red-600', 'text-white');
            react_2.fireEvent.click(button);
            expect(handleDelete).toHaveBeenCalled();
        });
        test('should work as navigation link to campaign page', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { href: "/campaign/123", variant: "outline", children: "View Campaign" }));
            const link = react_2.screen.getByRole('link');
            expect(link).toHaveAttribute('href', '/campaign/123');
            expect(link).toHaveClass('border-2', 'border-gray-300');
        });
    });
    describe('🎨 Custom Styling & Integration', () => {
        test('should merge custom classes properly', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { className: "custom-margin bg-purple-500", variant: "primary", children: "Custom" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveClass('custom-margin', 'bg-purple-500');
        });
        test('should support style prop', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { style: { backgroundColor: 'red', fontSize: '20px' }, children: "Styled" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveStyle({
                backgroundColor: 'red',
                fontSize: '20px'
            });
        });
        test('should support all standard button attributes', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(Button_1.default, { type: "submit", name: "submitBtn", value: "submit", "data-testid": "submit-button", children: "Submit" }));
            const button = react_2.screen.getByRole('button');
            expect(button).toHaveAttribute('type', 'submit');
            expect(button).toHaveAttribute('name', 'submitBtn');
            expect(button).toHaveAttribute('value', 'submit');
            expect(button).toHaveAttribute('data-testid', 'submit-button');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvZy9kZXYvb3JhbmdlY2F0L3NyYy9jb21wb25lbnRzL3VpL19fdGVzdHNfXy9CdXR0b24udGVzdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFZQSw4QkFBOEI7QUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFO0lBQzFCLE9BQU8sU0FBUyxRQUFRLENBQUMsRUFBaUM7WUFBakMsRUFBRSxRQUFRLEVBQUUsSUFBSSxPQUFpQixFQUFaLEtBQUssY0FBMUIsb0JBQTRCLENBQUY7UUFDakQsT0FBTyw0Q0FBRyxJQUFJLEVBQUUsSUFBSSxJQUFNLEtBQUssY0FBRyxRQUFRLElBQUssQ0FBQztJQUNsRCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQztBQWpCSDs7Ozs7R0FLRztBQUVILGtEQUEwQjtBQUMxQixrREFBbUU7QUFDbkUscUNBQW1DO0FBQ25DLHVEQUErQjtBQVMvQixRQUFRLENBQUMsMkNBQTJDLEVBQUUsR0FBRyxFQUFFO0lBQ3pELFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxHQUFHLEVBQUU7UUFDakMsSUFBSSxDQUFDLGdDQUFnQyxFQUFFLEdBQUcsRUFBRTtZQUMxQyxJQUFBLGNBQU0sRUFBQyx1QkFBQyxnQkFBTSwyQkFBa0IsQ0FBQyxDQUFDO1lBQ2xDLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUMvRSxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyw0Q0FBNEMsRUFBRSxHQUFHLEVBQUU7WUFDdEQsSUFBQSxjQUFNLEVBQUMsdUJBQUMsZ0JBQU0sSUFBQyxTQUFTLEVBQUMsY0FBYyxxQkFBYyxDQUFDLENBQUM7WUFDdkQsTUFBTSxNQUFNLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMs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QUM7WUFDRixNQUFNLE1BQU0sR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLENBQUM7Z0JBQ3pCLGVBQWUsRUFBRSxLQUFLO2dCQUN0QixRQUFRLEVBQUUsTUFBTTthQUNqQixDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQywrQ0FBK0MsRUFBRSxHQUFHLEVBQUU7WUFDekQsSUFBQSxjQUFNLEVBQ0osdUJBQUMsZ0JBQU0sSUFDTCxJQUFJLEVBQUMsUUFBUSxFQUNiLElBQUksRUFBQyxXQUFXLEVBQ2hCLEtBQUssRUFBQyxRQUFRLGlCQUNGLGVBQWUsdUJBR3BCLENBQ1YsQ0FBQztZQUNGLE1BQU0sTUFBTSxHQUFHLGNBQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDMUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDakQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDcEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDbEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxhQUFhLEVBQUUsZUFBZSxDQUFDLENBQUM7UUFDakUsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL2cvZGV2L29yYW5nZWNhdC9zcmMvY29tcG9uZW50cy91aS9fX3Rlc3RzX18vQnV0dG9uLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQnV0dG9uIENvbXBvbmVudCBUZXN0c1xuICogXG4gKiBUZXN0aW5nIGNvcmUgVUkgY29tcG9uZW50IHVzZWQgdGhyb3VnaG91dCB0aGUgQml0Y29pbiBmdW5kaW5nIHBsYXRmb3JtXG4gKiBDcml0aWNhbCBmb3IgdXNlciBpbnRlcmFjdGlvbiwgYWNjZXNzaWJpbGl0eSwgYW5kIHBsYXRmb3JtIGJyYW5kaW5nXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCAnQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbSc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uL0J1dHRvbic7XG5cbi8vIE1vY2sgTmV4dC5qcyBMaW5rIGNvbXBvbmVudFxuamVzdC5tb2NrKCduZXh0L2xpbmsnLCAoKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBNb2NrTGluayh7IGNoaWxkcmVuLCBocmVmLCAuLi5wcm9wcyB9OiBhbnkpIHtcbiAgICByZXR1cm4gPGEgaHJlZj17aHJlZn0gey4uLnByb3BzfT57Y2hpbGRyZW59PC9hPjtcbiAgfTtcbn0pO1xuXG5kZXNjcmliZSgn8J+OqCBCdXR0b24gQ29tcG9uZW50IC0gVUkgRm91bmRhdGlvbiBUZXN0cycsICgpID0+IHtcbiAgZGVzY3JpYmUoJ+KchSBCYXNpYyBSZW5kZXJpbmcnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHJlbmRlciBidXR0b24gd2l0aCB0ZXh0JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdXR0b24+Q2xpY2sgbWU8L0J1dHRvbj4pO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogJ0NsaWNrIG1lJyB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZW5kZXIgYnV0dG9uIHdpdGggY3VzdG9tIGNsYXNzTmFtZScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8QnV0dG9uIGNsYXNzTmFtZT1cImN1c3RvbS1jbGFzc1wiPlRlc3Q8L0J1dHRvbj4pO1xuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVDbGFzcygnY3VzdG9tLWNsYXNzJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSBwcm9wZXIgZGlzcGxheSBuYW1lJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KEJ1dHRvbi5kaXNwbGF5TmFtZSkudG9CZSgnQnV0dG9uJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmVuZGVyIGFzIExpbmsgd2hlbiBocmVmIGlzIHByb3ZpZGVkJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdXR0b24gaHJlZj1cIi90ZXN0XCI+TGluayBCdXR0b248L0J1dHRvbj4pO1xuICAgICAgY29uc3QgbGluayA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnKTtcbiAgICAgIGV4cGVjdChsaW5rKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KGxpbmspLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsICcvdGVzdCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn8J+OqCBWYXJpYW50IFN0eWxpbmcgLSBQbGF0Zm9ybSBCcmFuZGluZycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgYXBwbHkgcHJpbWFyeSB2YXJpYW50ICh0aWZmYW55IGJyYW5kIGNvbG9yKScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8QnV0dG9uIHZhcmlhbnQ9XCJwcmltYXJ5XCI+UHJpbWFyeTwvQnV0dG9uPik7XG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUNsYXNzKCdiZy10aWZmYW55LTYwMCcsICd0ZXh0LXdoaXRlJywgJ2hvdmVyOmJnLXRpZmZhbnktNzAwJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgYXBwbHkgc2Vjb25kYXJ5IHZhcmlhbnQgc3R5bGluZycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8QnV0dG9uIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIj5TZWNvbmRhcnk8L0J1dHRvbj4pO1xuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVDbGFzcygnYmctZ3JheS0xMDAnLCAndGV4dC1ncmF5LTkwMCcsICdob3ZlcjpiZy1ncmF5LTIwMCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGFwcGx5IGdob3N0IHZhcmlhbnQgc3R5bGluZycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiPkdob3N0PC9CdXR0b24+KTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQ2xhc3MoJ2hvdmVyOmJnLWdyYXktMTAwJywgJ3RleHQtZ3JheS03MDAnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBhcHBseSBkYW5nZXIgdmFyaWFudCBzdHlsaW5nJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdXR0b24gdmFyaWFudD1cImRhbmdlclwiPkRlbGV0ZTwvQnV0dG9uPik7XG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUNsYXNzKCdiZy1yZWQtNjAwJywgJ3RleHQtd2hpdGUnLCAnaG92ZXI6YmctcmVkLTcwMCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGFwcGx5IG91dGxpbmUgdmFyaWFudCBzdHlsaW5nJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIj5PdXRsaW5lPC9CdXR0b24+KTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQ2xhc3MoJ2JvcmRlci0yJywgJ2JvcmRlci1ncmF5LTMwMCcsICdiZy10cmFuc3BhcmVudCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGFwcGx5IGdyYWRpZW50IHZhcmlhbnQgKEJpdGNvaW4gb3JhbmdlIHRvIHRpZmZhbnkpJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdXR0b24gdmFyaWFudD1cImdyYWRpZW50XCI+R3JhZGllbnQ8L0J1dHRvbj4pO1xuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVDbGFzcygnYmctZ3JhZGllbnQtdG8tcicsICdmcm9tLXRpZmZhbnktNjAwJywgJ3RvLW9yYW5nZS02MDAnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBkZWZhdWx0IHRvIHByaW1hcnkgdmFyaWFudCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8QnV0dG9uPkRlZmF1bHQ8L0J1dHRvbj4pO1xuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVDbGFzcygnYmctdGlmZmFueS02MDAnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ/Cfk48gU2l6ZSBWYXJpYW50cyAtIFJlc3BvbnNpdmUgRGVzaWduJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBhcHBseSBzbWFsbCBzaXplIHN0eWxpbmcnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1dHRvbiBzaXplPVwic21cIj5TbWFsbDwvQnV0dG9uPik7XG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUNsYXNzKCdoLTknLCAnbWluLWgtWzM2cHhdJywgJ3B4LTQnLCAndGV4dC1zbScsICdtaW4tdy1bODBweF0nKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBhcHBseSBtZWRpdW0gc2l6ZSAoZGVmYXVsdCknLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1dHRvbj5NZWRpdW08L0J1dHRvbj4pO1xuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVDbGFzcygnaC0xMScsICdtaW4taC1bNDRweF0nLCAncHgtNicsICd0ZXh0LWJhc2UnLCAnbWluLXctWzEwMHB4XScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGFwcGx5IGxhcmdlIHNpemUgc3R5bGluZycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8QnV0dG9uIHNpemU9XCJsZ1wiPkxhcmdlPC9CdXR0b24+KTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQ2xhc3MoJ2gtMTInLCAnbWluLWgtWzQ4cHhdJywgJ3B4LTgnLCAndGV4dC1sZycsICdtaW4tdy1bMTIwcHhdJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgYXBwbHkgZXh0cmEgbGFyZ2Ugc2l6ZSBzdHlsaW5nJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdXR0b24gc2l6ZT1cInhsXCI+RXh0cmEgTGFyZ2U8L0J1dHRvbj4pO1xuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVDbGFzcygnaC0xNCcsICdtaW4taC1bNTZweF0nLCAncHgtMTAnLCAndGV4dC14bCcsICdtaW4tdy1bMTQwcHhdJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfwn5SEIExvYWRpbmcgU3RhdGUgLSBVWCBFbmhhbmNlbWVudCcsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgc2hvdyBsb2FkaW5nIHNwaW5uZXIgd2hlbiBpc0xvYWRpbmcgaXMgdHJ1ZScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8QnV0dG9uIGlzTG9hZGluZz5TdWJtaXQ8L0J1dHRvbj4pO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0xvYWRpbmcuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIC8vIENoZWNrIGZvciBzcGlubmVyIGFuaW1hdGlvbiBjbGFzc1xuICAgICAgY29uc3Qgc3Bpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbmltYXRlLXNwaW4nKTtcbiAgICAgIGV4cGVjdChzcGlubmVyKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGRpc2FibGUgYnV0dG9uIHdoZW4gbG9hZGluZycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8QnV0dG9uIGlzTG9hZGluZz5TdWJtaXQ8L0J1dHRvbj4pO1xuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0JlRGlzYWJsZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBub3Qgc2hvdyBsb2FkaW5nIHRleHQgd2hlbiBub3QgbG9hZGluZycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8QnV0dG9uPlN1Ym1pdDwvQnV0dG9uPik7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdMb2FkaW5nLi4uJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGRpc3BsYXkgb3JpZ2luYWwgY29udGVudCB3aGVuIG5vdCBsb2FkaW5nJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdXR0b24+U3VibWl0IEZvcm08L0J1dHRvbj4pO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1N1Ym1pdCBGb3JtJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfwn5SEIEludGVyYWN0aXZlIFN0YXRlcyAtIFVzZXIgRXhwZXJpZW5jZScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGNsaWNrIGV2ZW50cycsICgpID0+IHtcbiAgICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gamVzdC5mbigpO1xuICAgICAgcmVuZGVyKDxCdXR0b24gb25DbGljaz17aGFuZGxlQ2xpY2t9PkNsaWNrIG1lPC9CdXR0b24+KTtcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicpKTtcbiAgICAgIGV4cGVjdChoYW5kbGVDbGljaykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGJlIGRpc2FibGVkIHdoZW4gZGlzYWJsZWQgcHJvcCBpcyB0cnVlJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdXR0b24gZGlzYWJsZWQ+RGlzYWJsZWQ8L0J1dHRvbj4pO1xuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0JlRGlzYWJsZWQoKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUNsYXNzKCdkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lJywgJ2Rpc2FibGVkOm9wYWNpdHktNTAnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBub3QgY2FsbCBvbkNsaWNrIHdoZW4gZGlzYWJsZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBoYW5kbGVDbGljayA9IGplc3QuZm4oKTtcbiAgICAgIHJlbmRlcig8QnV0dG9uIGRpc2FibGVkIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfT5EaXNhYmxlZDwvQnV0dG9uPik7XG4gICAgICBcbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKSk7XG4gICAgICBleHBlY3QoaGFuZGxlQ2xpY2spLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSB0cmFuc2Zvcm0gYW5kIGhvdmVyIGVmZmVjdHMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1dHRvbj5Ib3ZlciBtZTwvQnV0dG9uPik7XG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUNsYXNzKCd0cmFuc2Zvcm0nLCAnaG92ZXI6c2NhbGUtMTAyJywgJ2FjdGl2ZTpzY2FsZS05NScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgdHJhbnNpdGlvbiBlZmZlY3RzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdXR0b24+QW5pbWF0ZWQ8L0J1dHRvbj4pO1xuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVDbGFzcygndHJhbnNpdGlvbi1hbGwnLCAnZHVyYXRpb24tMzAwJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfimb8gQWNjZXNzaWJpbGl0eSAtIFBsYXRmb3JtIFN0YW5kYXJkcycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSBwcm9wZXIgYnV0dG9uIHJvbGUnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1dHRvbj5BY2Nlc3NpYmxlPC9CdXR0b24+KTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBzdXBwb3J0IGZvY3VzIG1hbmFnZW1lbnQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1dHRvbj5Gb2N1c2FibGU8L0J1dHRvbj4pO1xuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBcbiAgICAgIGJ1dHRvbi5mb2N1cygpO1xuICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlRm9jdXMoKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUNsYXNzKCdmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsICdmb2N1cy12aXNpYmxlOnJpbmctMicpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHN1cHBvcnQgYXJpYSBhdHRyaWJ1dGVzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdXR0b24gYXJpYS1sYWJlbD1cIkN1c3RvbSBsYWJlbFwiIGFyaWEtZGVzY3JpYmVkYnk9XCJkZXNjXCI+SWNvbjwvQnV0dG9uPik7XG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdDdXN0b20gbGFiZWwnKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScsICdkZXNjJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSB0b3VjaC1mcmllbmRseSBkZXNpZ24nLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1dHRvbj5Ub3VjaDwvQnV0dG9uPik7XG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUNsYXNzKCd0b3VjaC1tYW5pcHVsYXRpb24nLCAnc2VsZWN0LW5vbmUnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIHByb3BlciBtaW5pbXVtIHRvdWNoIHRhcmdldCBzaXplJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdXR0b24gc2l6ZT1cInNtXCI+U21hbGwgVG91Y2g8L0J1dHRvbj4pO1xuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVDbGFzcygnbWluLWgtWzM2cHhdJywgJ21pbi13LVs4MHB4XScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn8J+UlyBMaW5rIEZ1bmN0aW9uYWxpdHkgLSBOYXZpZ2F0aW9uJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCByZW5kZXIgYXMgbGluayB3aXRoIGhyZWYnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1dHRvbiBocmVmPVwiL2Rhc2hib2FyZFwiPkdvIHRvIERhc2hib2FyZDwvQnV0dG9uPik7XG4gICAgICBjb25zdCBsaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycpO1xuICAgICAgZXhwZWN0KGxpbmspLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsICcvZGFzaGJvYXJkJyk7XG4gICAgICBleHBlY3QobGluaykudG9IYXZlVGV4dENvbnRlbnQoJ0dvIHRvIERhc2hib2FyZCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGFwcGx5IHN0eWxlcyB0byBsaW5rIHZhcmlhbnQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1dHRvbiBocmVmPVwiL3Rlc3RcIiB2YXJpYW50PVwicHJpbWFyeVwiPkxpbms8L0J1dHRvbj4pO1xuICAgICAgY29uc3QgbGluayA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnKTtcbiAgICAgIGV4cGVjdChsaW5rKS50b0hhdmVDbGFzcygnYmctdGlmZmFueS02MDAnLCAndGV4dC13aGl0ZScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHN1cHBvcnQgbG9hZGluZyBzdGF0ZSBpbiBsaW5rIG1vZGUnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1dHRvbiBocmVmPVwiL3Rlc3RcIiBpc0xvYWRpbmc+TG9hZGluZyBMaW5rPC9CdXR0b24+KTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMb2FkaW5nLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfwn5K8IFJlYWwtd29ybGQgQml0Y29pbiBQbGF0Zm9ybSBTY2VuYXJpb3MnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHdvcmsgYXMgQml0Y29pbiBkb25hdGlvbiBidXR0b24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBoYW5kbGVEb25hdGUgPSBqZXN0LmZuKCk7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlRG9uYXRlfVxuICAgICAgICAgIHZhcmlhbnQ9XCJncmFkaWVudFwiXG4gICAgICAgICAgc2l6ZT1cImxnXCJcbiAgICAgICAgPlxuICAgICAgICAgIOKCvyBEb25hdGUgQml0Y29pblxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogJ+KCvyBEb25hdGUgQml0Y29pbicgfSk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQ2xhc3MoJ2JnLWdyYWRpZW50LXRvLXInLCAnZnJvbS10aWZmYW55LTYwMCcsICd0by1vcmFuZ2UtNjAwJyk7XG4gICAgICBcbiAgICAgIGZpcmVFdmVudC5jbGljayhidXR0b24pO1xuICAgICAgZXhwZWN0KGhhbmRsZURvbmF0ZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHdvcmsgYXMgY2FtcGFpZ24gY3JlYXRpb24gYnV0dG9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgaGFuZGxlQ3JlYXRlID0gamVzdC5mbigpO1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNyZWF0ZX1cbiAgICAgICAgICB2YXJpYW50PVwicHJpbWFyeVwiXG4gICAgICAgICAgc2l6ZT1cInhsXCJcbiAgICAgICAgPlxuICAgICAgICAgIENyZWF0ZSBDYW1wYWlnblxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQ2xhc3MoJ2gtMTQnLCAnbWluLWgtWzU2cHhdJywgJ2JnLXRpZmZhbnktNjAwJyk7XG4gICAgICBcbiAgICAgIGZpcmVFdmVudC5jbGljayhidXR0b24pO1xuICAgICAgZXhwZWN0KGhhbmRsZUNyZWF0ZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHdvcmsgYXMgZm9ybSBzdWJtaXNzaW9uIHdpdGggbG9hZGluZycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcihcbiAgICAgICAgPEJ1dHRvbiB0eXBlPVwic3VibWl0XCIgdmFyaWFudD1cInByaW1hcnlcIj5cbiAgICAgICAgICBTdWJtaXQgQ2FtcGFpZ25cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICApO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU3VibWl0IENhbXBhaWduJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBcbiAgICAgIHJlcmVuZGVyKFxuICAgICAgICA8QnV0dG9uIHR5cGU9XCJzdWJtaXRcIiB2YXJpYW50PVwicHJpbWFyeVwiIGlzTG9hZGluZz5cbiAgICAgICAgICBTdWJtaXQgQ2FtcGFpZ25cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICApO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTG9hZGluZy4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicpKS50b0JlRGlzYWJsZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB3b3JrIGFzIGRhbmdlciBhY3Rpb24gKGRlbGV0ZSBjYW1wYWlnbiknLCAoKSA9PiB7XG4gICAgICBjb25zdCBoYW5kbGVEZWxldGUgPSBqZXN0LmZuKCk7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlRGVsZXRlfVxuICAgICAgICAgIHZhcmlhbnQ9XCJkYW5nZXJcIlxuICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgID5cbiAgICAgICAgICBEZWxldGUgQ2FtcGFpZ25cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUNsYXNzKCdiZy1yZWQtNjAwJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmNsaWNrKGJ1dHRvbik7XG4gICAgICBleHBlY3QoaGFuZGxlRGVsZXRlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgd29yayBhcyBuYXZpZ2F0aW9uIGxpbmsgdG8gY2FtcGFpZ24gcGFnZScsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICBocmVmPVwiL2NhbXBhaWduLzEyM1wiXG4gICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICA+XG4gICAgICAgICAgVmlldyBDYW1wYWlnblxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnN0IGxpbmsgPSBzY3JlZW4uZ2V0QnlSb2xlKCdsaW5rJyk7XG4gICAgICBleHBlY3QobGluaykudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJy9jYW1wYWlnbi8xMjMnKTtcbiAgICAgIGV4cGVjdChsaW5rKS50b0hhdmVDbGFzcygnYm9yZGVyLTInLCAnYm9yZGVyLWdyYXktMzAwJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfwn46oIEN1c3RvbSBTdHlsaW5nICYgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIG1lcmdlIGN1c3RvbSBjbGFzc2VzIHByb3Blcmx5JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgIGNsYXNzTmFtZT1cImN1c3RvbS1tYXJnaW4gYmctcHVycGxlLTUwMFwiIFxuICAgICAgICAgIHZhcmlhbnQ9XCJwcmltYXJ5XCJcbiAgICAgICAgPlxuICAgICAgICAgIEN1c3RvbVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICk7XG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUNsYXNzKCdjdXN0b20tbWFyZ2luJywgJ2JnLXB1cnBsZS01MDAnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBzdXBwb3J0IHN0eWxlIHByb3AnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCdXR0b24gc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiAncmVkJywgZm9udFNpemU6ICcyMHB4JyB9fT5cbiAgICAgICAgICBTdHlsZWRcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICApO1xuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVTdHlsZSh7IFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZWQnLFxuICAgICAgICBmb250U2l6ZTogJzIwcHgnXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBzdXBwb3J0IGFsbCBzdGFuZGFyZCBidXR0b24gYXR0cmlidXRlcycsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICBuYW1lPVwic3VibWl0QnRuXCJcbiAgICAgICAgICB2YWx1ZT1cInN1Ym1pdFwiXG4gICAgICAgICAgZGF0YS10ZXN0aWQ9XCJzdWJtaXQtYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIFN1Ym1pdFxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICk7XG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgndHlwZScsICdzdWJtaXQnKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgnbmFtZScsICdzdWJtaXRCdG4nKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgndmFsdWUnLCAnc3VibWl0Jyk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2RhdGEtdGVzdGlkJywgJ3N1Ym1pdC1idXR0b24nKTtcbiAgICB9KTtcbiAgfSk7XG59KTsgIl0sInZlcnNpb24iOjN9