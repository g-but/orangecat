707135d78b749f0e26c49088aa96b893
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
// Mock the icons
jest.mock('lucide-react', () => ({
    Handshake: ({ className }) => (0, jsx_runtime_1.jsx)("div", { "data-testid": "handshake-icon", className: className }),
    Users: ({ className }) => (0, jsx_runtime_1.jsx)("div", { "data-testid": "users-icon", className: className }),
    Target: ({ className }) => (0, jsx_runtime_1.jsx)("div", { "data-testid": "target-icon", className: className }),
    Settings: ({ className }) => (0, jsx_runtime_1.jsx)("div", { "data-testid": "settings-icon", className: className }),
    BarChart3: ({ className }) => (0, jsx_runtime_1.jsx)("div", { "data-testid": "barchart-icon", className: className })
}));
// Mock the ComingSoonModal
jest.mock('@/components/ui/ComingSoonModal', () => {
    return function MockComingSoonModal({ isOpen, onClose, featureName, timeline, learnMoreUrl }) {
        if (!isOpen)
            return null;
        return ((0, jsx_runtime_1.jsxs)("div", { "data-testid": "coming-soon-modal", children: [(0, jsx_runtime_1.jsxs)("div", { children: ["Feature: ", featureName] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Timeline: ", timeline] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Learn More: ", learnMoreUrl] }), (0, jsx_runtime_1.jsx)("button", { onClick: onClose, children: "Close" })] }));
    };
});
/**
 * CampaignCard Component Tests
 *
 * Testing critical fundraising display component for the Bitcoin platform
 * Handles financial data, progress tracking, and campaign management actions
 */
const react_1 = __importDefault(require("react"));
const react_2 = require("@testing-library/react");
require("@testing-library/jest-dom");
const CampaignCard_1 = __importDefault(require("../CampaignCard"));
describe('ðŸ’³ CampaignCard Component - Bitcoin Fundraising Display', () => {
    // Test data for different campaign scenarios
    const activeCampaign = {
        id: 1,
        title: 'Bitcoin Education Initiative',
        type: 'Education',
        status: 'Active',
        raised: 150000,
        goal: 250000,
        supporters: 42,
        daysLeft: 15,
        progress: 60,
        color: 'bg-blue-100 text-blue-700'
    };
    const completedCampaign = {
        id: 2,
        title: 'Lightning Network Workshop',
        type: 'Technology',
        status: 'Completed',
        raised: 100000,
        goal: 100000,
        supporters: 28,
        daysLeft: 0,
        progress: 100,
        color: 'bg-green-100 text-green-700'
    };
    const draftCampaign = {
        id: 3,
        title: 'Bitcoin Community Meetup',
        type: 'Community',
        status: 'Draft',
        raised: 0,
        goal: 50000,
        supporters: 0,
        daysLeft: 30,
        progress: 0,
        color: 'bg-purple-100 text-purple-700'
    };
    describe('âœ… Basic Campaign Information Display', () => {
        test('should render campaign title correctly', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            expect(react_2.screen.getByText('Bitcoin Education Initiative')).toBeInTheDocument();
        });
        test('should display campaign type with correct styling', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            const typeElement = react_2.screen.getByText('Education');
            expect(typeElement).toBeInTheDocument();
            expect(typeElement).toHaveClass('bg-blue-100', 'text-blue-700');
        });
        test('should show handshake icon for campaigns', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            expect(react_2.screen.getByTestId('handshake-icon')).toBeInTheDocument();
        });
        test('should display campaign status with correct color coding', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            const statusElement = react_2.screen.getByText('Active');
            expect(statusElement).toBeInTheDocument();
            expect(statusElement).toHaveClass('bg-green-100', 'text-green-700');
        });
    });
    describe('ðŸ’° Financial Data Display - Critical for Bitcoin Platform', () => {
        test('should display raised amount in sats with proper formatting', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            expect(react_2.screen.getByText("150,000 sats")).toBeInTheDocument();
        });
        test('should display goal amount in sats with proper formatting', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            expect(react_2.screen.getByText("250,000 sats")).toBeInTheDocument();
        });
        test('should handle large amounts with proper locale formatting', () => {
            const largeCampaign = Object.assign(Object.assign({}, activeCampaign), { raised: 1500000, goal: 2000000 });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: largeCampaign }));
            expect(react_2.screen.getByText("1,500,000 sats")).toBeInTheDocument();
            expect(react_2.screen.getByText("2,000,000 sats")).toBeInTheDocument();
        });
        test('should display zero amounts correctly', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: draftCampaign }));
            expect(react_2.screen.getByText('0 sats')).toBeInTheDocument();
        });
        test('should show supporters count', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            expect(react_2.screen.getByText('42')).toBeInTheDocument();
        });
        test('should handle zero supporters', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: draftCampaign }));
            const supportersValue = react_2.screen.getAllByText('0').find(el => { var _a, _b; return (_b = (_a = el.closest('div')) === null || _a === void 0 ? void 0 : _a.textContent) === null || _b === void 0 ? void 0 : _b.includes('Supporters'); });
            expect(supportersValue).toBeInTheDocument();
        });
    });
    describe('ðŸ“Š Progress Tracking - Campaign Success Metrics', () => {
        test('should display progress percentage', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            expect(react_2.screen.getByText('60%')).toBeInTheDocument();
        });
        test('should render progress bar with correct width', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            const progressBar = document.querySelector('.bg-teal-600');
            expect(progressBar).toHaveStyle({ width: '60%' });
        });
        test('should handle 100% completion', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: completedCampaign }));
            expect(react_2.screen.getByText('100%')).toBeInTheDocument();
            const progressBar = document.querySelector('.bg-teal-600');
            expect(progressBar).toHaveStyle({ width: '100%' });
        });
        test('should handle 0% progress', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: draftCampaign }));
            expect(react_2.screen.getByText('0%')).toBeInTheDocument();
            const progressBar = document.querySelector('.bg-teal-600');
            expect(progressBar).toHaveStyle({ width: '0%' });
        });
        test('should show days left for active campaigns', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            expect(react_2.screen.getByText('15')).toBeInTheDocument();
        });
        test('should show "Completed" for finished campaigns', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: completedCampaign }));
            const statusElements = react_2.screen.getAllByText('Completed');
            expect(statusElements).toHaveLength(2); // Should appear in both status badge and days left
        });
    });
    describe('ðŸŽ¨ Status Color Coding - UX Enhancement', () => {
        test('should apply correct styling for Active status', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            const statusElement = react_2.screen.getByText('Active');
            expect(statusElement).toHaveClass('bg-green-100', 'text-green-700');
        });
        test('should apply correct styling for Completed status', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: completedCampaign }));
            const statusElements = react_2.screen.getAllByText('Completed');
            const statusElement = statusElements.find(el => el.className.includes('px-2 py-1'));
            expect(statusElement).toHaveClass('bg-blue-100', 'text-blue-700');
        });
        test('should apply correct styling for Draft status', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: draftCampaign }));
            const statusElement = react_2.screen.getByText('Draft');
            expect(statusElement).toHaveClass('bg-gray-100', 'text-gray-700');
        });
    });
    describe('ðŸ”„ Interactive Elements - Campaign Management', () => {
        test('should render Analytics button with icon', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            expect(react_2.screen.getByText('Analytics')).toBeInTheDocument();
            expect(react_2.screen.getByTestId('barchart-icon')).toBeInTheDocument();
        });
        test('should render Manage button with icon', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            expect(react_2.screen.getByText('Manage')).toBeInTheDocument();
            expect(react_2.screen.getByTestId('settings-icon')).toBeInTheDocument();
        });
        test('should open modal when Analytics button is clicked', async () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            const analyticsButton = react_2.screen.getByText('Analytics');
            react_2.fireEvent.click(analyticsButton);
            await (0, react_2.waitFor)(() => {
                expect(react_2.screen.getByTestId('coming-soon-modal')).toBeInTheDocument();
                expect(react_2.screen.getByText('Feature: Advanced Fundraising')).toBeInTheDocument();
                expect(react_2.screen.getByText('Timeline: Q1 2025')).toBeInTheDocument();
                expect(react_2.screen.getByText('Learn More: /fundraising')).toBeInTheDocument();
            });
        });
        test('should open modal when Manage button is clicked', async () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            const manageButton = react_2.screen.getByText('Manage');
            react_2.fireEvent.click(manageButton);
            await (0, react_2.waitFor)(() => {
                expect(react_2.screen.getByTestId('coming-soon-modal')).toBeInTheDocument();
            });
        });
        test('should close modal when close button is clicked', async () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            react_2.fireEvent.click(react_2.screen.getByText('Analytics'));
            await (0, react_2.waitFor)(() => {
                expect(react_2.screen.getByTestId('coming-soon-modal')).toBeInTheDocument();
            });
            react_2.fireEvent.click(react_2.screen.getByText('Close'));
            await (0, react_2.waitFor)(() => {
                expect(react_2.screen.queryByTestId('coming-soon-modal')).not.toBeInTheDocument();
            });
        });
    });
    describe('ðŸŽ¨ Visual Design & Animations', () => {
        test('should have hover shadow effect', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            const card = document.querySelector('.hover\\:shadow-md');
            expect(card).toBeInTheDocument();
            expect(card).toHaveClass('transition-shadow');
        });
        test('should have gradient background for icon', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            const iconContainer = document.querySelector('.bg-gradient-to-r');
            expect(iconContainer).toBeInTheDocument();
            expect(iconContainer).toHaveClass('from-teal-100', 'to-cyan-100');
        });
        test('should have progress bar animation classes', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            const progressBar = document.querySelector('.bg-teal-600');
            expect(progressBar).toHaveClass('transition-all', 'duration-300');
        });
    });
    describe('â™¿ Accessibility & Semantic Structure', () => {
        test('should have proper heading structure', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            const heading = react_2.screen.getByRole('heading', { level: 3 });
            expect(heading).toHaveTextContent('Bitcoin Education Initiative');
        });
        test('should have accessible button labels', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            expect(react_2.screen.getByRole('button', { name: /Analytics/ })).toBeInTheDocument();
            expect(react_2.screen.getByRole('button', { name: /Manage/ })).toBeInTheDocument();
        });
        test('should use semantic elements for data display', () => {
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: activeCampaign }));
            // Check that financial data is properly structured
            expect(react_2.screen.getByText('Raised')).toBeInTheDocument();
            expect(react_2.screen.getByText('Goal')).toBeInTheDocument();
            expect(react_2.screen.getByText('Supporters')).toBeInTheDocument();
            expect(react_2.screen.getByText('Progress')).toBeInTheDocument();
        });
    });
    describe('ðŸ’¼ Real-world Campaign Scenarios', () => {
        test('should handle new campaign (just started)', () => {
            const newCampaign = Object.assign(Object.assign({}, activeCampaign), { raised: 1000, progress: 1, supporters: 1 });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: newCampaign }));
            expect(react_2.screen.getByText("1,000 sats")).toBeInTheDocument();
            expect(react_2.screen.getByText('1%')).toBeInTheDocument();
            expect(react_2.screen.getByText('1')).toBeInTheDocument();
        });
        test('should handle nearly completed campaign', () => {
            const nearlyComplete = Object.assign(Object.assign({}, activeCampaign), { raised: 245000, progress: 98, daysLeft: 1 });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: nearlyComplete }));
            expect(react_2.screen.getByText('245,000 sats')).toBeInTheDocument();
            expect(react_2.screen.getByText('98%')).toBeInTheDocument();
            expect(react_2.screen.getByText('1')).toBeInTheDocument();
        });
        test('should handle overfunded campaign', () => {
            const overfunded = Object.assign(Object.assign({}, activeCampaign), { raised: 300000, progress: 120 });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: overfunded }));
            expect(react_2.screen.getByText('300,000 sats')).toBeInTheDocument();
            expect(react_2.screen.getByText('120%')).toBeInTheDocument();
        });
        test('should handle long campaign titles', () => {
            const longTitle = Object.assign(Object.assign({}, activeCampaign), { title: 'Very Long Campaign Title That Should Still Display Properly In The Card Layout' });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: longTitle }));
            expect(react_2.screen.getByText('Very Long Campaign Title That Should Still Display Properly In The Card Layout')).toBeInTheDocument();
        });
        test('should handle different campaign types', () => {
            const techCampaign = Object.assign(Object.assign({}, activeCampaign), { type: 'Technology', color: 'bg-purple-100 text-purple-700' });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: techCampaign }));
            const typeElement = react_2.screen.getByText('Technology');
            expect(typeElement).toHaveClass('bg-purple-100', 'text-purple-700');
        });
    });
    describe('ðŸ”§ Error Handling & Edge Cases', () => {
        test('should handle missing or undefined progress', () => {
            const noProg = Object.assign(Object.assign({}, activeCampaign), { progress: undefined });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: noProg }));
            // Should not crash and show 0% or handle gracefully
            const progressBar = document.querySelector('.bg-teal-600');
            expect(progressBar).toBeInTheDocument();
        });
        test('should handle negative days left', () => {
            const overdue = Object.assign(Object.assign({}, activeCampaign), { daysLeft: -5 });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: overdue }));
            expect(react_2.screen.getByText('Completed')).toBeInTheDocument();
        });
        test('should handle very large numbers', () => {
            const hugeCampaign = Object.assign(Object.assign({}, activeCampaign), { raised: 999999999, goal: 1000000000, supporters: 10000 });
            (0, react_2.render)((0, jsx_runtime_1.jsx)(CampaignCard_1.default, { campaign: hugeCampaign }));
            expect(react_2.screen.getByText('999,999,999 sats')).toBeInTheDocument();
            expect(react_2.screen.getByText('1,000,000,000 sats')).toBeInTheDocument();
            expect(react_2.screen.getByText('10,000')).toBeInTheDocument();
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvZy9kZXYvb3JhbmdlY2F0L3NyYy9jb21wb25lbnRzL2Rhc2hib2FyZC9fX3Rlc3RzX18vQ2FtcGFpZ25DYXJkLnRlc3QudHN4IiwibWFwcGluZ3MiOiI7Ozs7OztBQWFBLGlCQUFpQjtBQUNqQixJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQy9CLFNBQVMsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFPLEVBQUUsRUFBRSxDQUFDLCtDQUFpQixnQkFBZ0IsRUFBQyxTQUFTLEVBQUUsU0FBUyxHQUFJO0lBQzdGLEtBQUssRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFPLEVBQUUsRUFBRSxDQUFDLCtDQUFpQixZQUFZLEVBQUMsU0FBUyxFQUFFLFNBQVMsR0FBSTtJQUNyRixNQUFNLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBTyxFQUFFLEVBQUUsQ0FBQywrQ0FBaUIsYUFBYSxFQUFDLFNBQVMsRUFBRSxTQUFTLEdBQUk7SUFDdkYsUUFBUSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQU8sRUFBRSxFQUFFLENBQUMsK0NBQWlCLGVBQWUsRUFBQyxTQUFTLEVBQUUsU0FBUyxHQUFJO0lBQzNGLFNBQVMsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFPLEVBQUUsRUFBRSxDQUFDLCtDQUFpQixlQUFlLEVBQUMsU0FBUyxFQUFFLFNBQVMsR0FBSTtDQUM3RixDQUFDLENBQUMsQ0FBQztBQUVKLDJCQUEyQjtBQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLGlDQUFpQyxFQUFFLEdBQUcsRUFBRTtJQUNoRCxPQUFPLFNBQVMsbUJBQW1CLENBQUMsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFPO1FBQy9GLElBQUksQ0FBQyxNQUFNO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFDekIsT0FBTyxDQUNMLGdEQUFpQixtQkFBbUIsYUFDbEMseURBQWUsV0FBVyxJQUFPLEVBQ2pDLDBEQUFnQixRQUFRLElBQU8sRUFD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QUFNLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUM1RCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxrQ0FBa0MsRUFBRSxHQUFHLEVBQUU7WUFDNUMsTUFBTSxZQUFZLG1DQUNiLGNBQWMsS0FDakIsTUFBTSxFQUFFLFNBQVMsRUFDakIsSUFBSSxFQUFFLFVBQVUsRUFDaEIsVUFBVSxFQUFFLEtBQUssR0FDbEIsQ0FBQztZQUNGLElBQUEsY0FBTSxFQUFDLHVCQUFDLHNCQUFZLElBQUMsUUFBUSxFQUFFLFlBQVksR0FBSSxDQUFDLENBQUM7WUFFakQsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDakUsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDbkUsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3pELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9nL2Rldi9vcmFuZ2VjYXQvc3JjL2NvbXBvbmVudHMvZGFzaGJvYXJkL19fdGVzdHNfXy9DYW1wYWlnbkNhcmQudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDYW1wYWlnbkNhcmQgQ29tcG9uZW50IFRlc3RzXG4gKiBcbiAqIFRlc3RpbmcgY3JpdGljYWwgZnVuZHJhaXNpbmcgZGlzcGxheSBjb21wb25lbnQgZm9yIHRoZSBCaXRjb2luIHBsYXRmb3JtXG4gKiBIYW5kbGVzIGZpbmFuY2lhbCBkYXRhLCBwcm9ncmVzcyB0cmFja2luZywgYW5kIGNhbXBhaWduIG1hbmFnZW1lbnQgYWN0aW9uc1xuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgJ0B0ZXN0aW5nLWxpYnJhcnkvamVzdC1kb20nO1xuaW1wb3J0IENhbXBhaWduQ2FyZCBmcm9tICcuLi9DYW1wYWlnbkNhcmQnO1xuaW1wb3J0IHsgQ2FtcGFpZ25EYXRhIH0gZnJvbSAnQC9kYXRhL2Rhc2hib2FyZENvbmZpZ3MnO1xuXG4vLyBNb2NrIHRoZSBpY29uc1xuamVzdC5tb2NrKCdsdWNpZGUtcmVhY3QnLCAoKSA9PiAoe1xuICBIYW5kc2hha2U6ICh7IGNsYXNzTmFtZSB9OiBhbnkpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJoYW5kc2hha2UtaWNvblwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSAvPixcbiAgVXNlcnM6ICh7IGNsYXNzTmFtZSB9OiBhbnkpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJ1c2Vycy1pY29uXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9IC8+LFxuICBUYXJnZXQ6ICh7IGNsYXNzTmFtZSB9OiBhbnkpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJ0YXJnZXQtaWNvblwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSAvPixcbiAgU2V0dGluZ3M6ICh7IGNsYXNzTmFtZSB9OiBhbnkpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJzZXR0aW5ncy1pY29uXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9IC8+LFxuICBCYXJDaGFydDM6ICh7IGNsYXNzTmFtZSB9OiBhbnkpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJiYXJjaGFydC1pY29uXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9IC8+XG59KSk7XG5cbi8vIE1vY2sgdGhlIENvbWluZ1Nvb25Nb2RhbFxuamVzdC5tb2NrKCdAL2NvbXBvbmVudHMvdWkvQ29taW5nU29vbk1vZGFsJywgKCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gTW9ja0NvbWluZ1Nvb25Nb2RhbCh7IGlzT3Blbiwgb25DbG9zZSwgZmVhdHVyZU5hbWUsIHRpbWVsaW5lLCBsZWFybk1vcmVVcmwgfTogYW55KSB7XG4gICAgaWYgKCFpc09wZW4pIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiY29taW5nLXNvb24tbW9kYWxcIj5cbiAgICAgICAgPGRpdj5GZWF0dXJlOiB7ZmVhdHVyZU5hbWV9PC9kaXY+XG4gICAgICAgIDxkaXY+VGltZWxpbmU6IHt0aW1lbGluZX08L2Rpdj5cbiAgICAgICAgPGRpdj5MZWFybiBNb3JlOiB7bGVhcm5Nb3JlVXJsfTwvZGl2PlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9PkNsb3NlPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9O1xufSk7XG5cbmRlc2NyaWJlKCfwn5KzIENhbXBhaWduQ2FyZCBDb21wb25lbnQgLSBCaXRjb2luIEZ1bmRyYWlzaW5nIERpc3BsYXknLCAoKSA9PiB7XG4gIC8vIFRlc3QgZGF0YSBmb3IgZGlmZmVyZW50IGNhbXBhaWduIHNjZW5hcmlvc1xuICBjb25zdCBhY3RpdmVDYW1wYWlnbjogQ2FtcGFpZ25EYXRhID0ge1xuICAgIGlkOiAxLFxuICAgIHRpdGxlOiAnQml0Y29pbiBFZHVjYXRpb24gSW5pdGlhdGl2ZScsXG4gICAgdHlwZTogJ0VkdWNhdGlvbicsXG4gICAgc3RhdHVzOiAnQWN0aXZlJyxcbiAgICByYWlzZWQ6IDE1MDAwMCxcbiAgICBnb2FsOiAyNTAwMDAsXG4gICAgc3VwcG9ydGVyczogNDIsXG4gICAgZGF5c0xlZnQ6IDE1LFxuICAgIHByb2dyZXNzOiA2MCxcbiAgICBjb2xvcjogJ2JnLWJsdWUtMTAwIHRleHQtYmx1ZS03MDAnXG4gIH07XG5cbiAgY29uc3QgY29tcGxldGVkQ2FtcGFpZ246IENhbXBhaWduRGF0YSA9IHtcbiAgICBpZDogMixcbiAgICB0aXRsZTogJ0xpZ2h0bmluZyBOZXR3b3JrIFdvcmtzaG9wJyxcbiAgICB0eXBlOiAnVGVjaG5vbG9neScsXG4gICAgc3RhdHVzOiAnQ29tcGxldGVkJyxcbiAgICByYWlzZWQ6IDEwMDAwMCxcbiAgICBnb2FsOiAxMDAwMDAsXG4gICAgc3VwcG9ydGVyczogMjgsXG4gICAgZGF5c0xlZnQ6IDAsXG4gICAgcHJvZ3Jlc3M6IDEwMCxcbiAgICBjb2xvcjogJ2JnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTcwMCdcbiAgfTtcblxuICBjb25zdCBkcmFmdENhbXBhaWduOiBDYW1wYWlnbkRhdGEgPSB7XG4gICAgaWQ6IDMsXG4gICAgdGl0bGU6ICdCaXRjb2luIENvbW11bml0eSBNZWV0dXAnLFxuICAgIHR5cGU6ICdDb21tdW5pdHknLFxuICAgIHN0YXR1czogJ0RyYWZ0JyxcbiAgICByYWlzZWQ6IDAsXG4gICAgZ29hbDogNTAwMDAsXG4gICAgc3VwcG9ydGVyczogMCxcbiAgICBkYXlzTGVmdDogMzAsXG4gICAgcHJvZ3Jlc3M6IDAsXG4gICAgY29sb3I6ICdiZy1wdXJwbGUtMTAwIHRleHQtcHVycGxlLTcwMCdcbiAgfTtcblxuICBkZXNjcmliZSgn4pyFIEJhc2ljIENhbXBhaWduIEluZm9ybWF0aW9uIERpc3BsYXknLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHJlbmRlciBjYW1wYWlnbiB0aXRsZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPENhbXBhaWduQ2FyZCBjYW1wYWlnbj17YWN0aXZlQ2FtcGFpZ259IC8+KTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdCaXRjb2luIEVkdWNhdGlvbiBJbml0aWF0aXZlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgZGlzcGxheSBjYW1wYWlnbiB0eXBlIHdpdGggY29ycmVjdCBzdHlsaW5nJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxDYW1wYWlnbkNhcmQgY2FtcGFpZ249e2FjdGl2ZUNhbXBhaWdufSAvPik7XG4gICAgICBjb25zdCB0eXBlRWxlbWVudCA9IHNjcmVlbi5nZXRCeVRleHQoJ0VkdWNhdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVFbGVtZW50KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHR5cGVFbGVtZW50KS50b0hhdmVDbGFzcygnYmctYmx1ZS0xMDAnLCAndGV4dC1ibHVlLTcwMCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHNob3cgaGFuZHNoYWtlIGljb24gZm9yIGNhbXBhaWducycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2FtcGFpZ25DYXJkIGNhbXBhaWduPXthY3RpdmVDYW1wYWlnbn0gLz4pO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnaGFuZHNoYWtlLWljb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBkaXNwbGF5IGNhbXBhaWduIHN0YXR1cyB3aXRoIGNvcnJlY3QgY29sb3IgY29kaW5nJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxDYW1wYWlnbkNhcmQgY2FtcGFpZ249e2FjdGl2ZUNhbXBhaWdufSAvPik7XG4gICAgICBjb25zdCBzdGF0dXNFbGVtZW50ID0gc2NyZWVuLmdldEJ5VGV4dCgnQWN0aXZlJyk7XG4gICAgICBleHBlY3Qoc3RhdHVzRWxlbWVudCkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzdGF0dXNFbGVtZW50KS50b0hhdmVDbGFzcygnYmctZ3JlZW4tMTAwJywgJ3RleHQtZ3JlZW4tNzAwJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfwn5KwIEZpbmFuY2lhbCBEYXRhIERpc3BsYXkgLSBDcml0aWNhbCBmb3IgQml0Y29pbiBQbGF0Zm9ybScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgZGlzcGxheSByYWlzZWQgYW1vdW50IGluIHNhdHMgd2l0aCBwcm9wZXIgZm9ybWF0dGluZycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2FtcGFpZ25DYXJkIGNhbXBhaWduPXthY3RpdmVDYW1wYWlnbn0gLz4pO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoXCIxNTAsMDAwIHNhdHNcIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgZGlzcGxheSBnb2FsIGFtb3VudCBpbiBzYXRzIHdpdGggcHJvcGVyIGZvcm1hdHRpbmcnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPENhbXBhaWduQ2FyZCBjYW1wYWlnbj17YWN0aXZlQ2FtcGFpZ259IC8+KTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KFwiMjUwLDAwMCBzYXRzXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSBhbW91bnRzIHdpdGggcHJvcGVyIGxvY2FsZSBmb3JtYXR0aW5nJywgKCkgPT4ge1xuICAgICAgY29uc3QgbGFyZ2VDYW1wYWlnbiA9IHsgLi4uYWN0aXZlQ2FtcGFpZ24sIHJhaXNlZDogMTUwMDAwMCwgZ29hbDogMjAwMDAwMCB9O1xuICAgICAgcmVuZGVyKDxDYW1wYWlnbkNhcmQgY2FtcGFpZ249e2xhcmdlQ2FtcGFpZ259IC8+KTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KFwiMSw1MDAsMDAwIHNhdHNcIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChcIjIsMDAwLDAwMCBzYXRzXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGRpc3BsYXkgemVybyBhbW91bnRzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2FtcGFpZ25DYXJkIGNhbXBhaWduPXtkcmFmdENhbXBhaWdufSAvPik7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnMCBzYXRzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgc2hvdyBzdXBwb3J0ZXJzIGNvdW50JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxDYW1wYWlnbkNhcmQgY2FtcGFpZ249e2FjdGl2ZUNhbXBhaWdufSAvPik7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnNDInKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgemVybyBzdXBwb3J0ZXJzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxDYW1wYWlnbkNhcmQgY2FtcGFpZ249e2RyYWZ0Q2FtcGFpZ259IC8+KTtcbiAgICAgIGNvbnN0IHN1cHBvcnRlcnNWYWx1ZSA9IHNjcmVlbi5nZXRBbGxCeVRleHQoJzAnKS5maW5kKGVsID0+IFxuICAgICAgICBlbC5jbG9zZXN0KCdkaXYnKT8udGV4dENvbnRlbnQ/LmluY2x1ZGVzKCdTdXBwb3J0ZXJzJylcbiAgICAgICk7XG4gICAgICBleHBlY3Qoc3VwcG9ydGVyc1ZhbHVlKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn8J+TiiBQcm9ncmVzcyBUcmFja2luZyAtIENhbXBhaWduIFN1Y2Nlc3MgTWV0cmljcycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgZGlzcGxheSBwcm9ncmVzcyBwZXJjZW50YWdlJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxDYW1wYWlnbkNhcmQgY2FtcGFpZ249e2FjdGl2ZUNhbXBhaWdufSAvPik7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnNjAlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmVuZGVyIHByb2dyZXNzIGJhciB3aXRoIGNvcnJlY3Qgd2lkdGgnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPENhbXBhaWduQ2FyZCBjYW1wYWlnbj17YWN0aXZlQ2FtcGFpZ259IC8+KTtcbiAgICAgIGNvbnN0IHByb2dyZXNzQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJnLXRlYWwtNjAwJyk7XG4gICAgICBleHBlY3QocHJvZ3Jlc3NCYXIpLnRvSGF2ZVN0eWxlKHsgd2lkdGg6ICc2MCUnIH0pO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSAxMDAlIGNvbXBsZXRpb24nLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPENhbXBhaWduQ2FyZCBjYW1wYWlnbj17Y29tcGxldGVkQ2FtcGFpZ259IC8+KTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcxMDAlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBjb25zdCBwcm9ncmVzc0JhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iZy10ZWFsLTYwMCcpO1xuICAgICAgZXhwZWN0KHByb2dyZXNzQmFyKS50b0hhdmVTdHlsZSh7IHdpZHRoOiAnMTAwJScgfSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIDAlIHByb2dyZXNzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxDYW1wYWlnbkNhcmQgY2FtcGFpZ249e2RyYWZ0Q2FtcGFpZ259IC8+KTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcwJScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgY29uc3QgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmctdGVhbC02MDAnKTtcbiAgICAgIGV4cGVjdChwcm9ncmVzc0JhcikudG9IYXZlU3R5bGUoeyB3aWR0aDogJzAlJyB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBzaG93IGRheXMgbGVmdCBmb3IgYWN0aXZlIGNhbXBhaWducycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2FtcGFpZ25DYXJkIGNhbXBhaWduPXthY3RpdmVDYW1wYWlnbn0gLz4pO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzE1JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgc2hvdyBcIkNvbXBsZXRlZFwiIGZvciBmaW5pc2hlZCBjYW1wYWlnbnMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPENhbXBhaWduQ2FyZCBjYW1wYWlnbj17Y29tcGxldGVkQ2FtcGFpZ259IC8+KTtcbiAgICAgIGNvbnN0IHN0YXR1c0VsZW1lbnRzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnQ29tcGxldGVkJyk7XG4gICAgICBleHBlY3Qoc3RhdHVzRWxlbWVudHMpLnRvSGF2ZUxlbmd0aCgyKTsgLy8gU2hvdWxkIGFwcGVhciBpbiBib3RoIHN0YXR1cyBiYWRnZSBhbmQgZGF5cyBsZWZ0XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfwn46oIFN0YXR1cyBDb2xvciBDb2RpbmcgLSBVWCBFbmhhbmNlbWVudCcsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgYXBwbHkgY29ycmVjdCBzdHlsaW5nIGZvciBBY3RpdmUgc3RhdHVzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxDYW1wYWlnbkNhcmQgY2FtcGFpZ249e2FjdGl2ZUNhbXBhaWdufSAvPik7XG4gICAgICBjb25zdCBzdGF0dXNFbGVtZW50ID0gc2NyZWVuLmdldEJ5VGV4dCgnQWN0aXZlJyk7XG4gICAgICBleHBlY3Qoc3RhdHVzRWxlbWVudCkudG9IYXZlQ2xhc3MoJ2JnLWdyZWVuLTEwMCcsICd0ZXh0LWdyZWVuLTcwMCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGFwcGx5IGNvcnJlY3Qgc3R5bGluZyBmb3IgQ29tcGxldGVkIHN0YXR1cycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2FtcGFpZ25DYXJkIGNhbXBhaWduPXtjb21wbGV0ZWRDYW1wYWlnbn0gLz4pO1xuICAgICAgY29uc3Qgc3RhdHVzRWxlbWVudHMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KCdDb21wbGV0ZWQnKTtcbiAgICAgIGNvbnN0IHN0YXR1c0VsZW1lbnQgPSBzdGF0dXNFbGVtZW50cy5maW5kKGVsID0+IGVsLmNsYXNzTmFtZS5pbmNsdWRlcygncHgtMiBweS0xJykpO1xuICAgICAgZXhwZWN0KHN0YXR1c0VsZW1lbnQpLnRvSGF2ZUNsYXNzKCdiZy1ibHVlLTEwMCcsICd0ZXh0LWJsdWUtNzAwJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgYXBwbHkgY29ycmVjdCBzdHlsaW5nIGZvciBEcmFmdCBzdGF0dXMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPENhbXBhaWduQ2FyZCBjYW1wYWlnbj17ZHJhZnRDYW1wYWlnbn0gLz4pO1xuICAgICAgY29uc3Qgc3RhdHVzRWxlbWVudCA9IHNjcmVlbi5nZXRCeVRleHQoJ0RyYWZ0Jyk7XG4gICAgICBleHBlY3Qoc3RhdHVzRWxlbWVudCkudG9IYXZlQ2xhc3MoJ2JnLWdyYXktMTAwJywgJ3RleHQtZ3JheS03MDAnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ/CflIQgSW50ZXJhY3RpdmUgRWxlbWVudHMgLSBDYW1wYWlnbiBNYW5hZ2VtZW50JywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCByZW5kZXIgQW5hbHl0aWNzIGJ1dHRvbiB3aXRoIGljb24nLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPENhbXBhaWduQ2FyZCBjYW1wYWlnbj17YWN0aXZlQ2FtcGFpZ259IC8+KTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBbmFseXRpY3MnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2JhcmNoYXJ0LWljb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZW5kZXIgTWFuYWdlIGJ1dHRvbiB3aXRoIGljb24nLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPENhbXBhaWduQ2FyZCBjYW1wYWlnbj17YWN0aXZlQ2FtcGFpZ259IC8+KTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdNYW5hZ2UnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NldHRpbmdzLWljb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBvcGVuIG1vZGFsIHdoZW4gQW5hbHl0aWNzIGJ1dHRvbiBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxDYW1wYWlnbkNhcmQgY2FtcGFpZ249e2FjdGl2ZUNhbXBhaWdufSAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGFuYWx5dGljc0J1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0FuYWx5dGljcycpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGFuYWx5dGljc0J1dHRvbik7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjb21pbmctc29vbi1tb2RhbCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRmVhdHVyZTogQWR2YW5jZWQgRnVuZHJhaXNpbmcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1RpbWVsaW5lOiBRMSAyMDI1JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMZWFybiBNb3JlOiAvZnVuZHJhaXNpbmcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG9wZW4gbW9kYWwgd2hlbiBNYW5hZ2UgYnV0dG9uIGlzIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPENhbXBhaWduQ2FyZCBjYW1wYWlnbj17YWN0aXZlQ2FtcGFpZ259IC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgbWFuYWdlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnTWFuYWdlJyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWFuYWdlQnV0dG9uKTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2NvbWluZy1zb29uLW1vZGFsJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBjbG9zZSBtb2RhbCB3aGVuIGNsb3NlIGJ1dHRvbiBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxDYW1wYWlnbkNhcmQgY2FtcGFpZ249e2FjdGl2ZUNhbXBhaWdufSAvPik7XG4gICAgICBcbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdBbmFseXRpY3MnKSk7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjb21pbmctc29vbi1tb2RhbCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdDbG9zZScpKTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRlc3RJZCgnY29taW5nLXNvb24tbW9kYWwnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ/CfjqggVmlzdWFsIERlc2lnbiAmIEFuaW1hdGlvbnMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgaG92ZXIgc2hhZG93IGVmZmVjdCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2FtcGFpZ25DYXJkIGNhbXBhaWduPXthY3RpdmVDYW1wYWlnbn0gLz4pO1xuICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob3ZlclxcXFw6c2hhZG93LW1kJyk7XG4gICAgICBleHBlY3QoY2FyZCkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChjYXJkKS50b0hhdmVDbGFzcygndHJhbnNpdGlvbi1zaGFkb3cnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIGdyYWRpZW50IGJhY2tncm91bmQgZm9yIGljb24nLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPENhbXBhaWduQ2FyZCBjYW1wYWlnbj17YWN0aXZlQ2FtcGFpZ259IC8+KTtcbiAgICAgIGNvbnN0IGljb25Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmctZ3JhZGllbnQtdG8tcicpO1xuICAgICAgZXhwZWN0KGljb25Db250YWluZXIpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QoaWNvbkNvbnRhaW5lcikudG9IYXZlQ2xhc3MoJ2Zyb20tdGVhbC0xMDAnLCAndG8tY3lhbi0xMDAnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIHByb2dyZXNzIGJhciBhbmltYXRpb24gY2xhc3NlcycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2FtcGFpZ25DYXJkIGNhbXBhaWduPXthY3RpdmVDYW1wYWlnbn0gLz4pO1xuICAgICAgY29uc3QgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmctdGVhbC02MDAnKTtcbiAgICAgIGV4cGVjdChwcm9ncmVzc0JhcikudG9IYXZlQ2xhc3MoJ3RyYW5zaXRpb24tYWxsJywgJ2R1cmF0aW9uLTMwMCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn4pm/IEFjY2Vzc2liaWxpdHkgJiBTZW1hbnRpYyBTdHJ1Y3R1cmUnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgcHJvcGVyIGhlYWRpbmcgc3RydWN0dXJlJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxDYW1wYWlnbkNhcmQgY2FtcGFpZ249e2FjdGl2ZUNhbXBhaWdufSAvPik7XG4gICAgICBjb25zdCBoZWFkaW5nID0gc2NyZWVuLmdldEJ5Um9sZSgnaGVhZGluZycsIHsgbGV2ZWw6IDMgfSk7XG4gICAgICBleHBlY3QoaGVhZGluZykudG9IYXZlVGV4dENvbnRlbnQoJ0JpdGNvaW4gRWR1Y2F0aW9uIEluaXRpYXRpdmUnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIGFjY2Vzc2libGUgYnV0dG9uIGxhYmVscycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2FtcGFpZ25DYXJkIGNhbXBhaWduPXthY3RpdmVDYW1wYWlnbn0gLz4pO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL0FuYWx5dGljcy8gfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvTWFuYWdlLyB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB1c2Ugc2VtYW50aWMgZWxlbWVudHMgZm9yIGRhdGEgZGlzcGxheScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2FtcGFpZ25DYXJkIGNhbXBhaWduPXthY3RpdmVDYW1wYWlnbn0gLz4pO1xuICAgICAgXG4gICAgICAvLyBDaGVjayB0aGF0IGZpbmFuY2lhbCBkYXRhIGlzIHByb3Blcmx5IHN0cnVjdHVyZWRcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdSYWlzZWQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHb2FsJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU3VwcG9ydGVycycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Byb2dyZXNzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfwn5K8IFJlYWwtd29ybGQgQ2FtcGFpZ24gU2NlbmFyaW9zJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbmV3IGNhbXBhaWduIChqdXN0IHN0YXJ0ZWQpJywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV3Q2FtcGFpZ24gPSB7IC4uLmFjdGl2ZUNhbXBhaWduLCByYWlzZWQ6IDEwMDAsIHByb2dyZXNzOiAxLCBzdXBwb3J0ZXJzOiAxIH07XG4gICAgICByZW5kZXIoPENhbXBhaWduQ2FyZCBjYW1wYWlnbj17bmV3Q2FtcGFpZ259IC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoXCIxLDAwMCBzYXRzXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzElJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBuZWFybHkgY29tcGxldGVkIGNhbXBhaWduJywgKCkgPT4ge1xuICAgICAgY29uc3QgbmVhcmx5Q29tcGxldGUgPSB7IC4uLmFjdGl2ZUNhbXBhaWduLCByYWlzZWQ6IDI0NTAwMCwgcHJvZ3Jlc3M6IDk4LCBkYXlzTGVmdDogMSB9O1xuICAgICAgcmVuZGVyKDxDYW1wYWlnbkNhcmQgY2FtcGFpZ249e25lYXJseUNvbXBsZXRlfSAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcyNDUsMDAwIHNhdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCc5OCUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcxJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIG92ZXJmdW5kZWQgY2FtcGFpZ24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBvdmVyZnVuZGVkID0geyAuLi5hY3RpdmVDYW1wYWlnbiwgcmFpc2VkOiAzMDAwMDAsIHByb2dyZXNzOiAxMjAgfTtcbiAgICAgIHJlbmRlcig8Q2FtcGFpZ25DYXJkIGNhbXBhaWduPXtvdmVyZnVuZGVkfSAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCczMDAsMDAwIHNhdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcxMjAlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGxvbmcgY2FtcGFpZ24gdGl0bGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbG9uZ1RpdGxlID0geyBcbiAgICAgICAgLi4uYWN0aXZlQ2FtcGFpZ24sIFxuICAgICAgICB0aXRsZTogJ1ZlcnkgTG9uZyBDYW1wYWlnbiBUaXRsZSBUaGF0IFNob3VsZCBTdGlsbCBEaXNwbGF5IFByb3Blcmx5IEluIFRoZSBDYXJkIExheW91dCcgXG4gICAgICB9O1xuICAgICAgcmVuZGVyKDxDYW1wYWlnbkNhcmQgY2FtcGFpZ249e2xvbmdUaXRsZX0gLz4pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVmVyeSBMb25nIENhbXBhaWduIFRpdGxlIFRoYXQgU2hvdWxkIFN0aWxsIERpc3BsYXkgUHJvcGVybHkgSW4gVGhlIENhcmQgTGF5b3V0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGRpZmZlcmVudCBjYW1wYWlnbiB0eXBlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlY2hDYW1wYWlnbiA9IHsgLi4uYWN0aXZlQ2FtcGFpZ24sIHR5cGU6ICdUZWNobm9sb2d5JywgY29sb3I6ICdiZy1wdXJwbGUtMTAwIHRleHQtcHVycGxlLTcwMCcgfTtcbiAgICAgIHJlbmRlcig8Q2FtcGFpZ25DYXJkIGNhbXBhaWduPXt0ZWNoQ2FtcGFpZ259IC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgdHlwZUVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlUZXh0KCdUZWNobm9sb2d5Jyk7XG4gICAgICBleHBlY3QodHlwZUVsZW1lbnQpLnRvSGF2ZUNsYXNzKCdiZy1wdXJwbGUtMTAwJywgJ3RleHQtcHVycGxlLTcwMCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn8J+UpyBFcnJvciBIYW5kbGluZyAmIEVkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIG9yIHVuZGVmaW5lZCBwcm9ncmVzcycsICgpID0+IHtcbiAgICAgIGNvbnN0IG5vUHJvZyA9IHsgLi4uYWN0aXZlQ2FtcGFpZ24sIHByb2dyZXNzOiB1bmRlZmluZWQgYXMgYW55IH07XG4gICAgICByZW5kZXIoPENhbXBhaWduQ2FyZCBjYW1wYWlnbj17bm9Qcm9nfSAvPik7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBub3QgY3Jhc2ggYW5kIHNob3cgMCUgb3IgaGFuZGxlIGdyYWNlZnVsbHlcbiAgICAgIGNvbnN0IHByb2dyZXNzQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJnLXRlYWwtNjAwJyk7XG4gICAgICBleHBlY3QocHJvZ3Jlc3NCYXIpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIG5lZ2F0aXZlIGRheXMgbGVmdCcsICgpID0+IHtcbiAgICAgIGNvbnN0IG92ZXJkdWUgPSB7IC4uLmFjdGl2ZUNhbXBhaWduLCBkYXlzTGVmdDogLTUgfTtcbiAgICAgIHJlbmRlcig8Q2FtcGFpZ25DYXJkIGNhbXBhaWduPXtvdmVyZHVlfSAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDb21wbGV0ZWQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgdmVyeSBsYXJnZSBudW1iZXJzJywgKCkgPT4ge1xuICAgICAgY29uc3QgaHVnZUNhbXBhaWduID0geyBcbiAgICAgICAgLi4uYWN0aXZlQ2FtcGFpZ24sIFxuICAgICAgICByYWlzZWQ6IDk5OTk5OTk5OSwgXG4gICAgICAgIGdvYWw6IDEwMDAwMDAwMDAsXG4gICAgICAgIHN1cHBvcnRlcnM6IDEwMDAwIFxuICAgICAgfTtcbiAgICAgIHJlbmRlcig8Q2FtcGFpZ25DYXJkIGNhbXBhaWduPXtodWdlQ2FtcGFpZ259IC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzk5OSw5OTksOTk5IHNhdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcxLDAwMCwwMDAsMDAwIHNhdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcxMCwwMDAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG59KTsgIl0sInZlcnNpb24iOjN9