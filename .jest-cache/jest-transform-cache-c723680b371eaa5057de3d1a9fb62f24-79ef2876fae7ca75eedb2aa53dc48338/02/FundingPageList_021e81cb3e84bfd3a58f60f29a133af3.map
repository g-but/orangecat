{"version":3,"names":["cov_1boyqe3e0j","actualCoverage","exports","default","FundingPageList","react_1","s","require","navigation_1","Card_1","__importDefault","Button_1","lucide_react_1","client_1","useAuth_1","sonner_1","bitcoin_1","link_1","f","router","useRouter","user","useAuth","pages","setPages","useState","loading","setLoading","error","setError","loadPagesWithBalances","useCallback","b","data","fetchedPages","fetchError","from","select","eq","id","order","ascending","pagesWithBalances","Promise","all","map","page","balanceValue","undefined","bitcoin_address","walletData","fetchBitcoinWalletData","balance","balanceError","Object","assign","current_balance","err","toast","useEffect","handleToggleStatus","pageId","isActive","update","is_active","p","success","handleToggleVisibility","isPublic","is_public","handleDeletePage","confirm","delete","filter","length","jsx_runtime_1","jsx","className","children","jsxs","href","Plus","title","toFixed","variant","size","onClick","EyeOff","Eye","push","Edit2","Trash2","passHref","legacyBehavior","target","rel","Share2","description","Bitcoin","total_funding","Users","contributor_count"],"sources":["/home/g/dev/orangecat/src/components/funding/FundingPageList.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useCallback } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Card from '@/components/ui/Card'\nimport Button from '@/components/ui/Button'\nimport { Plus, Share2, Users, Edit2, Trash2, Eye, EyeOff, Bitcoin as BitcoinIcon } from 'lucide-react'\nimport supabase from '@/services/supabase/client'\nimport { useAuth } from '@/hooks/useAuth'\nimport { toast } from 'sonner'\nimport { fetchBitcoinWalletData } from '@/services/bitcoin'\nimport Link from 'next/link'\n\ninterface PageData {\n  id: string;\n  title: string;\n  description: string;\n  bitcoin_address: string;\n  is_active: boolean;\n  is_public: boolean;\n  total_funding: number;\n  contributor_count: number;\n  created_at: string;\n  updated_at: string;\n  current_balance?: number;\n  user_id?: string;\n}\n\nexport default function FundingPageList() {\n  const router = useRouter()\n  const { user } = useAuth()\n  const [pages, setPages] = useState<PageData[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  const loadPagesWithBalances = useCallback(async () => {\n    if (!user) return;\n    try {\n      setLoading(true);\n      const { data: fetchedPages, error: fetchError } = await supabase\n        .from('funding_pages')\n        .select('*')\n        .eq('user_id', user.id)\n        .order('created_at', { ascending: false });\n\n      if (fetchError) throw fetchError;\n\n      if (fetchedPages) {\n        const pagesWithBalances = await Promise.all(\n          fetchedPages.map(async (page: PageData) => {\n            let balanceValue: number | undefined = undefined;\n            if (page.bitcoin_address) {\n              try {\n                const walletData = await fetchBitcoinWalletData(page.bitcoin_address);\n                balanceValue = walletData?.balance; \n              } catch (balanceError) {\n              }\n            }\n            return { ...page, current_balance: balanceValue };\n          })\n        );\n        setPages(pagesWithBalances);\n      }\n\n    } catch (err) {\n      setError('Failed to load funding pages');\n      toast.error('Failed to load funding pages');\n    } finally {\n      setLoading(false);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (user) {\n      loadPagesWithBalances();\n    }\n  }, [user, loadPagesWithBalances]);\n\n  const handleToggleStatus = async (pageId: string, isActive: boolean) => {\n    try {\n      const { error } = await supabase\n        .from('funding_pages')\n        .update({ is_active: !isActive })\n        .eq('id', pageId);\n      if (error) throw error;\n      setPages(pages.map(p => p.id === pageId ? { ...p, is_active: !isActive } : p));\n      toast.success(`Page ${isActive ? 'deactivated' : 'activated'}`);\n    } catch (err) {\n      toast.error('Failed to update page status');\n    }\n  };\n\n  const handleToggleVisibility = async (pageId: string, isPublic: boolean) => {\n    try {\n      const { error } = await supabase\n        .from('funding_pages')\n        .update({ is_public: !isPublic })\n        .eq('id', pageId);\n      if (error) throw error;\n      setPages(pages.map(p => p.id === pageId ? { ...p, is_public: !isPublic } : p));\n      toast.success(`Page visibility ${isPublic ? 'set to private' : 'set to public'}`);\n    } catch (err) {\n      toast.error('Failed to update page visibility');\n    }\n  };\n  \n  const handleDeletePage = async (pageId: string) => {\n    if (!confirm('Are you sure you want to delete this page? This action cannot be undone.')) return;\n    try {\n      const { error } = await supabase.from('funding_pages').delete().eq('id', pageId);\n      if (error) throw error;\n      setPages(pages.filter(p => p.id !== pageId));\n      toast.success('Page deleted successfully');\n    } catch (err) {\n      toast.error('Failed to delete page');\n    }\n  };\n\n  if (loading && pages.length === 0) {\n    return (\n      <div className=\"flex justify-center items-center min-h-[400px]\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex justify-center items-center min-h-[400px]\">\n        <div className=\"text-center text-red-500 p-4\">\n          {error}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto py-8\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-semibold\">Your Funding Pages</h2>\n        <Link href=\"/dashboard/pages/new\">\n          <Button>\n            <Plus className=\"w-5 h-5 mr-2\" />\n            Create New Page\n          </Button>\n        </Link>\n      </div>\n\n      {pages.length === 0 && !loading ? (\n        <div className=\"text-center py-12\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No funding pages yet</h3>\n          <p className=\"text-gray-500 mb-6\">Create your first funding page to start accepting Bitcoin donations.</p>\n          <Link href=\"/dashboard/pages/new\">\n            <Button>\n              <Plus className=\"w-5 h-5 mr-2\" />\n              Create Your First Page\n            </Button>\n          </Link>\n        </div>\n      ) : (\n        <div className=\"space-y-6\">\n          {pages.map((page) => (\n            <Card key={page.id} className=\"p-6 hover:shadow-lg transition-shadow duration-200\">\n              <div className=\"flex flex-col sm:flex-row justify-between items-start mb-4\">\n                <div className=\"flex-grow\">\n                  <h3 className=\"text-xl font-semibold mb-1\">{page.title}</h3>\n                  <p className=\"text-sm text-gray-500 mb-1 break-all\">{page.bitcoin_address}</p>\n                   {page.current_balance !== undefined ? (\n                    <p className=\"text-sm text-green-600 font-medium\">\n                      Live Balance: {page.current_balance.toFixed(8)} BTC\n                    </p>\n                  ) : (\n                    <p className=\"text-sm text-gray-400\">Fetching balance...</p>\n                  )}\n                </div>\n                <div className=\"flex items-center space-x-2 mt-3 sm:mt-0 flex-wrap\">\n                  <Button variant={page.is_active ? \"outline\" : \"secondary\"} size=\"sm\" onClick={() => handleToggleStatus(page.id, page.is_active)} className=\"text-xs px-2 py-1\">\n                    {page.is_active ? <EyeOff className=\"w-3 h-3 mr-1\" /> : <Eye className=\"w-3 h-3 mr-1\" />} {page.is_active ? 'Deactivate' : 'Activate'}\n                  </Button>\n                  <Button variant={page.is_public ? \"outline\" : \"secondary\"} size=\"sm\" onClick={() => handleToggleVisibility(page.id, page.is_public)} className=\"text-xs px-2 py-1\">\n                    {page.is_public ? <EyeOff className=\"w-3 h-3 mr-1\" /> : <Eye className=\"w-3 h-3 mr-1\" />} {page.is_public ? 'Make Private' : 'Make Public'}\n                  </Button>\n                  <Button variant=\"outline\" size=\"sm\" onClick={() => router.push(`/dashboard/pages/${page.id}/edit`)} className=\"text-xs px-2 py-1\">\n                    <Edit2 className=\"w-3 h-3 mr-1\" /> Edit\n                  </Button>\n                   <Button variant=\"danger\" size=\"sm\" onClick={() => handleDeletePage(page.id)} className=\"text-xs px-2 py-1\">\n                    <Trash2 className=\"w-3 h-3 mr-1\" /> Delete\n                  </Button>\n                  <Link href={`/fund-us/${page.id}`} passHref legacyBehavior>\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" className=\"inline-block\">\n                      <Button variant=\"ghost\" size=\"sm\" className=\"text-xs px-2 py-1\">\n                         <Share2 className=\"w-3 h-3 mr-1\" /> View Public\n                      </Button>\n                    </a>\n                  </Link>\n                </div>\n              </div>\n              <p className=\"text-gray-600 mb-4 line-clamp-3\">{page.description}</p>\n              <div className=\"flex items-center justify-between text-sm text-gray-500 border-t pt-4 mt-4\">\n                <div className=\"flex items-center\">\n                  <BitcoinIcon className=\"w-4 h-4 mr-1 text-yellow-500\" /> \n                  <span>Total Confirmed (DB): {(page.total_funding || 0).toFixed(8)} BTC</span>\n                </div>\n                <div className=\"flex items-center\">\n                  <Users className=\"w-4 h-4 mr-1\" />\n                  <span>{page.contributor_count || 0} contributors</span>\n                </div>\n              </div>\n            </Card>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n} "],"mappings":"AAAA,YAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}